(this["webpackJsonptw-bp"]=this["webpackJsonptw-bp"]||[]).push([[0],{131:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(122),s=n.n(c),i=(n(131),n(9)),o=n(12),l=n(16),u=n(292),d=n(45),j=n(123),p=Object(r.createContext)(),b=n(0);function m(e){var t=e.theme,n=e.changeTheme,r=e.children;return Object(b.jsx)(p.Provider,{value:{theme:t,switchTheme:n},children:r})}var h=Object(r.createContext)(),x=n(4),f=n.n(x),O=n(7);function v(e){return g.apply(this,arguments)}function g(){return(g=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/auth/signup"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1"),{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return k.apply(this,arguments)}function k(){return(k=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/auth/signout"),{method:"POST",headers:{"content-type":"application/json"},credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return(S=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/auth/signin"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){var t=e.children,n=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:if(!(n=e.sent).error){e.next=6;break}return e.abrupt("return",n);case 6:return a(n.user),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{postError:"failed to post"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:return n=e.sent,a(n.user),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{postError:"failed to post"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:return t=e.sent,a(null),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0);case 10:a(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a(t.user);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{user:n,signUp:c,signIn:s,signOut:o}}();return Object(b.jsx)(h.Provider,{value:n,children:t})}var T,E,L={primary:"#61DAFB",secondary:"#254E70",negative:"#e45b78",positive:"#A3D9B1",primaryText:"#333",linkText:"#1976d2",primaryBackground:"#efefef",secondaryBackground:"#F6F9FC"},R=n(6),P=(T=L,E={primaryBackground:"#444444",secondaryBackground:"#7b7b7b",primaryText:"#fff"},Object(R.a)(Object(R.a)({},T),E)),A={base:L,dark:P,casual:{primary:"#3B82F6",primaryLight:"#93C5FD",primaryActive:"#60A5FA",secondary:"#E8EBF7",negative:"#DE1A1A",positive:"#68EDC6",primaryText:"#1D4ED8",linkText:"#1976d2",primaryBackground:"#D78521",secondaryBackground:"#F2D398"},vb:{primary:"#093A16",primaryLight:"#148633",primaryActive:"#19AC41",secondary:"#D33020",positive:"#2FD158",negative:"#861E14",primaryText:"#0D3918",linkText:"#1976d2",primaryBackground:"#f1eedd",secondaryBackground:"#fff"},mixedFruit:{primary:"#6366F1",primaryLight:"#C4B5FD",primaryActive:"#A78BFA",secondary:"#F7C259",positive:"#2FD158",negative:"#861E14",primaryText:"#C31547",inputBackground:"#FDF2F8",linkText:"#1976d2",primaryBackground:"#ECFDF5",secondaryBackground:"#FCE7F3"},carling:{primary:"#da291c",primaryLight:"#B11E0C",primaryActive:"#7D1508",secondary:"#000",positive:"#2FD158",negative:"#B91C1C",primaryText:"#000",secondaryText:"#fff",linkText:"#337ab7",primaryBackground:"#fff",secondaryBackground:"#F5F5F5"}},_=n(27),H=function(){return Object(r.useContext)(h)};function B(e){var t=e.children,n=Object(_.a)(e,["children"]),r=H();return null===r.user?Object(b.jsx)("div",{children:"loading session"}):Object(b.jsx)(l.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){var n=e.location;return r.user?t:Object(b.jsx)(l.a,{to:{pathname:"/signin",state:{from:n}}})}}))}var I="square",W="regular",D="outlined",M="primary",z="secondary";function q(e){var t=e.variant,n=void 0===t?"regular":t,r=e.color,a=void 0===r?"primary":r,c=e.fullWidth,s=void 0!==c&&c,i=e.text,o=e.handleClick,l=void 0===o?function(){}:o,u=(e.loading,e.to),d=e.disabled,j=void 0!==d&&d,p=Object(_.a)(e,["variant","color","fullWidth","text","handleClick","loading","to","disabled"]),m={bg:"bg-primary",text:"text-secondary-text",borderColor:"border-primary-light",hoverBg:"hover:bg-primary-light",hoverBorder:"hover:border-primary-active",hoverText:"hover:text-white",activeBg:"active:bg-primary-active",activeText:"active:text-white"};switch(a){case M:m=Object(R.a)(Object(R.a)({},m),{},{bg:"bg-primary",text:"text-secondary-text",borderColor:"border-primary-light",hoverBg:"hover:bg-primary-light",hoverBorder:"hover:border-primary-active",hoverText:"hover:text-white",activeBg:"active:bg-primary-active",activeText:"active:text-white"});break;case D:m=Object(R.a)(Object(R.a)({},m),{},{bg:"bg-transparent",text:"text-primary-text"});break;case z:m=Object(R.a)(Object(R.a)({},m),{},{bg:"bg-secondary"})}var h="\n  h-28\n  w-28\n  ".concat(m.bg,"\n  ").concat(m.text,"\n  font-semibold\n  py-2\n  px-4 \n  border\n  ").concat(m.borderColor,"\n  border-b-4 \n  rounded\n  select-none\n  origin-bottom\n  transform      \n  duration-75\n  ease-in-out\n  active:scale-y-95\n  ").concat(m.hoverBg,"\n  ").concat(m.hoverBorder,"\n  ").concat(m.hoverText,"\n  ").concat(m.activeBg,"\n  ").concat(m.activeText,"\n  active:border-b\n  focus:outline-none\n  disabled:cursor-not-allowed\n  disabled:bg-primary-active\n  disabled:border-primary-active\n  disabled:text-white\n  disabled:scale-y-95\n  "),x="\n  h-12\n  font-semibold\n  py-2\n  px-4 \n  border\n  border-primary\n  rounded\n  border-b-4\n  active:border-b\n  focus:outline-none\n  w-full\n  ".concat(!s&&"md:w-auto","\n  transform \n  duration-75\n  ease-in-out\n  active:scale-y-95\n  origin-bottom\n  select-none\n  ").concat(m.bg,"\n  ").concat(m.text,"\n  ").concat(m.borderColor,"\n  ").concat(m.hoverBg,"\n  ").concat(m.hoverBorder,"\n  ").concat(m.hoverText,"\n  ").concat(m.activeBg,"\n  ").concat(m.activeText,"\n  disabled:cursor-not-allowed\n  disabled:bg-primary-active\n  disabled:border-primary-active\n  disabled:text-white\n  disabled:scale-y-95\n  ");return u?Object(b.jsx)(U,{to:u,classes:n===I?h:x,square:n===I,text:i}):n===I?Object(b.jsx)("button",Object(R.a)(Object(R.a)({className:h,onClick:l,disabled:j},p),{},{children:Object(b.jsx)("span",{className:"items-center text-center pointer-events-none",children:i})})):Object(b.jsx)("button",Object(R.a)(Object(R.a)({className:x,onClick:l,disabled:j},p),{},{children:i}))}function U(e){var t=e.to,n=e.classes,r=e.text;return e.square?Object(b.jsx)(o.b,{className:"".concat(n," inline-block"),to:t,children:Object(b.jsx)("span",{className:"items-center text-center",children:r})}):Object(b.jsx)(o.b,{className:"".concat(n," inline-block"),to:t,children:r})}function G(e){var t=e.title,n=e.children,a=null;return"string"===typeof t?a=Object(b.jsx)("h2",{className:"text-3xl font-semibold text-left text-primary-text py-2",children:t}):Object(r.isValidElement)(t)&&(a=t),Object(b.jsxs)("div",{className:"bg-sec-background rounded-lg p-6",children:[Object(b.jsx)("div",{children:a}),n]})}function J(e){var t=e.label,n=e.name,r=e.checked,a=e.handleChange;return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:n,className:"pr-3",children:t}),Object(b.jsx)("input",{name:n,id:n,type:"checkbox",onChange:a,checked:r,className:"form-checkbox h-5 w-5"})]})}function V(e){var t=e.maxW,n=void 0===t?"":t,r=e.maxH,a=void 0===r?"":r,c=e.children;return Object(b.jsx)("div",{className:"container mx-auto p-6 space-y-4 ".concat(n," ").concat(a),children:c})}function K(e){var t=e.details,n=e.pickCup;e.rerack;return(null===t||void 0===t?void 0:t.rim)?Object(b.jsxs)("g",{children:[Object(b.jsx)("circle",{cx:t.x,cy:t.y,r:2,name:t.name,className:"cursor-pointer","data-name":t.name,onClick:n}),Object(b.jsx)("text",{x:t.x,y:Number(t.y)+.5,textAnchor:"middle",className:"pointer-events-none fill-current text-red-500",style:{fontSize:"0.1rem"},children:t.rim.length})]}):Object(b.jsx)("circle",{cx:t.x,cy:t.y,r:2,name:t.name,className:"cursor-pointer","data-name":t.name,onClick:n})}function Y(e){var t=e.x,n=e.y,r=e.size,a=void 0===r?4:r;return null!=t||null!=n?Object(b.jsx)("rect",{x:t,y:n,height:a,width:a,className:"fill-current text-blue-500 opacity-25"}):null}function X(e){var t=e.side,n=e.cups,r=e.forwardRef,a=e.gameSize,c=void 0===a?6:a,s=e.mouseExit,i=e.pickCup,o=e.newMove,l=e.svgCoord,u=e.rerack,d=e.movingState,j=e.lastHover,p=e.selectedCup,m=function(e){for(var t=2*e,n=[],r=0;r<t;r++)n.push({x1:0,y1:r,x2:t,y2:r}),n.push({x1:r,y1:0,x2:r,y2:t});return n}(c);return 10===Number(c)?Object(b.jsx)("svg",{viewBox:"0 0 12 12","data-name":"".concat(t,"Svg")}):Object(b.jsxs)("svg",{viewBox:"0 0 12 12",height:"15em",width:"15em","data-name":"".concat(t,"Svg"),ref:r,onMouseMove:o,onMouseLeave:s,onClick:d?l:void 0,className:"border",children:[u&&m.map((function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return Object(b.jsx)("line",{x1:t,x2:r,y1:n,y2:a,className:"stroke-current text-gray-500",strokeWidth:.1},"".concat(t).concat(r).concat(n).concat(a))})),d&&t===(null===p||void 0===p?void 0:p.side)&&Object(b.jsx)(Y,{x:j.x,y:j.y,size:4}),n.filter((function(e){return!e.hit})).map((function(e){return Object(b.jsx)(K,{details:e,rerack:u,pickCup:i},e.name)}))]})}function Q(e){var t=e.side,n=e.cups,r=e.gameSize;return 10===Number(void 0===r?6:r)?Object(b.jsx)("svg",{viewBox:"0 0 12 12","data-name":"".concat(t,"Svg")}):Object(b.jsx)("div",{className:"grid justify-center pb-4",children:Object(b.jsx)("svg",{viewBox:"0 0 12 12",height:"15em",width:"15em","data-name":"".concat(t,"Svg"),className:"border",children:n.filter((function(e){return!e.hit})).map((function(e){return Object(b.jsx)(K,{details:e,rerack:void 0,pickCup:void 0},e.name)}))})})}function Z(){return"carling"===Object(r.useContext)(p).theme?Object(b.jsx)("div",{className:"h-7 w-24 relative bg-secondary self-center transform -rotate-12",style:{clipPath:"polygon(5% 0%, 0% 100%, 83.5% 100%, 95% 53%, 100% 0%)"},children:Object(b.jsx)("div",{className:"absolute right-0 transform rotate-90",style:{top:"15px",borderWidth:"0 16px 16px 0",borderColor:"var(--color-primary) var(--sec-background) var(--color-primary) var(--sec-background)",clipPath:"polygon(0% 0%, 0% 100%, 100% 100%)"}})}):null}function $(){return Object(b.jsx)("div",{className:"border-b-2"})}var ee=n(291),te=n(295),ne=n(22),re=n(294),ae=n(14);function ce(e,t){return[{side:t,name:"".concat(t,"x6-y2"),x:"6",y:"2",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x4-y6"),x:"4",y:"6",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x8-y6"),x:"8",y:"6",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x2-y10"),x:"2",y:"10",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x6-y10"),x:"6",y:"10",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x10-y10"),x:"10",y:"10",owner:"".concat(e),hit:null}]}var se=function(e,t){if("home"===e.selectedCup.side){var n=(new Date).toISOString(),r=e.homeCups.filter((function(t){return t.name!==e.selectedCup.name}));if("RIM"===t.type){var a,c,s;if(null!=(null===(a=e.selectedCup)||void 0===a?void 0:a.rim))c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[].concat(Object(ne.a)(null===(s=e.selectedCup)||void 0===s?void 0:s.rim),[{timestamp:n,type:t.type}])});else c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[{timestamp:n,type:t.type}]});return[].concat(Object(ne.a)(r),[c])}var i=Object(R.a)(Object(R.a)({},e.selectedCup),{},{hit:{timestamp:n,type:t.type}});return[].concat(Object(ne.a)(r),[i])}return e.homeCups},ie=function(e,t){return"home"===e.selectedCup.side?e.homeCupsLeft-1:e.homeCupsLeft},oe=function(e,t){if("FORFEIT_HOME"===t.type){var n=(new Date).toISOString(),r=e.homeCups.filter((function(e){return null!==e.hit})),a={hit:{timestamp:n,type:"FORFEIT"}},c=e.homeCups.filter((function(e){return null===e.hit})).map((function(e){return Object(R.a)(Object(R.a)({},e),a)}));return[].concat(Object(ne.a)(r),Object(ne.a)(c))}return e.homeCups},le=function(e,t){return"FORFEIT_HOME"===t.type?0:e.homeCupsLeft},ue=function(e,t){if("away"===e.selectedCup.side){var n=(new Date).toISOString(),r=e.awayCups.filter((function(t){return t.name!==e.selectedCup.name}));if("RIM"===t.type){var a,c,s;if(null!=(null===(a=e.selectedCup)||void 0===a?void 0:a.rim))c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[].concat(Object(ne.a)(null===(s=e.selectedCup)||void 0===s?void 0:s.rim),[{timestamp:n,type:t.type}])});else c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[{timestamp:n,type:t.type}]});return[].concat(Object(ne.a)(r),[c])}var i=Object(R.a)(Object(R.a)({},e.selectedCup),{},{hit:{timestamp:n,type:t.type}});return[].concat(Object(ne.a)(r),[i])}return e.awayCups},de=function(e,t){return"away"===e.selectedCup.side?e.awayCupsLeft-1:e.awayCupsLeft},je=function(e,t){if("FORFEIT_AWAY"===t.type){var n=(new Date).toISOString(),r=e.awayCups.filter((function(e){return null!==e.hit})),a={hit:{timestamp:n,type:"FORFEIT"}},c=e.awayCups.filter((function(e){return null===e.hit})).map((function(e){return Object(R.a)(Object(R.a)({},e),a)}));return[].concat(Object(ne.a)(r),Object(ne.a)(c))}return e.awayCups},pe=function(e,t){return"FORFEIT_AWAY"===t.type?0:e.awayCupsLeft},be=function(e,t){return"home"===e.selectedCup.side?e.homeCupsLeft>1:e.awayCupsLeft>1},me=function(e,t){return 0!==e.homeCupsLeft&&0!==e.awayCupsLeft},he=function(e){return e.isHovering},xe=function(e,t){var n=ve(t.position.x-1.5,0,8),r=ve(t.position.y-1.5,0,8);return n!==e.lastHover.x||r!==e.lastHover.y},fe=function(e){return e.homeCupRerackComplete},Oe=function(e){return e.awayCupRerackComplete};function ve(e,t,n){return e>n?n:e<t?t:Math.floor(e)}function ge(){return(ge=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/").concat(t),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ye(){return we.apply(this,arguments)}function we(){return(we=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ce(){return(Ce=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/tournament/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/news/"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/overview/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return Te.apply(this,arguments)}function Te(){return(Te=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/players"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ee(){return Le.apply(this,arguments)}function Le(){return(Le=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/preferences/"),{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/records/"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ae(){return(Ae=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/tournaments/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return He.apply(this,arguments)}function He(){return(He=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/tournaments/"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Be(){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(O.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/venues"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function We(e){return De.apply(this,arguments)}function De(){return(De=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/new"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/preferences/"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(O.a)(f.a.mark((function e(t){var n,r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=Object(_.a)(t,["id"]),e.prev=1,e.next=4,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/").concat(n),{method:"POST",body:JSON.stringify(r),headers:{"content-type":"application/json"},credentials:"include"});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Ge(e){var t=e.gameDetails,n=Object(d.b)(),a=Object(te.a)(qe,{onError:function(e){},onSuccess:function(){n.invalidateQueries(["game",t.id])}}),c=function(e){return Object(re.a)({id:"pong",initial:"playing",context:Object(R.a)({},e),states:{playing:{on:{PICKCUP:{actions:"selectCup",target:"modal"},FORFEIT_HOME:{actions:"commitSudoku",target:"finish"},FORFEIT_AWAY:{actions:"commitSudoku",target:"finish"},RERACK:{actions:["storeHomeCups","storeAwayCups"],target:"rerack"}}},modal:{on:{SINK:{actions:"updateCups",target:"playing"},CATCH:{actions:"updateCups",target:"playing",cond:"checkLastCup"},SPILL:{actions:"updateCups",target:"playing"},OTHER:{actions:"updateCups",target:"playing"},RIM:{actions:"rimCup",target:"playing"},CANCEL:{actions:"clearSelected",target:"playing"}}},rerack:{on:{CANCEL:{actions:["restoreCups","clearPreRack","clearSelected"],target:"playing"},SAVE:{actions:"saveCups",target:"playing"}},initial:"idle",states:{idle:{on:{PICKCUP:{target:"moving",actions:"selectCup"}}},moving:{on:{MOUSEMOVE:{actions:Object(ae.b)({isHovering:!0,lastHover:function(e,t){return{x:t.position.x,y:t.position.y}}})},NEWPOS:{actions:Object(ae.b)({cupsNewPos:function(e,t){return{x:t.position.x,y:t.position.y}},homeCups:function(e,t){if("home"===e.selectedCup.side){var n=e.selectedCup.name,r=e.homeCups.filter((function(e){return e.name!==n})),a=Object(R.a)(Object(R.a)({},e.selectedCup),{},{x:t.position.x+2,y:t.position.y+2});return[].concat(Object(ne.a)(r),[a])}return e.homeCups},awayCups:function(e,t){if("away"===e.selectedCup.side){var n=e.selectedCup.name,r=e.awayCups.filter((function(e){return e.name!==n})),a=Object(R.a)(Object(R.a)({},e.selectedCup),{},{x:t.position.x+2,y:t.position.y+2});return[].concat(Object(ne.a)(r),[a])}return e.awayCups},selectedCup:function(){return null},lastHover:function(){return{x:null,y:null}}}),target:"idle"},EXIT:{actions:Object(ae.b)({isHovering:function(){return!1},lastHover:function(){return{x:null,y:null}}})}}}}},finish:{type:"final"}}},{actions:{selectCup:Object(ae.b)({selectedCup:function(e,t){var n=t.details.target.getAttribute("data-name");return[].concat(Object(ne.a)(e.homeCups),Object(ne.a)(e.awayCups)).filter((function(e){return e.name===n}))[0]}}),updateCups:Object(ae.b)({homeCups:se,homeCupsLeft:ie,awayCups:ue,awayCupsLeft:de,selectedCup:null}),rimCup:Object(ae.b)({homeCups:se,homeCupRimCount:function(e,t){return"home"===e.selectedCup.side?e.homeCupRimCount+1:e.homeCupRimCount},awayCups:ue,awayCupRimCount:function(e,t){return"away"===e.selectedCup.side?e.awayCupRimCount+1:e.awayCupRimCount},selectedCup:null}),clearSelected:Object(ae.b)({selectedCup:null}),commitSudoku:Object(ae.b)({homeCups:oe,homeCupsLeft:le,awayCups:je,awayCupsLeft:pe,selectedCup:null}),storeHomeCups:Object(ae.b)({preRackHomeCups:function(e,t){return e.homeCups}}),storeAwayCups:Object(ae.b)({preRackAwayCups:function(e,t){return e.awayCups}}),restoreCups:Object(ae.b)({homeCups:function(e){return e.preRackHomeCups},awayCups:function(e){return e.preRackAwayCups}}),clearPreRack:Object(ae.b)({preRackHomeCups:function(){return null},preRackAwayCups:function(){return null}}),saveCups:Object(ae.b)({preRackHomeCups:function(){return null},homeCupRerackComplete:function(e){return!!e.homeCupRerackComplete||e.homeCups!==e.preRackHomeCups},preRackAwayCups:function(){return null},awayCupRerackComplete:function(e){return!!e.awayCupRerackComplete||e.awayCups!==e.preRackAwayCups}})},guards:{checkWin:me,checkLastCup:be,isHovering:he,hoverMoved:xe,homeReracked:fe,awayReracked:Oe}})}(t.game_table),s=Object(ee.a)(c),o=Object(i.a)(s,2),l=o[0],u=o[1],j=1.5,p=Object(r.useRef)(null),m=function(e){if(null!==p.current){var t=p.current.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var n=t.matrixTransform(e.target.getScreenCTM().inverse()),r=Je(n.x-j,0,8),a=Je(n.y-j,0,8);return u({type:"NEWPOS",position:{x:r,y:a},details:e})}},h=function(e){if(null!==p.current){var t=p.current.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var n=t.matrixTransform(e.target.getScreenCTM().inverse()),r=Je(n.x-j,0,8),a=Je(n.y-j,0,8);return u({type:"MOUSEMOVE",position:{x:r,y:a},details:e})}},x=function(){var e=Object(O.a)(f.a.mark((function e(n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=JSON.stringify(l.context),c={id:t.id,player1:t.player1,player2:t.player2,homeCupsLeft:l.context.homeCupsLeft,awayCupsLeft:l.context.awayCupsLeft,forfeit:l.context.forfeit,table:r},a.mutate(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(q,{text:"Save",onClick:x})}),Object(b.jsxs)("div",{className:"grid md:grid-cols-2",children:[Object(b.jsxs)("div",{className:"grid grid-cols-2",children:[Object(b.jsx)("span",{children:"Name:"}),Object(b.jsx)("span",{children:t.home_name}),Object(b.jsx)("span",{children:"home cups left:"}),Object(b.jsx)("span",{children:l.context.homeCupsLeft}),Object(b.jsx)("span",{children:"hit rim:"}),Object(b.jsx)("span",{children:l.context.awayCupRimCount}),Object(b.jsx)("span",{children:"reracked:"}),Object(b.jsx)("span",{children:JSON.stringify(l.context.homeCupRerackComplete)}),Object(b.jsxs)("div",{className:"col-span-2 m-auto text-center pt-4",children:[Object(b.jsx)(X,{side:"home",cups:l.context.homeCups,gameSize:6,forwardRef:p,mouseExit:function(){return u("EXIT")},pickCup:function(e){return u({type:"PICKCUP",details:e})},newMove:h,svgCoord:m,rerack:l.matches("rerack"),movingState:l.matches("rerack.moving"),lastHover:l.context.lastHover,selectedCup:l.context.selectedCup}),l.matches("playing")&&Object(b.jsx)("div",{className:"p-4",children:Object(b.jsx)(q,{text:"Home forfeit?",onClick:function(e,t){window.confirm("Are you sure HOME forfeits?")&&u("FORFEIT_HOME")}})})]})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"grid grid-cols-2",children:[Object(b.jsx)("span",{children:"Name:"}),Object(b.jsx)("span",{children:t.away_name}),Object(b.jsx)("span",{children:"home cups left:"}),Object(b.jsx)("span",{children:l.context.awayCupsLeft}),Object(b.jsx)("span",{children:"hit rim:"}),Object(b.jsx)("span",{children:l.context.homeCupRimCount}),Object(b.jsx)("span",{children:"reracked:"}),Object(b.jsx)("span",{children:JSON.stringify(l.context.awayCupRerackComplete)}),Object(b.jsxs)("div",{className:"col-span-2 m-auto text-center pt-4",children:[Object(b.jsx)(X,{side:"away",cups:l.context.awayCups,gameSize:6,forwardRef:p,mouseExit:function(){return u("EXIT")},pickCup:function(e){return u({type:"PICKCUP",details:e})},newMove:h,svgCoord:m,rerack:l.matches("rerack"),movingState:l.matches("rerack.moving"),lastHover:l.context.lastHover,selectedCup:l.context.selectedCup}),l.matches("playing")&&Object(b.jsx)("div",{className:"p-4",children:Object(b.jsx)(q,{text:"Away forfeit?",onClick:function(e,t){window.confirm("Are you sure AWAY forfeits?")&&u("FORFEIT_AWAY")}})})]})]})})]}),Object(b.jsx)("div",{children:l.matches("rerack")?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(q,{text:"Save",onClick:function(){return u("SAVE")},fullWidth:!0}),Object(b.jsx)(q,{text:"Cancel",onClick:function(){return u("CANCEL")},fullWidth:!0})]}):Object(b.jsx)(q,{text:"Rerack",onClick:function(){return u("RERACK")},fullWidth:!0})}),Object(b.jsx)(jt,{isOpen:l.matches("modal"),dismiss:function(){return u("CANCEL")},title:"Cup details",children:Object(b.jsxs)("div",{className:"p-2 flex flex-col space-y-8",children:[Object(b.jsx)(q,{name:"sink",text:"Sink",onClick:function(){return u("SINK")},color:D}),Object(b.jsx)(q,{name:"catch",text:"Catch",onClick:function(){return u("CATCH")},color:D}),Object(b.jsx)(q,{name:"spill",text:"Spill",onClick:function(){return u("SPILL")},color:D}),Object(b.jsx)(q,{name:"other",text:"Other",onClick:function(){return u("OTHER")},color:D}),Object(b.jsx)(q,{name:"rim",text:"Rim",onClick:function(){return u("RIM")},color:D})]})})]})}function Je(e,t,n){return e>n?n:e<t?t:Math.floor(e)}function Ve(e){var t=e.gameDetails;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:t.home_name}),Object(b.jsxs)("div",{children:["home cups left: ",t.home_cups_left]}),Object(b.jsxs)("div",{children:["hit rim: ",t.game_table.awayCupRimCount]}),Object(b.jsxs)("div",{children:["reracked:",JSON.stringify(t.game_table.homeCupRerackComplete)]}),Object(b.jsx)(Q,{side:"home",cups:t.game_table.homeCups,gameSize:6})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:t.away_name}),Object(b.jsxs)("div",{children:["away cups left: ",t.away_cups_left]}),Object(b.jsxs)("div",{children:["hit rim: ",t.game_table.homeCupRimCount]}),Object(b.jsxs)("div",{children:["reracked:",JSON.stringify(t.game_table.awayCupRerackComplete)]}),Object(b.jsx)(Q,{side:"away",cups:t.game_table.awayCups,gameSize:6})]})]})}function Ke(){return function(){var e=Object(r.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width>640?Object(b.jsx)("div",{className:"w-96",children:Object(b.jsx)("nav",{className:"text-center font-mono",children:Object(b.jsxs)("ul",{className:"flex flex-row",children:[Object(b.jsx)("li",{className:"w-full",children:Object(b.jsx)(Ye,{to:"/",exact:!0,text:"Home"})}),Object(b.jsx)("li",{className:"w-full",children:Object(b.jsx)(Ye,{to:"/games",text:"Games"})}),Object(b.jsx)("li",{className:"w-full",children:Object(b.jsx)(Ye,{to:"/versus",text:"Versus"})})]})})}):Object(b.jsxs)("div",{className:"fixed bottom-0 w-full bg-primary-background z-10",children:[Object(b.jsx)($,{}),Object(b.jsx)("nav",{className:"text-center py-4 font-mono flex justify-center items-center",children:Object(b.jsxs)("ul",{className:"flex flex-row justify-between w-full",children:[Object(b.jsx)("li",{className:"w-full",children:Object(b.jsx)(Ye,{to:"/",exact:!0,text:"Home"})}),Object(b.jsx)("li",{className:"w-full",children:Object(b.jsx)(Ye,{to:"/games",text:"Games"})}),Object(b.jsx)("li",{className:"w-full",children:Object(b.jsx)(Ye,{to:"/versus",text:"Versus"})})]})})]})}var Ye=function(e){var t=e.to,n=e.text,r=e.exact,a=void 0!==r&&r;return Object(b.jsx)(o.c,{to:t,exact:a,activeClassName:"text-primary border-b-4 border-solid border-primary",className:"p-2 font-bold text-xl uppercase inline-block w-full hover:text-primary border-b-4 border-opacity-0",children:n})},Xe=n.p+"static/media/beer-pong.1d7e56cf.svg";function Qe(){return Object(b.jsx)("div",{className:"px-4",children:Object(b.jsx)(o.b,{to:"/",children:Object(b.jsx)("img",{src:Xe,alt:"logo with link home",className:"w-16"})})})}function Ze(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){return a(!1)},s=Object(l.h)(),u=Object(l.g)(),d=H();return Object(r.useEffect)((function(){return n&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow=""}}),[n]),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"\n      h-16\n      w-16\n      rounded-full\n      border\n      focus:outline-none\n      mr-4\n      z-20\n      relative\n      bg-primary-background",onClick:function(){return a(!n)},children:d.user?Object(b.jsx)("span",{children:"T"}):Object(b.jsx)("span",{children:"F"})}),n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{className:"bg-gray-500 opacity-75 cursor-default fixed top-0 left-0 right-0 bottom-0 h-full w-full z-10 outline-none",tabIndex:"-1",onClick:c}),Object(b.jsx)("div",{className:"\n              absolute\n              right-0\n              w-72\n              my-1\n              z-20\n              border\n              bg-primary-background",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)($e,{children:Object(b.jsx)(o.c,{to:"/settings",className:" inline-block p-2 w-full",children:"Preferences"})}),Object(b.jsx)(et,{}),d.user?Object(b.jsx)($e,{children:Object(b.jsx)("button",{className:"font-semibold w-full p-2 text-left",onClick:function(){d.signOut(),c(),u.push(s.pathname)},children:"Sign out"})}):Object(b.jsx)($e,{children:Object(b.jsx)(o.c,{className:"w-full inline-block p-2",to:"/signin",children:"Sign in"})})]})})]})]})}function $e(e){var t=e.children;return Object(b.jsx)("li",{className:"hover:bg-sec-background cursor-pointer hover:text-primary font-semibold",children:t})}function et(){return Object(b.jsx)("li",{className:"border-b-4"})}function tt(e){var t=e.name,n=e.type,r=void 0===n?"text":n,a=e.label,c=void 0===a?"":a,s=e.placeholder,i=void 0===s?"":s,o=e.required,l=void 0!==o&&o,u=e.value,d=e.onChange,j=e.helpText,p=void 0===j?"":j,m=e.errorMsg,h=void 0===m?"":m,x=Object(_.a)(e,["name","type","label","placeholder","required","value","onChange","helpText","errorMsg"]);return Object(b.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(b.jsx)("label",{htmlFor:t,children:c}),Object(b.jsx)("input",Object(R.a)({name:t,className:"\n        w-full block\n        appearance-none\n        bg-input-background\n        border\n        border-gray-200\n        text-gray-700\n        py-3\n        px-4\n        pr-8\n        rounded\n        leading-tight\n        focus:bg-white\n        focus:border-gray-500",value:u,onChange:d,required:l,type:r,placeholder:i},x)),p.length>0?Object(b.jsx)("small",{id:t+"Help",children:p}):null,h.length>0&&Object(b.jsx)("p",{className:"text-negative",children:h})]})}var nt=[{matches:["tournaments","events","fixtures"],link:"/tournaments",text:"Tournaments!",description:""},{matches:["players","fixtures"],link:"/players",text:"Players!",description:""},{matches:["tournaments","events","fixtures","games","new","new game"],link:"/games",text:"Games!",description:""},{matches:["stats","compare","versus","vs","comparison"],link:"/versus",text:"Versus!",description:""},{matches:["stats","records","most","wins","gold","silver","bronze","losses","least"],link:"/records",text:"Records!",description:""},{matches:["settings","preferences","theme","colours","colors"],link:"/settings",text:"Settings!",description:""},{matches:["test"],link:"/test",text:"Test!",description:""}];function rt(){var e,t=Object(r.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"flex flex-col relative max-w-md flex-grow mx-4",children:[Object(b.jsx)(tt,{placeholder:"Search site...",type:"search",value:l,onChange:function(e){return u(e.target.value)},onFocus:function(e){if(!a)return c(!0)},onBlur:function(e){e.relatedTarget||c(!1)}}),a&&l.length>0&&Object(b.jsx)(at,{items:(e=nt,e.filter((function(e){var t=l.trim().toLowerCase();return e.matches.join(" ").indexOf(t)>-1})))})]})})}function at(e){var t=e.items,n=Object(r.useState)(null),a=Object(i.a)(n,2),c=a[0],s=a[1],o=function(e){var n=t.map((function(e){return e.link})).indexOf(e.target.getAttribute("data-path"));s(n)};return Object(r.useEffect)((function(){var e=function(e){"ArrowDown"===e.key&&(e.preventDefault(),s(null===c||c>=t.length-1?0:c+1)),"ArrowUp"===e.key&&(e.preventDefault(),s(null===c?0:0===c?t.length-1:c-1))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[c,t]),Object(b.jsxs)("div",{className:"absolute shadow list-none bg-primary-background w-full top-full px-2 pt-2 z-10",children:[Object(b.jsx)("h3",{className:"font-semibold text-center text-sm border-b pb-2",children:"Search for pages on this site"}),Object(b.jsx)("ul",{className:"list-none",children:(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e,t){return Object(b.jsx)(ct,{item:e,handleHover:o,active:c===t},"".concat(e.matches.join("-")).concat(t))}))})]})}function ct(e){var t=e.item,n=e.active,a=e.handleHover,c=Object(r.useRef)(null);return Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{onMouseOver:a,className:"inline-block w-full h-full p-4 ".concat(n&&"bg-sec-background"),to:"".concat(t.link),"data-path":t.link,ref:c,children:t.text})})}function st(){return Object(b.jsxs)("header",{className:"flex items-center justify-between h-20 py-3 shadow",children:[Object(b.jsx)(Qe,{}),Object(b.jsx)(Ke,{}),Object(b.jsx)(rt,{}),Object(b.jsx)(Ze,{})]})}function it(e){var t=e.name,n=e.min,r=void 0===n?0:n,a=e.max,c=void 0===a?6:a,s=e.label,i=void 0===s?"":s,o=e.onChange,l=e.value,u=e.required,d=void 0!==u&&u,j=e.helpText,p=void 0===j?"":j,m=e.errorMsg,h=void 0===m?"":m;return Object(b.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(b.jsx)("label",{htmlFor:t,children:i}),Object(b.jsx)("input",{name:t,className:"\n        w-full block\n        appearance-none\n        bg-input-background\n        border\n        border-gray-200\n        text-gray-700\n        py-3\n        px-4\n        pr-8\n        rounded\n        leading-tight\n        focus:outline-none\n        focus:bg-white\n        focus:border-gray-500\n        ",value:l,onChange:o,min:r,max:c,required:d,type:"number"}),p.length>0?Object(b.jsx)("small",{id:t+"Help",children:p}):null,h.length>0&&Object(b.jsx)("p",{className:"text-negative",children:h})]})}function ot(e){var t=e.children,n=(e.updatePageTitle,Object(_.a)(e,["children","updatePageTitle"])),r=H().user;return Object(b.jsx)(l.b,Object(R.a)(Object(R.a)({},n),{},{render:function(){return r?Object(b.jsx)(l.a,{to:"/"}):t}}))}function lt(e){var t=e.details,n=function(e){return 0===e};return Object(b.jsxs)("div",{className:"shadow px-4 pb-4 space-y-2",children:[Object(b.jsxs)("div",{className:"flex justify-between text-xs font-semibold",children:[Object(b.jsx)("div",{children:t.venue}),Object(b.jsxs)("div",{children:[t.tournament_id?t.stage:"friendly"," "]})]}),Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("div",{className:"font-bold",children:t.event}),Object(b.jsx)("div",{className:"text-xs",children:t.date&&ut(t.date)})]}),Object(b.jsxs)("div",{className:"grid grid-cols-2 text-center",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(o.b,{className:"text-link-text underline relative ".concat(n(t.away_cups_left)&&"psudo-winner"),to:"/player/".concat(t.home_id),children:t.home_name}),Object(b.jsx)("div",{children:t.home_cups_left})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(o.b,{className:"text-link-text underline relative ".concat(n(t.home_cups_left)&&"psudo-winner"),to:"/player/".concat(t.away_id),children:t.away_name}),Object(b.jsx)("div",{children:t.away_cups_left})]})]}),Object(b.jsx)("div",{className:"text-right",children:Object(b.jsx)(o.b,{className:"text-link-text underline",to:"/games/".concat(t.id),children:"details..."})})]})}var ut=function(e){return e.split("T")[0].split("-").reverse().join("-")};function dt(e){var t=e.games;return Object(b.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:t.map((function(e){return Object(b.jsx)(lt,{details:e},e.id)}))})}function jt(e){var t=e.isOpen,n=void 0!==t&&t,a=e.dismiss,c=void 0===a?function(){}:a,s=e.title,i=e.children;return Object(r.useEffect)((function(){return n&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow=""}}),[n]),n?Object(b.jsx)("div",{className:"fixed z-20 inset-0",children:Object(b.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 text-center",children:[Object(b.jsx)("div",{className:"fixed inset-0 transition-opacity",children:Object(b.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(b.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full z-20 w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)("h3",{className:"text-xl p-4 font-bold",id:"modal-headline",children:s}),Object(b.jsx)("button",{onClick:c,className:"cursor-pointer px-2 text-lg","aria-label":"close-modal",children:"\xd7"})]}),Object(b.jsx)("div",{children:i})]})]})}):null}var pt=n(125),bt=n.n(pt),mt=n(293),ht=n(126),xt=n.n(ht);function ft(){return Object(b.jsx)("div",{className:""})}var Ot={small:{size:"10rem",class:"max-h-40",value:160},medium:{size:"16rem",class:"max-h-64",value:256},large:{size:"20rem",class:"max-h-80",value:320},xlarge:{size:"24rem",class:"max-h-96",value:384}};function vt(){var e=Object(mt.a)("news",ke),t=e.isLoading,n=e.error,r=e.data;return n?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("span",{children:"Error loading news..."})}):t?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("span",{children:"Loading news..."})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ft,{}),r.map((function(e){return Object(b.jsx)(gt,{content:e.content,size:Ot.large},e.id)}))]})}function gt(e){var t=e.size,n=void 0===t?Ot.large:t,a=e.content,c=Object(r.useRef)(null),s=Object(r.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(r.useState)(!1),j=Object(i.a)(d,2),p=j[0],m=j[1];return Object(r.useEffect)((function(){null!==c.current&&(c.current.getBoundingClientRect().height>=n.value&&u(!0))}),[n.value]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{ref:c,className:"prose lg:prose-xl \n        overflow-hidden\n        transition-all\n        duration-700\n        ".concat(n.class,"\n        ").concat(p&&"max-h-full","\n        ").concat(l&&!p&&"mask-bottom-transparent","\n        ").concat(!l&&"border-b","\n        "),children:Object(b.jsx)(bt.a,{remarkPlugins:[xt.a],children:a})}),l?Object(b.jsx)("div",{className:"text-center text-link-text underline border-b mb-4 pb-2",onClick:function(){return m(!p)},children:p?"Read less \ud83d\udd3c":"Read more \ud83d\udd3d"}):null]})}function yt(e){var t,n=e.details;return t=n.length>0,Object(b.jsxs)("div",{className:"flex flex-row items-center ",children:[Object(b.jsx)(wt,{labels:["Name","Games played","Forfeits","Total Wins","Win %","Reached quarters","Reached semis","Reached final","Tournament Wins"],show:t}),n.map((function(e,t){var r=n.length-1;return null==e?null:Object(b.jsx)(Ct,{playerData:e,last:t===r},"".concat(null===e||void 0===e?void 0:e.name).concat(t))}))]})}function wt(e){var t=e.labels;return e.show?Object(b.jsx)("div",{className:"w-1/2 border-secondary table-start",children:t.map((function(e){return Object(b.jsx)(kt,{header:!0,children:e},e)}))}):Object(b.jsx)("div",{className:"w-1/2 border border-secondary"})}function Ct(e){var t=e.last,n=void 0===t||t,r=e.playerData;return Object(b.jsxs)("div",{className:"text-right w-1/4 border-secondary ".concat(n?"table-end":""),children:[Object(b.jsx)(kt,{children:r.name?r.name:""}),Object(b.jsx)(kt,{children:r.games?r.games:"0"}),Object(b.jsx)(kt,{children:r.forfeits?r.forfeits:"0"}),Object(b.jsx)(kt,{children:r.homeWins&&r.awayWins?Number(r.homeWins)+Number(r.awayWins):"0"}),Object(b.jsx)(kt,{children:r.homeWins&&r.awayWins&&r.games?((Number(r.homeWins)+Number(r.awayWins))/Number(r.games)*100).toFixed(2)+"%":"0"}),Object(b.jsx)(kt,{children:r.quarterFinals?r.quarterFinals:"0"}),Object(b.jsx)(kt,{children:r.semiFinals?r.semiFinals:"0"}),Object(b.jsx)(kt,{children:r.finals?r.finals:"0"}),Object(b.jsx)(kt,{children:r.finalsWon?r.finalsWon:"0"})]})}function kt(e){var t=e.header,n=void 0!==t&&t,r=e.children;return Object(b.jsx)("div",{className:"".concat(n?"header":""," border-secondary table-like-border py-2 px-4 h-8 overflow-hidden"),children:r})}function Nt(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}function St(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}function Ft(e){var t,n=e.name,a=e.playerNames,c=void 0===a?[]:a,s=e.selected,o=e.selectPlayer,l=void 0===o?function(){}:o,u=e.variant,d=void 0===u?"square":u,j=e.color,p=void 0===j?"primary":j,m=e.fullWidth,h=void 0!==m&&m,x=e.disabled,f=void 0!==x&&x,O=Object(r.useState)(!1),v=Object(i.a)(O,2),g=v[0],y=v[1],w=Object(r.useState)(""),C=Object(i.a)(w,2),k=C[0],N=C[1],S=function(e){y(!g)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(q,{variant:d,color:p,handleClick:S,text:""!==s?c[s-1].name:"Click to pick player",fullWidth:h,disabled:f}),Object(b.jsx)(jt,{isOpen:g,dismiss:S,title:"Add Player",children:Object(b.jsxs)("div",{className:"px-2",children:[Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("form",{role:"search",children:Object(b.jsx)(tt,{placeholder:"Filter names",onChange:function(e){return N(e.target.value)},value:k})})}),Object(b.jsx)("div",{className:"max-h-75vh flex",children:Object(b.jsx)("ul",{role:"listbox",className:"overflow-y-auto w-full",children:(t=c,t.filter((function(e){return e.name.toLowerCase().indexOf(k.toLowerCase())>-1||e.id.toString().indexOf(k)>-1}))).map((function(e){return Object(b.jsxs)("li",{value:e.id,role:"option",className:"grid grid-cols-3 hover:text-sec-background justify-items-center px-6 py-4 border-b cursor-pointer hover:bg-primary",onClick:function(){l(n,"".concat(e.id)),S()},"aria-selected":!1,tabIndex:0,children:[Number(s)===Number(e.id)&&Object(b.jsx)("span",{className:"text-positive",children:Object(b.jsx)(St,{})}),Object(b.jsx)("span",{className:"col-start-2 font-semibold",children:e.name}),Object(b.jsx)(Nt,{})]},e.id)}))})})]})})]})}var Tt=n(290);function Et(){return Object(Tt.a)()?Object(b.jsx)("svg",{className:"w-6 h-6 animate-spin absolute text-positive right-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):null}function Lt(e){var t=e.name,n=e.placeholder,r=void 0===n?"Select option":n,a=e.onChange,c=void 0===a?function(){}:a,s=e.children,i=Object(_.a)(e,["name","placeholder","onChange","children"]);return Object(b.jsxs)("select",Object(R.a)(Object(R.a)({name:t,className:"\n      w-full\n      block\n      bg-input-background\n      border\n      border-gray-200\n      text-gray-700\n      py-3\n      px-4\n      pr-8\n      rounded\n      leading-tight\n      focus:outline-none\n      focus:bg-white\n      focus:border-gray-500\n      ",onChange:c},i),{},{children:[Object(b.jsx)("option",{value:"",children:r}),s]}))}function Rt(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{className:"bg-white w-1/2 p-2 mx-4 text-center bottom-0 float-right sticky rounded-t-lg",children:[Object(b.jsx)("button",{onClick:function(){return a(!n)},className:"w-full h-full",children:n?"Hide swatch":"Show swatch"}),n?Object(b.jsx)("div",{className:"uppercase",children:Object(b.jsxs)("div",{className:"border-2 border-black overflow-x-hidden",children:[Object(b.jsx)("div",{className:"bg-primary p-2 truncate",children:"primary"}),Object(b.jsx)("div",{className:"bg-primary-light p-2 truncate",children:"primaryLight"}),Object(b.jsx)("div",{className:"bg-primary-active p-2 truncate",children:"primaryActive"}),Object(b.jsx)("div",{className:"bg-secondary p-2 truncate",children:"secondary"}),Object(b.jsx)("div",{className:"bg-positive p-2 truncate",children:"positive"}),Object(b.jsx)("div",{className:"bg-negative p-2 truncate",children:"negative"}),Object(b.jsx)("div",{className:"bg-primary-text p-2 truncate",children:"primaryText"}),Object(b.jsx)("div",{className:"bg-secondary-text-text p-2 truncate",children:"secondaryText"}),Object(b.jsx)("div",{className:"bg-link-text p-2 truncate",children:"linkText"}),Object(b.jsx)("div",{className:"bg-primary-background p-2 truncate",children:"primaryBackground"}),Object(b.jsx)("div",{className:"bg-sec-background p-2 truncate",children:"secondaryBackground"})]})}):null]})}var Pt=["base","dark","casual","vb","mixedFruit","carling"];function At(){return Object(b.jsx)(p.Consumer,{children:function(e){var t=e.theme,n=e.switchTheme;return Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsxs)("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-6",children:[Object(b.jsx)("label",{htmlFor:"theme-select",className:"text-primary-text font-bold",children:"Theme switcher"}),Object(b.jsxs)("div",{className:"relative",children:[Object(b.jsx)("select",{id:"theme-select",className:"w-full block appearance-none bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:n,value:t,children:Pt.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))}),Object(b.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Object(b.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(b.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})})}})}function _t(e){var t=e.toggle,n=e.active;return Object(b.jsx)("div",{className:"w-16 h-10 rounded-full flex-shrink-0 p-1 ".concat(n?"bg-positive":"bg-gray-300"),onClick:t,children:Object(b.jsx)("div",{className:"bg-white w-8 h-8 rounded-full shadow-md transform duration-300 ease-in-out ".concat(n?"translate-x-6":"")})})}function Ht(e){var t=e.id,n=Object(mt.a)(["gamesByTournamentId",t],(function(){return function(e){return Ce.apply(this,arguments)}(t)})),r=n.data,a=n.isLoading,c=Object(mt.a)(["tournamentsById",t],(function(){return function(e){return Ae.apply(this,arguments)}(t)})),s=c.data,i=c.isLoading;return a||i?Object(b.jsx)("div",{children:"Loading..."}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["This is Tournament: ",t]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["details:",Object(b.jsx)("pre",{children:JSON.stringify(s,null,2)})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"text-lg",children:"Games"}),Object(b.jsx)(dt,{games:r})]})]})]})}var Bt=n.p+"static/media/evt-placeholder.e1e8ba08.jpg";function It(){var e=Object(mt.a)("tournaments",_e),t=e.isLoading,n=(e.error,e.data);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"text-right italic bg-sec-background pr-4",children:"Upcoming"}),t&&Object(b.jsx)("div",{children:"loading..."}),!t&&n.filter((function(e){return new Date(e.date)>new Date})).map((function(e){return Object(b.jsx)(Wt,{id:e.id,title:e.title,date:e.date},"".concat(e.id))}))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"text-right italic bg-sec-background pr-4",children:"Previous"}),t&&Object(b.jsx)("div",{children:"loading..."}),!t&&n.filter((function(e){return new Date(e.date)<new Date})).map((function(e){return Object(b.jsx)(Wt,{id:e.id,title:e.title,date:e.date},"".concat(e.id))}))]})]})}function Wt(e){e.image;var t=e.id,n=e.title,r=e.date,a=new Date(r).toLocaleDateString("en-GB");return Object(b.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[Object(b.jsx)("img",{src:Bt,className:"object-contain h-24 w-24 col-span-2",alt:"Event preview"}),Object(b.jsxs)("div",{className:"p-2 col-span-4 flex flex-col justify-between",children:[Object(b.jsx)(o.b,{to:"/tournaments/".concat(t),className:"font-semibold text-link-text hover:underline",children:n}),Object(b.jsx)("span",{className:"text-right font-bold",children:a})]})]})}var Dt=n(28),Mt=n(19),zt=n.n(Mt),qt=zt.a.object().keys({avatar_link:zt.a.string().trim().uri()});function Ut(){var e=H().user,t=Object(r.useState)({avatarLink:""}),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(d.b)(),o=Object(mt.a)(["preferences"],Ee,{enabled:!!e}),l=o.isLoading,u=o.data,j=o.error,p=Object(te.a)(Me,{onError:function(e){v(e)},onSuccess:function(){s.invalidateQueries("preferences")}}),m=Object(r.useState)(""),h=Object(i.a)(m,2),x=h[0],v=h[1],g=function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y()&&(n={avatar_link:a.avatarLink},p.mutate(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(){var e=qt.validate({avatar_link:a.avatarLink});return void 0===e.error||(v(e.error.message),!1)}return Object(r.useEffect)((function(){u&&c(u[0])}),[u]),e?Object(b.jsxs)("form",{children:[l&&Object(b.jsx)("span",{children:"Loading..."}),j&&Object(b.jsxs)("span",{children:["Error ",JSON.stringify(j,null,2)]}),!l&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(tt,{name:"avatarLink",label:"Link to avatar",value:null===a||void 0===a?void 0:a.avatarLink,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(Dt.a)({},n,r))}))},errorMsg:x}),Object(b.jsx)(q,{text:"Save changes",handleClick:g,disabled:p.isLoading})]})]}):Object(b.jsx)("div",{children:"Please log in to save personal preferences"})}function Gt(e){var t=e.updatePageTitle;return Object(r.useEffect)((function(){t("Error 404 page was not found")})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsx)("div",{className:"h-full",children:"E404 page not found"})]})}function Jt(e){var t,n,a=e.updatePageTitle,c=Object(l.i)().gameId,s=Object(mt.a)(["game",c],(function(){return function(e){return ge.apply(this,arguments)}(c)})),i=s.isLoading,o=s.error,u=s.data;return Object(r.useEffect)((function(){a("Game: ".concat(c))}),[a,c]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{children:[o&&Object(b.jsxs)("div",{children:["Error ",c]}),i&&Object(b.jsxs)("div",{children:["Loading ",c]}),!i&&Object(b.jsxs)(G,{title:Object(b.jsx)(Vt,{home:u[0].home_name,away:u[0].away_name,number:u[0].id}),children:[u[0].locked&&Object(b.jsx)("div",{className:"text-right",title:"This game is locked",children:"locked \ud83d\udd12"}),Object(b.jsxs)("div",{className:"text-center",children:[u[0].tournament&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:u[0].event}),Object(b.jsx)("div",{children:u[0].stage})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Venue: ",u[0].venue]}),Object(b.jsx)("div",{children:"Starting cups: 6"}),u[0].forfeit?Object(b.jsx)("div",{children:"Ended by forfeit"}):null,u[0].notes&&Object(b.jsxs)("div",{children:["Notes: ",u[0].notes]})]})]}),(null===(t=u[0])||void 0===t?void 0:t.game_table)&&u[0].locked&&Object(b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"font-bold text-center",children:"Home Results"}),Object(b.jsxs)("div",{children:["Name: ",u[0].home_name]}),Object(b.jsxs)("div",{children:["Cups left: ",u[0].home_cups_left]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"font-bold text-center",children:"Away Results"}),Object(b.jsxs)("div",{children:["Name: ",u[0].away_name]}),Object(b.jsxs)("div",{children:["Cups left: ",u[0].away_cups_left]})]})]}),(null===(n=u[0])||void 0===n?void 0:n.game_table)?u[0].locked?Object(b.jsx)(Ve,{gameDetails:u[0]}):Object(b.jsx)(Ge,{gameDetails:u[0],access:""}):Object(b.jsx)("div",{className:"text-center text-sm font-bold pt-4",children:"Table state was not entered \ud83d\ude25"})]})]}),Object(b.jsx)("div",{className:"spacer py-8"})]})}function Vt(e){var t=e.home,n=e.away,r=e.number;return Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsxs)("div",{className:"text-3xl font-semibold text-left text-primary-text py-2",children:[t," vs ",n]}),Object(b.jsxs)("div",{children:["#",r]})]})}function Kt(e){var t=e.updatePageTitle,n=Object(mt.a)("games",ye),a=n.isLoading,c=n.error,s=n.data;return Object(r.useEffect)((function(){t("Game")}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{maxW:"max-w-screen-md",children:[Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)(q,{text:"New Game",to:"/games/new"})}),a&&Object(b.jsx)("div",{children:"Loading games..."}),!a&&Object(b.jsx)(dt,{games:s}),c&&Object(b.jsx)("div",{children:"Error trying to fetch games"})]}),Object(b.jsx)("div",{className:"spacer py-8"})]})}function Yt(e){var t=e.updatePageTitle;return Object(r.useEffect)((function(){t("Home")}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsx)(V,{children:Object(b.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[Object(b.jsx)("section",{className:"col-span-6 md:col-span-4 space-y-6",children:Object(b.jsx)(vt,{})}),Object(b.jsxs)("aside",{className:"col-span-6 md:col-span-2 md:border-l-2 p-4",children:[Object(b.jsx)("h2",{children:Object(b.jsx)(o.b,{to:"/tournaments",className:"text-link-text hover:underline text-3xl font-semibold",children:"Events"})}),Object(b.jsx)(It,{})]})]})})]})}var Xt={player1:"",player2:"",venue:"",gameSize:6,homeCupsLeft:6,awayCupsLeft:6,homeForfeit:!1,awayForfeit:!1};function Qt(e,t){switch(t.type){case"inputField":return Object(R.a)(Object(R.a)({},e),{},Object(Dt.a)({},t.fieldName,t.value));case"inputNumberField":return Object(R.a)(Object(R.a)({},e),{},Object(Dt.a)({},t.fieldName,Number(t.value)));case"inputCheckbox":return Object(R.a)(Object(R.a)({},e),{},Object(Dt.a)({},t.fieldName,t.checked));case"playerButton":case"selectField":return Object(R.a)(Object(R.a)({},e),{},Object(Dt.a)({},t.fieldName,Number(t.value)));case"initialise":default:return Object(R.a)({},e)}}function Zt(e){var t,n,a=e.updatePageTitle,c=Object(l.g)(),s=Object(d.b)(),o=Object(te.a)(We,{onError:function(e){k("Could not create game, please try again later.")},onSuccess:function(e){s.invalidateQueries("games"),c.push("/games/".concat(e.id))}}).mutate,u=Object(r.useReducer)(Qt,Xt),j=Object(i.a)(u,2),p=j[0],m=j[1],h=Object(r.useState)(!1),x=Object(i.a)(h,2),v=x[0],g=x[1],y=Object(r.useState)(""),w=Object(i.a)(y,2),C=w[0],k=w[1],N=Object(mt.a)("players",Fe),S=Object(mt.a)("venues",Be),F=function(e,t){m({type:"playerButton",fieldName:e,value:t}),C.length>0&&k("")},T=function(e){m({type:"inputNumberField",fieldName:e.target.name,value:e.target.value}),C.length>0&&k("")},E=function(e){m({type:"inputCheckbox",fieldName:e.target.name,checked:e.target.checked}),e.target.name.includes("home")?m({type:"inputNumberField",fieldName:"homeCupsLeft",value:0}):e.target.name.includes("away")&&m({type:"inputNumberField",fieldName:"awayCupsLeft",value:0})},L=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),P()&&(n={homeCups:ce(p.player1,"home"),preRackHomeCups:null,awayCups:ce(p.player2,"away"),preRackAwayCups:null,firstThrow:null,homeCupsLeft:6,homeCupRerackComplete:!1,homeCupRimCount:0,awayCupsLeft:6,awayCupRerackComplete:!1,awayCupRimCount:0,forfeit:!1,winner:null,turns:0,selectedCup:null,isHovering:!1,lastHover:{x:null,y:null},cupNewPos:{x:null,y:null},stack:[]},r=Object(R.a)(Object(R.a)({},p),{},{created:new Date,table:v?null:n,locked:v}),console.log(r),o(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(){if(p.player1!==p.player2){var e=A.validate({player1:p.player1,player2:p.player2,venue:p.venue,gameSize:p.gameSize,homeCupsLeft:p.homeCupsLeft,awayCupsLeft:p.awayCupsLeft,forfeit:p.homeForfeit||p.awayForfeit});return void 0===e.error||(k(e.error.message),!1)}k("Player 1 and Player 2 must be different!")}var A=zt.a.object().keys({player1:zt.a.number().required().messages({"number.base":"Player 1 must be selected"}),player2:zt.a.number().required().messages({"number.base":"Player 2 must be selected"}),venue:zt.a.number().required().messages({"number.base":"venue is required"}),gameSize:zt.a.number().integer().less(7).greater(5).required().messages({"number.less":"Game size must be less than ".concat(7),"number.greater":"Game size must be more than ".concat(5)}),homeCupsLeft:zt.a.number().integer().less(7).greater(-1).required().messages({"number.less":"Maximum number of cups must be less than ".concat(7),"number.greater":"Minimum number of cups is 0!"}),awayCupsLeft:zt.a.number().integer().less(7).greater(-1).required().messages({"number.less":"Maximum number of cups must be less than ".concat(7),"number.greater":"Minimum number of cups is 0!"}),forfeit:zt.a.boolean().required()});return Object(r.useEffect)((function(){a("Friendlies")}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{maxW:"max-w-xl",children:[N.isLoading&&Object(b.jsx)("div",{children:"Loading players..."}),!N.isLoading&&Object(b.jsxs)(G,{title:"New friendly",children:[Object(b.jsx)("label",{htmlFor:"player1",children:"Home:"}),Object(b.jsx)(Ft,{name:"player1",playerNames:N.data,selected:p.player1,selectPlayer:F,variant:W,color:D,fullWidth:!0}),Object(b.jsx)("label",{htmlFor:"player2",children:"Away:"}),Object(b.jsx)(Ft,{name:"player2",playerNames:N.data,selected:p.player2,selectPlayer:F,variant:W,color:D,fullWidth:!0}),Object(b.jsxs)("form",{onSubmit:L,className:"space-y-2",children:[Object(b.jsx)("input",{type:"hidden",value:p.player1}),Object(b.jsx)("input",{type:"hidden",value:p.player2}),Object(b.jsx)("label",{htmlFor:"venue",children:"Pick venue, or leave blank to fill later"}),S.isLoading&&Object(b.jsx)("div",{children:"Loading players..."}),!S.isLoading&&Object(b.jsx)(Lt,{name:"venue",onChange:function(e){m({type:"selectField",fieldName:e.target.name,value:e.target.value}),C.length>0&&k("")},children:S.data.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.title},e.id)}))}),Object(b.jsx)(it,{label:"Number of starting cups",name:"gameSize",value:p.gameSize,min:6,max:6,onChange:T}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Has the game already been completed?"}),Object(b.jsx)("div",{className:"grid justify-center",children:Object(b.jsx)(_t,{toggle:function(){m({type:"inputNumberField",fieldName:"homeCupsLeft",value:p.gameSize}),m({type:"inputNumberField",fieldName:"awayCupsLeft",value:p.gameSize}),m({type:"inputCheckbox",fieldName:"homeForfeit",checked:!1}),m({type:"inputCheckbox",fieldName:"awayForfeit",checked:!1}),g(!v)},active:v})})]}),v&&Object(b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"font-bold text-center",children:"Home Results"}),Object(b.jsxs)("div",{children:["Name: ",null===(t=N.data[p.player1-1])||void 0===t?void 0:t.name]}),Object(b.jsx)(it,{label:"Home cups left",name:"homeCupsLeft",value:p.homeCupsLeft,min:0,max:6,onChange:T}),Object(b.jsx)(J,{label:"forfeited?",name:"homeForfeit",checked:p.homeForfeit,handleChange:E})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"font-bold text-center",children:"Away Results"}),Object(b.jsxs)("div",{children:["Name: ",null===(n=N.data[p.player2-1])||void 0===n?void 0:n.name]}),Object(b.jsx)(it,{label:"Away cups left",name:"awayCupsLeft",value:p.awayCupsLeft,min:0,max:6,onChange:T}),Object(b.jsx)(J,{label:"forfeited?",name:"awayForfeit",checked:p.awayForfeit,handleChange:E})]})]}),C.length>0&&Object(b.jsx)("p",{className:"text-negative",children:C}),Object(b.jsx)("div",{className:"pt-4",children:Object(b.jsx)(q,{text:"Create!",type:"submit",fullWidth:!0})})]})]})]}),Object(b.jsx)("div",{className:"spacer py-8"})]})}function $t(e){var t=e.updatePageTitle,n=Object(l.i)().playerId,a=Object(r.useState)(!0),c=Object(i.a)(a,2),s=c[0],u=c[1],d=Object(r.useState)({}),j=Object(i.a)(d,2),p=j[0],m=j[1],h=Object(r.useState)([]),x=Object(i.a)(h,2),v=x[0],g=x[1],y=Object(r.useState)([]),w=Object(i.a)(y,2),C=w[0],k=w[1],N=Object(r.useState)([]),S=Object(i.a)(N,2),F=S[0],T=S[1],E=Object(r.useState)([]),L=Object(i.a)(E,2),R=L[0],P=L[1];return Object(r.useEffect)((function(){t("Player: ".concat(n))}),[t,n]),Object(r.useEffect)((function(){var e=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:en(n).then((function(e){m(e[0])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn(n).then((function(e){g(e[0])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:an(n).then((function(e){k(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sn(n).then((function(e){T(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ln(n).then((function(e){P(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!=n?Promise.all([e(),t(),r(),a(),c()]).then((function(e){u(!1)})):u(!1)}),[n]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsx)(V,{maxW:"max-w-screen-md",children:Object(b.jsxs)("div",{className:"p-6 space-y-4",children:[s?"loading...":null,!s&&p?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"grid grid-cols-6 grid-rows-2 gap-2",children:[Object(b.jsx)("h2",{className:"text-xl font-bold bg-primary text-secondary-text px-4 py-2 col-span-2",children:p.name}),Object(b.jsx)(o.b,{to:"/versus/".concat(n),className:"px-4 py-2 text-link-text underline",children:"Compare!"}),Object(b.jsx)("span",{className:"row-start-2 col-start-2 px-4",children:"nicks"}),Object(b.jsx)("ul",{className:"row-start-2 col-start-3",children:F.filter((function(e){return e.nick!==p.name})).map((function(e){return Object(b.jsx)("li",{children:e.nick},"".concat(e.nick).concat(e.id))}))})]}),Object(b.jsx)("h2",{className:"text-lg font-bold",children:"Overview"}),Object(b.jsx)(yt,{details:[v]}),R.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"text-lg font-bold",children:"Recent games"}),Object(b.jsx)(dt,{games:R})]}):null,C.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"text-lg font-bold",children:"Accolades"}),C.map((function(e){return Object(b.jsxs)("div",{children:[e.label,"\ud83e\udd47"]},e.id)}))]}):null]}):"Cannot find player data for playerId: ".concat(n)]})})]})}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/players/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/overview/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e){return cn.apply(this,arguments)}function cn(){return(cn=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/records/player/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e){return on.apply(this,arguments)}function on(){return(on=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/nicknames/player/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e){return un.apply(this,arguments)}function un(){return(un=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/recent/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e){var t=e.updatePageTitle,n=Object(mt.a)("tournaments",Re),a=n.isLoading,c=n.error,s=n.data,o=Object(r.useMemo)((function(){var e={};return s&&s.forEach((function(t){e[t.label]?e[t.label].push(t):(e[t.label]=t.label,e[t.label]=[t])})),e}),[s]);return Object(r.useEffect)((function(){t("Records")}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{maxW:"max-w-screen-md",children:[c&&Object(b.jsx)("div",{children:"Error loading records"}),a&&Object(b.jsx)("div",{children:"loading..."}),!a&&Object(b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(o).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(b.jsx)(jn,{recordType:n,records:r},n)}))})]}),Object(b.jsx)("div",{className:"spacer py-8"})]})}function jn(e){var t=e.records,n=e.recordType;return Object(b.jsxs)("div",{className:"flex flex-col shadow p-4 space-y-4",children:[Object(b.jsx)("h2",{className:"text-lg pb-4",children:n}),t.map((function(e,t){return Object(b.jsx)(pn,{record:e},"".concat(e.label).concat(t))}))]})}function pn(e){var t=e.record;return Object(b.jsxs)("div",{className:"flex flex-row justify-between border-b relative",children:[Object(b.jsx)(o.b,{className:"".concat(t.current&&"psudo-winner"," text-link-text underline"),to:"/players/".concat(t.player_id),children:t.name}),Object(b.jsx)("div",{children:t.value})]})}function bn(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{children:[Object(b.jsx)(G,{title:"Local browser preferences",children:Object(b.jsx)(At,{})}),Object(b.jsx)(G,{title:"My preferences",children:Object(b.jsx)(Ut,{})})]})]})}var mn=zt.a.object().keys({username:zt.a.string().trim().regex(/^[a-zA-Z0-9_]+$/).min(2).max(30).required(),password:zt.a.string().trim().min(6).required()});function hn(e){var t=e.updatePageTitle,n=Object(l.g)(),a=(Object(l.h)().state||{from:{pathname:"/"}}).from,c=H(),s=Object(r.useState)(""),u=Object(i.a)(s,2),d=u[0],j=u[1],p=Object(r.useState)(""),m=Object(i.a)(p,2),h=m[0],x=m[1],v=Object(r.useState)(""),g=Object(i.a)(v,2),y=g[0],w=g[1],C=function(){var e=Object(O.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!k()){e.next=15;break}return r={username:d,password:h},e.prev=3,e.next=6,c.signIn(r);case 6:if(!e.sent.error){e.next=9;break}return e.abrupt("return",w("Unable to login, please double check your credentials."));case 9:n.replace(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),w("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();function k(){return void 0===mn.validate({username:d,password:h}).error||(w("Unable to login, please double check your credentials."),!1)}return Object(r.useEffect)((function(){t("Sign in")}),[t]),Object(b.jsxs)(V,{maxW:"max-w-screen-md",children:[Object(b.jsx)("div",{className:"flex justify-center pb-4",children:Object(b.jsx)(Qe,{})}),Object(b.jsx)(G,{title:Object(b.jsxs)("div",{className:"grid justify-center",children:[Object(b.jsx)(Z,{}),Object(b.jsx)("h2",{className:"text-3xl font-semibold text-primary-text py-2",children:"Sign in"})]}),children:Object(b.jsxs)("form",{children:[Object(b.jsx)(tt,{label:"Username",name:"username",required:!0,value:d,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)(tt,{label:"Password",name:"password",type:"password",required:!0,value:h,onChange:function(e){return x(e.target.value)}}),Object(b.jsx)(o.b,{to:"/",className:"text-link-text hover:underline",children:"Forgotten password?"}),y.length>0&&Object(b.jsx)("p",{className:"text-negative",children:y}),Object(b.jsx)("div",{className:"pt-2",children:Object(b.jsx)(q,{text:"Sign in",handleClick:C,color:"outlined",fullWidth:!0})}),Object(b.jsx)(o.b,{to:"/signup",className:"text-link-text hover:underline",children:"Or sign up here"})]})})]})}var xn=zt.a.object().keys({username:zt.a.string().trim().regex(/^[a-zA-Z0-9_]+$/).min(2).max(30).required(),password:zt.a.string().trim().min(6).required(),confirmPassword:zt.a.string().trim().min(6).required()});function fn(e){var t=e.updatePageTitle,n=Object(l.g)(),a=H(),c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],d=s[1],j=Object(r.useState)(""),p=Object(i.a)(j,2),m=p[0],h=p[1],x=Object(r.useState)(""),v=Object(i.a)(x,2),g=v[0],y=v[1],w=Object(r.useState)(""),C=Object(i.a)(w,2),k=C[0],N=C[1],S=Object(r.useState)(""),F=Object(i.a)(S,2),T=F[0],E=F[1],L=function(){var e=Object(O.a)(f.a.mark((function e(t){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!R()){e.next=15;break}return r={username:u,password:g},e.prev=3,e.next=6,a.signUp(r);case 6:if(void 0===(c=e.sent).error){e.next=9;break}return e.abrupt("return",E(c.error));case 9:n.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),E("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();function R(){if(g===k){var e=xn.validate({username:u,password:g,confirmPassword:k});return void 0===e.error||(E(e.error.message),!1)}E("Password and Confirm password must be the same")}return Object(r.useEffect)((function(){t("Sign up")}),[t]),Object(b.jsxs)(V,{maxW:"max-w-screen-md",children:[Object(b.jsx)("div",{className:"flex justify-center pb-4",children:Object(b.jsx)(Qe,{})}),Object(b.jsx)(G,{title:Object(b.jsxs)("div",{className:"grid justify-center",children:[Object(b.jsx)(Z,{}),Object(b.jsx)("h2",{className:"text-3xl font-semibold text-primary-text py-2",children:"Sign up"})]}),children:Object(b.jsxs)("form",{children:[Object(b.jsx)(tt,{label:"Username",name:"username",required:!0,value:u,onChange:function(e){return d(e.target.value)},"aria-describedby":"usernameHelp",helpText:"Username must be between 2 and 30 characters. Alphanumeric and\r underscores only."}),Object(b.jsx)(tt,{label:"Email address",name:"email",type:"email",value:m,onChange:function(e){return h(e.target.value)}}),Object(b.jsx)(tt,{label:"Password",name:"password",minLength:"6",type:"password",required:!0,value:g,onChange:function(e){return y(e.target.value)},"aria-describedby":"passwordHelp",helpText:"Password must be at least 6 characters."}),Object(b.jsx)(tt,{label:"Confirm Password",name:"confirmPassword",minLength:"6",type:"password",required:!0,value:k,onChange:function(e){return N(e.target.value)}}),T.length>0&&Object(b.jsx)("p",{className:"text-negative",children:T}),Object(b.jsx)("div",{className:"pt-2",children:Object(b.jsx)(q,{text:"Sign up",handleClick:L,color:"outlined",fullWidth:!0})}),Object(b.jsx)(o.b,{to:"/signin",className:"text-link-text hover:underline",children:"Or sign in here"})]})})]})}function On(e){var t=e.updatePageTitle,n=Object(l.i)().tournamentId;return Object(r.useEffect)((function(){t("Tournament: ".concat(n))}),[t,n]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsx)(V,{children:n?Object(b.jsx)(Ht,{id:n}):Object(b.jsx)(It,{})})]})}function vn(e){var t=e.updatePageTitle,n=Object(l.g)(),a=Object(r.useState)({player1:"",player2:""}),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(mt.a)("players",Fe),d=u.isLoading,j=u.error,p=u.data,m=Object(r.useState)([]),h=Object(i.a)(m,2),x=h[0],f=h[1],O=Object(r.useState)([]),v=Object(i.a)(O,2),g=v[0],y=v[1],w=Object(r.useCallback)((function(e,t){o((function(n){return Object(R.a)(Object(R.a)({},n),{},Object(Dt.a)({},e,t))}));var r=n.location.pathname.split("/");(function(e){return Se.apply(this,arguments)})(t).then((function(a){"player1"===e?gn(t)?(y((function(e){return e.length>1?[a[0],e[1]]:[a[0]]})),n.push("".concat([r[0],r[1],t,r[3]].join("/")))):n.push("".concat([r[0],r[1]].join("/"))):gn(t)&&(y((function(e){return[e[0],a[0]]})),n.push("".concat([r[0],r[1],r[2],t].join("/"))))}))}),[n]);return Object(r.useEffect)((function(){t("Compare player stats")}),[t]),Object(r.useEffect)((function(){var e=window.location.pathname.split("/"),t=e[2],n=e[3];d||p.length>0&&p.some((function(e){return Number(e.id)===Number(t)}))&&(w("player1",t),gn(n)&&p.some((function(e){return Number(e.id)===Number(n)}))&&w("player2",n))}),[p,w,d]),Object(r.useEffect)((function(){var e,t;s.player1.length>0&&s.player2.length>0&&(e=s.player1,t=s.player2,e.length>0&&t.length>0&&fetch("".concat("https://pongleby.herokuapp.com","/api/v1/versus/").concat(e,"/").concat(t)).then((function(e){return e.json()})).then((function(e){f(e)})))}),[s]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{children:[Object(b.jsxs)(G,{title:"Player search",children:[j&&Object(b.jsx)("span",{children:"Error grabbing player list"}),Object(b.jsxs)("div",{className:"flex justify-around p-2",children:[Object(b.jsx)(Ft,{playerNames:p,selected:s.player1,name:"player1",selectPlayer:w}),Object(b.jsx)(Ft,{playerNames:p,selected:s.player2,name:"player2",selectPlayer:w,disabled:s.player1.length<1})]})]}),s.player1.length>0||s.player2.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(G,{title:"Overview",children:Object(b.jsx)(yt,{details:g})}),Object(b.jsx)(G,{title:"Games",children:Object(b.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:x.length>0?x.map((function(e){return Object(b.jsx)(lt,{details:e},e.id)})):Object(b.jsx)("div",{children:"No games played \u26a0"})})})]}):null]})]})}function gn(e){return""!==e&&Number.isInteger(Number(e))}function yn(e){var t=e.updatePageTitle,n={home_name:"home player",home_id:1,homeCupsLeft:0,away_name:"away player",away_id:2,awayCupsLeft:3,event:"some event",date:"new Date()",venue:"soeme venue",notes:"notes"};return Object(r.useEffect)((function(){t("Test components page")}),[t]),Object(b.jsx)(h.Consumer,{children:function(e){var t=e.user;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(st,{}),Object(b.jsxs)(V,{children:[Object(b.jsxs)("div",{children:["Auth check:",null===t||void 0===t?"You can log in here or search for a user!":"hi ".concat(t.username)]}),Object(b.jsxs)("div",{className:"text-center space-y-2",children:[Object(b.jsx)("div",{children:Object(b.jsx)(q,{variant:"square",text:"square button"})}),Object(b.jsx)("div",{children:Object(b.jsx)(q,{variant:"square",color:"outlined",text:"square button outlined"})}),Object(b.jsx)("div",{children:Object(b.jsx)(q,{text:"regular button",color:"outlined"})}),Object(b.jsx)("div",{children:Object(b.jsx)(q,{text:"disabled button",color:"outlined",disabled:!0})}),Object(b.jsx)("div",{children:Object(b.jsx)(q,{text:"link as button",to:"/test",color:"outlined"})}),Object(b.jsx)("div",{children:Object(b.jsx)(q,{text:"square link as button",to:"/test",variant:"square",color:"outlined"})})]}),Object(b.jsx)("div",{children:Object(b.jsx)(G,{title:"title of cart",children:"can take children"})}),Object(b.jsx)("div",{children:Object(b.jsx)(lt,{details:n})}),Object(b.jsx)("div",{children:Object(b.jsx)(G,{title:"Match",children:Object(b.jsx)(lt,{details:n})})}),Object(b.jsx)("div",{}),Object(b.jsx)(Rt,{})]})]})}})}var wn=function(){return localStorage.getItem("tw-bp:theme")?localStorage.getItem("tw-bp:theme"):"carling"},Cn=new u.a;var kn=function(){var e=Object(r.useState)(wn),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],p=s[1],h=function(e){return p(e)};return Object(r.useEffect)((function(){!function(e){var t,n={"--color-primary":(t=A[e]).primary||"","--color-primary-light":t.primaryLight||"","--color-primary-active":t.primaryActive||"","--color-secondary":t.secondary||"","--color-positive":t.positive||"","--color-negative":t.negative||"","--color-primary-text":t.primaryText||"","--color-secondary-text":t.secondaryText||"","--color-input-background":t.inputBackground||"","--color-link-text":t.linkText||"","--primary-background":t.primaryBackground||"","--sec-background":t.secondaryBackground||""};if(n){var r=document.documentElement;Object.keys(n).forEach((function(e){"name"!==e&&r.style.setProperty(e,n[e])}))}}(n)}),[n]),Object(r.useEffect)((function(){document.title=u}),[u]),Object(b.jsx)(m,{theme:n,changeTheme:function(e){localStorage.setItem("tw-bp:theme",e.target.value),a(e.target.value)},children:Object(b.jsx)(F,{children:Object(b.jsxs)(d.a,{client:Cn,children:[Object(b.jsx)(Et,{}),Object(b.jsx)(o.a,{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/versus/:player1Id(\\d+)?/:player2Id(\\d+)?",children:Object(b.jsx)(vn,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/player/:playerId(\\d+)?",children:Object(b.jsx)($t,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/records/",children:Object(b.jsx)(dn,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/games/",exact:!0,children:Object(b.jsx)(Kt,{updatePageTitle:h})}),Object(b.jsx)(B,{path:"/games/new",children:Object(b.jsx)(Zt,{updatePageTitle:h})}),Object(b.jsx)(B,{path:"/games/:gameId(\\d+)",children:Object(b.jsx)(Jt,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/tournaments",exact:!0,children:Object(b.jsx)(On,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/tournaments/:tournamentId(\\d+)",children:Object(b.jsx)(On,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/settings",children:Object(b.jsx)(bn,{updatePageTitle:h})}),Object(b.jsx)(ot,{path:"/signin",children:Object(b.jsx)(hn,{updatePageTitle:h})}),Object(b.jsx)(ot,{path:"/signup",children:Object(b.jsx)(fn,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/test",children:Object(b.jsx)(yn,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/",exact:!0,children:Object(b.jsx)(Yt,{updatePageTitle:h})}),Object(b.jsx)(l.b,{path:"/*",children:Object(b.jsx)(Gt,{updatePageTitle:h})})]})}),Object(b.jsx)(j.ReactQueryDevtools,{})]})})})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(kn,{})}),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.96ea75b6.chunk.js.map