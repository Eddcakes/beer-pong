{"version":3,"sources":["contexts/AuthContext.js","hooks/useProvideAuth.js","contexts/AuthProvider.js","contexts/ThemeContext.js","contexts/ThemeProvider.js","theme/base.js","theme/utils.js","theme/dark.js","theme/index.js","theme/casual.js","theme/vb.js","theme/mixedFruit.js","theme/carling.js","components/controls/Checkbox.js","components/controls/Input.js","components/controls/InputNumber.js","components/controls/Select.js","components/controls/Toggle.js","queries/fetchGameById.js","queries/fetchGames.js","queries/fetchGamesByTournamentId.js","queries/fetchNews.js","queries/fetchNicksByPlayerId.js","queries/fetchPlayerById.js","queries/fetchPlayerOverview.js","queries/fetchPlayers.js","queries/fetchPreferences.js","queries/fetchRecentGamesByPlayerId.js","queries/fetchRecords.js","queries/fetchRecordsByPlayerId.js","queries/fetchTournamentById.js","queries/fetchTournaments.js","queries/fetchVenues.js","queries/postNewGame.js","queries/postNewPlayer.js","queries/postPreferences.js","queries/postSaveGamePlay.js","hooks/useAuth.js","components/forms/UserPreferences.js","components/game/Cup.js","components/game/Cups.js","components/game/CupsView.js","utils/tableMachine.js","components/game/GamePlay.js","components/game/GameView.js","components/game/HoverElement.js","components/layout/Card.js","components/layout/Container.js","components/layout/Divider.js","components/layout/Modal.js","components/routing/AuthorisedRoute.js","components/routing/LoggedOutRoute.js","components/tournament/TournamentDetail.js","assets/evt-placeholder.jpg","components/tournament/TournamentList.js","components/Button.js","components/Decoration.js","hooks/useTheme.js","components/Header.js","assets/beer-pong.svg","components/Logo.js","components/Match.js","components/MatchGrid.js","icons/ChevronDown.js","icons/Plus.js","icons/Tick.js","components/Menu.js","components/Nav.js","hooks/useWindowSize.js","components/PinnedNews.js","components/News.js","components/PlayerDetails.js","components/PlayerOverview.js","components/PlayerPicker.js","components/Refreshing.js","utils/searchPages.js","components/Search.js","components/Swatch.js","components/ThemeSwitcher.js","pages/E404.js","pages/Game.js","pages/Games.js","pages/Home.js","pages/NewGame.js","pages/NewPlayer.js","pages/Player.js","pages/Records.js","pages/Settings.js","pages/SignIn.js","pages/SignUp.js","pages/Tournament.js","pages/Unauthorised.js","pages/Versus.js","pages/Test.js","App.js","index.js"],"names":["AuthContext","createContext","postSignUp","data","a","fetch","process","method","body","JSON","stringify","headers","credentials","signup","json","dataJson","fetchSession","userSession","userSessionJson","postSignOut","signOut","signOutJson","postSignIn","signIn","AuthProvider","children","auth","useState","user","setUser","signUp","details","signUpNewUser","error","postError","creds","signMeIn","signOutResponse","useEffect","checkSession","useProvideAuth","Provider","value","ThemeContext","ThemeProvider","theme","changeTheme","switchTheme","extending","newTheme","base","primary","secondary","negative","positive","primaryText","linkText","primaryBackground","secondaryBackground","dark","themes","casual","primaryLight","primaryActive","vb","mixedFruit","inputBackground","carling","secondaryText","Checkbox","label","name","checked","handleChange","htmlFor","className","id","type","onChange","Input","placeholder","required","helpText","errorMsg","inputProps","length","InputNumber","min","max","Select","rest","Toggle","toggle","active","onClick","gameId","game","resp","Error","fetchGames","games","player","fetchNews","news","playerId","nicks","fetchPlayerById","fetchPlayerOverview","overviewResp","overview","fetchPlayers","playersJson","fetchPreferences","recentGames","fetchRecords","records","fetchTournaments","tournaments","fetchVenues","venuesJson","postNewGame","newGame","newGameJson","postNewPlayer","newPlayer","newPlayerJson","postPreferences","newPreferences","preferences","postSaveGamePlay","updateGame","useAuth","useContext","schema","Joi","object","keys","avatar_link","string","trim","uri","UserPreferences","avatarLink","setPreferences","queryClient","useQueryClient","useQuery","enabled","isLoading","mutation","useMutation","onError","setErrorMsg","onSuccess","invalidateQueries","saveChanges","evt","preventDefault","validPreferences","mutate","valid","validate","undefined","message","target","old","Button","text","handleClick","disabled","Cup","pickCup","rerack","rim","cx","x","cy","y","r","data-name","Number","textAnchor","style","fontSize","Cups","side","cups","forwardRef","gameSize","mouseExit","newMove","svgCoord","movingState","lastHover","selectedCup","lines","size","viewSize","lineList","ii","push","x1","y1","x2","y2","createGridLines","viewBox","height","width","ref","onMouseMove","onMouseLeave","map","strokeWidth","HoverElement","filter","cup","hit","CupsView","createInitialCups","owner","handleHomeCups","ctx","time","Date","toISOString","newHome","homeCups","rimCup","timestamp","hitCup","handleHomeCupsLeft","homeCupsLeft","handleHomeCupsForfeit","alreadyHit","forfeitCups","handleHomeCupsLeftForfeit","handleAwayCups","newAway","awayCups","handleAwayCupsLeft","awayCupsLeft","handleAwayCupsForfeit","handleAwayCupsLeftForfeit","checkLastCup","context","event","checkWin","isHovering","hoverMoved","clampedX","floorBound","position","clampedY","homeReracked","homeCupRerackComplete","awayReracked","awayCupRerackComplete","num","lower","upper","Math","floor","GamePlay","gameDetails","gameMutate","tableMachine","state","Machine","initial","states","playing","on","PICKCUP","actions","FORFEIT_HOME","FORFEIT_AWAY","RERACK","modal","SINK","CATCH","cond","SPILL","OTHER","RIM","CANCEL","SAVE","idle","moving","MOUSEMOVE","assign","NEWPOS","cupsNewPos","cupName","restOfCups","newPosition","EXIT","finish","selectCup","getAttribute","updateCups","homeCupRimCount","awayCupRimCount","clearSelected","commitSudoku","storeHomeCups","preRackHomeCups","storeAwayCups","preRackAwayCups","restoreCups","clearPreRack","saveCups","guards","createMachineFromState","game_table","useMachine","send","centreAdjustment","cupsRef","useRef","current","point","createSVGPoint","clientX","clientY","cursorPoint","matrixTransform","getScreenCTM","inverse","handleSubmit","toStringify","player1","player2","forfeit","table","home_name","matches","_","window","confirm","away_name","fullWidth","Modal","isOpen","dismiss","title","color","buttonColor","outlined","GameView","home_cups_left","away_cups_left","Card","renderTitle","isValidElement","Container","maxW","maxH","Divider","document","overflow","role","aria-modal","aria-labelledby","aria-label","AuthorisedRoute","minimumRole","render","roleLevel","location","role_level","Unauthorised","to","pathname","from","LoggedOutRoute","updatePageTitle","TournamentDetail","fetchGamesByTournamentId","isLoadingGames","fetchTournamentById","tournament","isLoadingTournament","MatchGrid","TournamentList","date","t","Short","image","shortDate","toLocaleDateString","src","placeholderImg","alt","buttonVariant","variant","loading","props","customisations","bg","borderColor","hoverBg","hoverBorder","hoverText","activeBg","activeText","squareClasses","regularClasses","LinkAsButton","classes","square","Decoration","clipPath","top","borderWidth","Header","Logo","Nav","Search","Menu","logo","Match","isWinner","cupsLeft","venue","tournament_id","stage","formatDateString","home_id","away_id","dateString","split","reverse","join","ChevronDown","xmlns","fill","stroke","strokeLinecap","strokeLinejoin","d","Plus","Tick","fillRule","clipRule","setIsOpen","closeMenu","history","useHistory","tabIndex","MenuItem","MenuSpacer","go","innerWidth","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","useWindowSize","exact","StyledNavLink","activeClassName","PinnedNews","maxHeight","small","class","medium","large","xlarge","News","article","ClipNews","content","clipRef","showExpand","setShowExpand","expand","setExpand","getBoundingClientRect","remarkPlugins","gfm","PlayerDetails","fetchRecordsByPlayerId","fetchNicksByPlayerId","fetchRecentGamesByPlayerId","nick","PlayerOverview","record","showHeaders","ColumnHeader","labels","show","idx","last","ColumnPlayer","playerData","Cell","header","forfeits","homeWins","awayWins","toFixed","quarterFinals","semiFinals","finals","finalsWon","PlayerPicker","items","playerNames","selected","selectPlayer","showModal","setShowModal","searchText","setSearchText","toggleModal","item","toLowerCase","indexOf","toString","aria-selected","Refreshing","useIsFetching","searchPages","link","description","inputFocus","setInputFocus","onFocus","onBlur","relatedTarget","Suggestions","page","cleanText","setCurrent","handleHover","itemIndex","keyPressHandler","key","SearchItem","itemFocus","onMouseOver","data-path","Swatch","themeNames","ThemeSwitcher","Consumer","E404","Game","useParams","fetchGameById","CardTitle","home","away","number","locked","notes","access","Games","Home","initialForm","homeForfeit","awayForfeit","reducer","action","fieldName","NewGame","useReducer","formState","dispatch","pastGame","setPastGame","players","venues","handleChangeNumber","handleForfeitCheck","includes","validForm","initialTable","firstThrow","winner","turns","cupNewPos","stack","values","created","console","log","messages","integer","less","maxGameSize","greater","minGameSize","boolean","onSubmit","playerName","NewPlayer","Player","Records","groupedRecords","useMemo","grouped","forEach","Object","entries","RecordList","recordType","DisplayRecords","player_id","Settings","username","regex","password","SignIn","useLocation","setUsername","setPassword","validUser","signInCreds","replace","confirmPassword","SignUp","email","setEmail","setConfirmPassword","newUserCreds","signupResp","aria-describedby","minLength","Tournament","tournamentId","Versus","setPlayers","loadingPlayerList","errorPlayerList","playerList","gameData","setGameData","playerOverview","setPlayerOverview","useCallback","previous","sp","then","isIntOrStringInt","splitPath","player1Id","player2Id","some","response","param","isInteger","Test","testGame","defaultTheme","localStorage","getItem","QueryClient","App","setTheme","pageTitle","setPageTitle","newTitle","themeVar","themeObject","root","documentElement","property","setProperty","applyTheme","setItem","QueryClientProvider","client","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2a9d97ba.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\n//export default AuthContext;\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport function useProvideAuth() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const signUp = async (details) => {\r\n    try {\r\n      const signUpNewUser = await postSignUp(details);\r\n      if (signUpNewUser.error) {\r\n        return signUpNewUser;\r\n      }\r\n      setUser(signUpNewUser.user);\r\n      return signUpNewUser;\r\n    } catch (err) {\r\n      return { postError: 'failed to post' };\r\n    }\r\n  };\r\n\r\n  const signIn = async (creds) => {\r\n    try {\r\n      const signMeIn = await postSignIn(creds);\r\n      setUser(signMeIn.user);\r\n      return signMeIn;\r\n    } catch (err) {\r\n      return { postError: 'failed to post' };\r\n    }\r\n  };\r\n\r\n  const signOut = async () => {\r\n    try {\r\n      const signOutResponse = await postSignOut();\r\n      setUser(null);\r\n      return signOutResponse;\r\n    } catch (err) {\r\n      // cant reach\r\n    }\r\n    setUser(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // if user changes then set the object as appropriate\r\n    async function checkSession() {\r\n      const userSession = await fetchSession();\r\n      setUser(userSession.user);\r\n    }\r\n    checkSession();\r\n  }, []);\r\n\r\n  return {\r\n    user,\r\n    signUp,\r\n    signIn,\r\n    signOut,\r\n  };\r\n}\r\n\r\nasync function postSignUp(data) {\r\n  const signup = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/auth/signup`,\r\n    {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const dataJson = await signup.json();\r\n  return dataJson;\r\n}\r\n\r\nasync function fetchSession() {\r\n  const userSession = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1`,\r\n    { credentials: 'include' }\r\n  );\r\n  const userSessionJson = await userSession.json();\r\n  return userSessionJson;\r\n}\r\n\r\nasync function postSignOut() {\r\n  const signOut = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/auth/signout`,\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const signOutJson = await signOut.json();\r\n  return signOutJson;\r\n}\r\n\r\nasync function postSignIn(data) {\r\n  const signIn = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/auth/signin`,\r\n    {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const dataJson = await signIn.json();\r\n  return dataJson;\r\n}\r\n","import { AuthContext } from './AuthContext';\r\nimport { useProvideAuth } from '../hooks/useProvideAuth';\r\n\r\nexport function AuthProvider({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>;\r\n}\r\n","import { createContext } from 'react';\r\n\r\nexport const ThemeContext = createContext();\r\n","import React from 'react';\r\n\r\nimport { ThemeContext } from './ThemeContext';\r\n\r\nexport function ThemeProvider({ theme, changeTheme, children }) {\r\n  return (\r\n    <ThemeContext.Provider value={{ theme: theme, switchTheme: changeTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n","export const base = {\r\n  primary: '#61DAFB',\r\n  secondary: '#254E70',\r\n  negative: '#e45b78',\r\n  positive: '#A3D9B1',\r\n  primaryText: '#333',\r\n  linkText: '#1976d2',\r\n  primaryBackground: '#efefef',\r\n  secondaryBackground: '#F6F9FC',\r\n};\r\n","import { themes } from './index';\r\n\r\nexport const mapTheme = (themeVar) => {\r\n  return {\r\n    '--color-primary': themeVar.primary || '',\r\n    '--color-primary-light': themeVar.primaryLight || '',\r\n    '--color-primary-active': themeVar.primaryActive || '',\r\n    '--color-secondary': themeVar.secondary || '',\r\n    '--color-positive': themeVar.positive || '',\r\n    '--color-negative': themeVar.negative || '',\r\n    '--color-primary-text': themeVar.primaryText || '',\r\n    '--color-secondary-text': themeVar.secondaryText || '',\r\n    '--color-input-background': themeVar.inputBackground || '',\r\n    '--color-link-text': themeVar.linkText || '',\r\n    '--primary-background': themeVar.primaryBackground || '',\r\n    '--sec-background': themeVar.secondaryBackground || '',\r\n  };\r\n};\r\n\r\nexport const applyTheme = (theme) => {\r\n  const themeObject = mapTheme(themes[theme]);\r\n  if (!themeObject) return;\r\n\r\n  const root = document.documentElement;\r\n\r\n  Object.keys(themeObject).forEach((property) => {\r\n    if (property === 'name') return;\r\n    root.style.setProperty(property, themeObject[property]);\r\n  });\r\n};\r\n\r\nexport const extend = (extending, newTheme) => {\r\n  return { ...extending, ...newTheme };\r\n};\r\n","// example of extending a theme\r\n\r\nimport { extend } from './utils';\r\nimport { base } from './base';\r\n\r\nexport const dark = extend(base, {\r\n  primaryBackground: '#444444',\r\n  secondaryBackground: '#7b7b7b',\r\n  primaryText: '#fff',\r\n});\r\n","import { base } from './base';\r\nimport { dark } from './dark';\r\nimport { casual } from './casual';\r\nimport { vb } from './vb';\r\nimport { mixedFruit } from './mixedFruit';\r\nimport { carling } from './carling';\r\nexport * from './base';\r\nexport * from './utils';\r\n\r\nexport const DEFAULT_THEME = 'carling';\r\n\r\nexport const themes = { base, dark, casual, vb, mixedFruit, carling };\r\n","export const casual = {\r\n  primary: '#3B82F6',\r\n  primaryLight: '#93C5FD',\r\n  primaryActive: '#60A5FA',\r\n  secondary: '#E8EBF7',\r\n  negative: '#DE1A1A',\r\n  positive: '#68EDC6',\r\n  primaryText: '#1D4ED8',\r\n  linkText: '#1976d2',\r\n  primaryBackground: '#D78521',\r\n  secondaryBackground: '#F2D398',\r\n};\r\n","export const vb = {\r\n  primary: '#093A16',\r\n  primaryLight: '#148633',\r\n  primaryActive: '#19AC41',\r\n  secondary: '#D33020',\r\n  positive: '#2FD158',\r\n  negative: '#861E14',\r\n  primaryText: '#0D3918',\r\n  linkText: '#1976d2',\r\n  primaryBackground: '#f1eedd',\r\n  secondaryBackground: '#fff',\r\n};\r\n","export const mixedFruit = {\r\n  primary: '#6366F1',\r\n  primaryLight: '#C4B5FD',\r\n  primaryActive: '#A78BFA',\r\n  secondary: '#F7C259',\r\n  positive: '#2FD158',\r\n  negative: '#861E14',\r\n  primaryText: '#C31547',\r\n  inputBackground: '#FDF2F8',\r\n  linkText: '#1976d2',\r\n  primaryBackground: '#ECFDF5',\r\n  secondaryBackground: '#FCE7F3',\r\n};\r\n\r\n/*\r\n  primary: '#E84C40',\r\n  primaryLight: '#FF6C46',\r\n  primaryActive: '#FF5F46',\r\n*/\r\n","export const carling = {\r\n  primary: '#da291c', //#D12510\r\n  primaryLight: '#B11E0C', //#b92116\r\n  primaryActive: '#7D1508',\r\n  secondary: '#000',\r\n  positive: '#2FD158',\r\n  negative: '#B91C1C',\r\n  primaryText: '#000',\r\n  secondaryText: '#fff',\r\n  linkText: '#337ab7',\r\n  primaryBackground: '#fff',\r\n  secondaryBackground: '#F5F5F5',\r\n};\r\n\r\n/*\r\nwould i want to add theme decorations?\r\n.text {\r\n  position: relative;\r\n  width: 5em;\r\n  margin: 2em;\r\n}\r\n.text::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  background-color: black;\r\n  height: 30px;\r\n  width: 100%;\r\n  left: 0;\r\n  top: -30px;\r\n}\r\n.text::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  right: 0;\r\n  border-width: 0 12px 12px 0;\r\n  border-color: red #fff red #fff;\r\n  border-style: solid;\r\n  transform: rotate(90deg);\r\n  top: -12px;\r\n}\r\n*/\r\n","export function Checkbox({ label, name, checked, handleChange }) {\r\n  return (\r\n    <div>\r\n      <label htmlFor={name} className='pr-3'>\r\n        {label}\r\n      </label>\r\n      <input\r\n        name={name}\r\n        id={name}\r\n        type='checkbox'\r\n        onChange={handleChange}\r\n        checked={checked}\r\n        className='form-checkbox h-5 w-5'\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/*\r\ninput should have\r\nlabel\r\ninput\r\nerror msg\r\n*/\r\n/* spreading extra input props allows optional use of aria properties*/\r\nexport function Input({\r\n  name,\r\n  type = 'text',\r\n  label = '',\r\n  placeholder = '',\r\n  required = false,\r\n  value,\r\n  onChange,\r\n  helpText = '',\r\n  errorMsg = '',\r\n  ...inputProps\r\n}) {\r\n  return (\r\n    <div className='flex flex-col mb-2'>\r\n      <label htmlFor={name}>{label}</label>\r\n      <input\r\n        name={name}\r\n        className={`\r\n        w-full block\r\n        appearance-none\r\n        bg-input-background\r\n        border\r\n        border-gray-200\r\n        text-gray-700\r\n        py-3\r\n        px-4\r\n        pr-8\r\n        rounded\r\n        leading-tight\r\n        focus:bg-white\r\n        focus:border-gray-500`}\r\n        value={value}\r\n        onChange={onChange}\r\n        required={required}\r\n        type={type}\r\n        placeholder={placeholder}\r\n        {...inputProps}\r\n      />\r\n      {helpText.length > 0 ? (\r\n        <small id={name + 'Help'}>{helpText}</small>\r\n      ) : null}\r\n      {errorMsg.length > 0 && <p className='text-negative'>{errorMsg}</p>}\r\n    </div>\r\n  );\r\n}\r\n","/* support different types of number inputs */\r\n/* to use browser min/max or JOI validation? */\r\nexport function InputNumber({\r\n  name,\r\n  min = 0,\r\n  max = 6,\r\n  label = '',\r\n  onChange,\r\n  value,\r\n  required = false,\r\n  helpText = '',\r\n  errorMsg = '',\r\n}) {\r\n  return (\r\n    <div className='flex flex-col mb-2'>\r\n      <label htmlFor={name}>{label}</label>\r\n      <input\r\n        name={name}\r\n        className={`\r\n        w-full block\r\n        appearance-none\r\n        bg-input-background\r\n        border\r\n        border-gray-200\r\n        text-gray-700\r\n        py-3\r\n        px-4\r\n        pr-8\r\n        rounded\r\n        leading-tight\r\n        focus:outline-none\r\n        focus:bg-white\r\n        focus:border-gray-500\r\n        `}\r\n        value={value}\r\n        onChange={onChange}\r\n        min={min}\r\n        max={max}\r\n        required={required}\r\n        type='number'\r\n      />\r\n      {helpText.length > 0 ? (\r\n        <small id={name + 'Help'}>{helpText}</small>\r\n      ) : null}\r\n      {errorMsg.length > 0 && <p className='text-negative'>{errorMsg}</p>}\r\n    </div>\r\n  );\r\n}\r\n","export function Select({\r\n  name,\r\n  placeholder = 'Select option',\r\n  onChange = () => {},\r\n  children,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <select\r\n      name={name}\r\n      // appearance-none\r\n      className={`\r\n      w-full\r\n      block\r\n      bg-input-background\r\n      border\r\n      border-gray-200\r\n      text-gray-700\r\n      py-3\r\n      px-4\r\n      pr-8\r\n      rounded\r\n      leading-tight\r\n      focus:outline-none\r\n      focus:bg-white\r\n      focus:border-gray-500\r\n      `}\r\n      onChange={onChange}\r\n      {...rest}\r\n    >\r\n      <option value=''>{placeholder}</option>\r\n      {children}\r\n    </select>\r\n  );\r\n}\r\n","/* change to input checkbox */\r\nexport function Toggle({ toggle, active }) {\r\n  return (\r\n    <div\r\n      className={`w-16 h-10 rounded-full flex-shrink-0 p-1 ${\r\n        active ? 'bg-positive' : 'bg-gray-300'\r\n      }`}\r\n      onClick={toggle}\r\n    >\r\n      <div\r\n        className={`bg-white w-8 h-8 rounded-full shadow-md transform duration-300 ease-in-out ${\r\n          active ? 'translate-x-6' : ''\r\n        }`}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n","export async function fetchGameById(gameId) {\r\n  try {\r\n    const game = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/games/${gameId}`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const resp = await game.json();\r\n    return resp;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function fetchGames() {\r\n  try {\r\n    const games = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/games/`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const resp = await games.json();\r\n    return resp;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function fetchGamesByTournamentId(id) {\r\n  const player = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/games/tournament/${id}`\r\n  );\r\n  const resp = await player.json();\r\n  return resp;\r\n}\r\n","export async function fetchNews() {\r\n  const news = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/news/`);\r\n  const resp = await news.json();\r\n  return resp;\r\n}\r\n","export async function fetchNicksByPlayerId(playerId) {\r\n  const nicks = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/nicknames/player/${playerId}`\r\n  );\r\n  const resp = await nicks.json();\r\n  return resp;\r\n}\r\n","export async function fetchPlayerById(playerId) {\r\n  try {\r\n    const player = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/players/${playerId}`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const resp = await player.json();\r\n    return resp;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function fetchPlayerOverview(playerId) {\r\n  const overviewResp = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/overview/${playerId}`\r\n  );\r\n  const overview = await overviewResp.json();\r\n  return overview;\r\n}\r\n","export async function fetchPlayers() {\r\n  try {\r\n    const fetchPlayers = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/players`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const playersJson = await fetchPlayers.json();\r\n    return playersJson;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function fetchPreferences() {\r\n  const player = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/preferences/`,\r\n    {\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const resp = await player.json();\r\n  return resp;\r\n}\r\n","export async function fetchRecentGamesByPlayerId(playerId) {\r\n  const recentGames = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/games/recent/${playerId}`\r\n  );\r\n  const resp = await recentGames.json();\r\n  return resp;\r\n}\r\n","export async function fetchRecords() {\r\n  try {\r\n    const records = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/records/`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const resp = await records.json();\r\n    return resp;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function fetchRecordsByPlayerId(playerId) {\r\n  const records = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/records/player/${playerId}`\r\n  );\r\n  const resp = await records.json();\r\n  return resp;\r\n}\r\n","export async function fetchTournamentById(id) {\r\n  const player = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/tournaments/${id}`\r\n  );\r\n  const resp = await player.json();\r\n  return resp;\r\n}\r\n","export async function fetchTournaments() {\r\n  try {\r\n    const tournaments = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/tournaments/`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const resp = await tournaments.json();\r\n    return resp;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function fetchVenues() {\r\n  try {\r\n    const fetchVenues = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/venues`,\r\n      {\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const venuesJson = await fetchVenues.json();\r\n    return venuesJson;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","export async function postNewGame(data) {\r\n  const newGame = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/games/new`,\r\n    {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const newGameJson = await newGame.json();\r\n  return newGameJson;\r\n}\r\n","export async function postNewPlayer(data) {\r\n  const newPlayer = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/players/new`,\r\n    {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const newPlayerJson = await newPlayer.json();\r\n  return newPlayerJson;\r\n}\r\n","export async function postPreferences(newPreferences) {\r\n  const preferences = await fetch(\r\n    `${process.env.REACT_APP_BACKEND_URL}/api/v1/preferences/`,\r\n    {\r\n      method: 'POST',\r\n      body: JSON.stringify(newPreferences),\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    }\r\n  );\r\n  const resp = await preferences.json();\r\n  return resp;\r\n}\r\n","export async function postSaveGamePlay(data) {\r\n  const { id: gameId, ...rest } = data;\r\n  try {\r\n    const updateGame = await fetch(\r\n      `${process.env.REACT_APP_BACKEND_URL}/api/v1/games/${gameId}`,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(rest),\r\n        headers: {\r\n          'content-type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      }\r\n    );\r\n    const resp = await updateGame.json();\r\n    return resp;\r\n  } catch (err) {\r\n    throw new Error(err);\r\n  }\r\n}\r\n","import { useContext } from 'react';\r\n\r\nimport { AuthContext } from '../contexts';\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport Joi from 'joi';\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\r\n\r\nimport { Button, Input } from '../index';\r\nimport { fetchPreferences, postPreferences } from '../../queries';\r\nimport { useAuth } from '../../hooks/useAuth';\r\n\r\nconst schema = Joi.object().keys({\r\n  avatar_link: Joi.string().trim().uri(),\r\n});\r\n\r\nexport function UserPreferences() {\r\n  const { user } = useAuth();\r\n  const [preferences, setPreferences] = useState({ avatarLink: '' });\r\n  const queryClient = useQueryClient();\r\n  const { isLoading, data, error } = useQuery(\r\n    ['preferences'],\r\n    fetchPreferences,\r\n    { enabled: !!user }\r\n  );\r\n  const mutation = useMutation(postPreferences, {\r\n    onError: (error) => {\r\n      setErrorMsg(error);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('preferences');\r\n    },\r\n  });\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  //name of property and value\r\n  const updatePreferences = (evt) => {\r\n    const { name, value } = evt.target;\r\n    setPreferences((old) => ({ ...old, [name]: value }));\r\n  };\r\n\r\n  const saveChanges = async (evt) => {\r\n    evt.preventDefault();\r\n    if (validPreferences()) {\r\n      //data that we be posting\r\n      const data = {\r\n        avatar_link: preferences.avatarLink,\r\n      };\r\n      mutation.mutate(data);\r\n    }\r\n  };\r\n\r\n  function validPreferences() {\r\n    const valid = schema.validate({\r\n      avatar_link: preferences.avatarLink,\r\n    });\r\n    if (valid.error === undefined) {\r\n      return true;\r\n    } else {\r\n      setErrorMsg(valid.error.message);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    //sync form state with react-query, or use uncontrolled components with a default?\r\n    if (data) {\r\n      setPreferences(data[0]);\r\n    }\r\n  }, [data]);\r\n\r\n  if (!user) {\r\n    return <div>Please log in to save personal preferences</div>;\r\n  }\r\n  return (\r\n    <form>\r\n      {isLoading && <span>Loading...</span>}\r\n      {error && <span>Error {JSON.stringify(error, null, 2)}</span>}\r\n      {!isLoading && (\r\n        <>\r\n          <Input\r\n            name='avatarLink'\r\n            label='Link to avatar'\r\n            value={preferences?.avatarLink}\r\n            onChange={updatePreferences}\r\n            errorMsg={errorMsg}\r\n          />\r\n          <Button\r\n            text='Save changes'\r\n            handleClick={saveChanges}\r\n            disabled={mutation.isLoading}\r\n          />\r\n        </>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n","export function Cup({ details, pickCup, rerack }) {\r\n  const rad = 2;\r\n  if (details?.rim) {\r\n    return (\r\n      <g>\r\n        <circle\r\n          cx={details.x}\r\n          cy={details.y}\r\n          r={rad}\r\n          name={details.name}\r\n          className='cursor-pointer'\r\n          data-name={details.name}\r\n          onClick={pickCup}\r\n        />\r\n        <text\r\n          x={details.x}\r\n          y={Number(details.y) + 0.5}\r\n          textAnchor='middle'\r\n          className='pointer-events-none fill-current text-red-500'\r\n          style={{ fontSize: '0.1rem' }}\r\n        >\r\n          {details.rim.length}\r\n        </text>\r\n      </g>\r\n    );\r\n  }\r\n  return (\r\n    <circle\r\n      cx={details.x}\r\n      cy={details.y}\r\n      r={rad}\r\n      name={details.name}\r\n      className='cursor-pointer'\r\n      data-name={details.name}\r\n      onClick={pickCup}\r\n    />\r\n  );\r\n}\r\n","import { Cup, HoverElement } from './index';\r\n\r\nexport function Cups({\r\n  side,\r\n  cups,\r\n  forwardRef,\r\n  gameSize = 6,\r\n  mouseExit,\r\n  pickCup,\r\n  newMove,\r\n  svgCoord,\r\n  rerack,\r\n  movingState,\r\n  lastHover,\r\n  selectedCup,\r\n}) {\r\n  const lines = createGridLines(gameSize);\r\n  const highlightSize = 4; //\r\n  if (Number(gameSize) === 10) {\r\n    return <svg viewBox='0 0 12 12' data-name={`${side}Svg`}></svg>;\r\n  }\r\n  return (\r\n    <svg\r\n      viewBox='0 0 12 12'\r\n      height='15em'\r\n      width='15em'\r\n      data-name={`${side}Svg`}\r\n      ref={forwardRef}\r\n      onMouseMove={newMove}\r\n      onMouseLeave={mouseExit}\r\n      onClick={movingState ? svgCoord : undefined} //pickspot\r\n      className='border'\r\n    >\r\n      {rerack &&\r\n        lines.map(({ x1, y1, x2, y2 }) => (\r\n          <line\r\n            key={`${x1}${x2}${y1}${y2}`}\r\n            x1={x1}\r\n            x2={x2}\r\n            y1={y1}\r\n            y2={y2}\r\n            className='stroke-current text-gray-500'\r\n            strokeWidth={0.1}\r\n          />\r\n        ))}\r\n      {movingState && side === selectedCup?.side && (\r\n        <HoverElement x={lastHover.x} y={lastHover.y} size={highlightSize} />\r\n      )}\r\n      {cups\r\n        .filter((cup) => !cup.hit)\r\n        .map((cup) => {\r\n          return (\r\n            <Cup\r\n              details={cup}\r\n              key={cup.name}\r\n              rerack={rerack}\r\n              pickCup={pickCup}\r\n            />\r\n          );\r\n        })}\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction createGridLines(size) {\r\n  const viewSize = size * 2;\r\n  let lineList = [];\r\n  for (let ii = 0; ii < viewSize; ii++) {\r\n    lineList.push({ x1: 0, y1: ii, x2: viewSize, y2: ii });\r\n    lineList.push({ x1: ii, y1: 0, x2: ii, y2: viewSize });\r\n  }\r\n  return lineList;\r\n}\r\n","import { Cup } from './index';\r\n\r\nexport function CupsView({ side, cups, gameSize = 6 }) {\r\n  if (Number(gameSize) === 10) {\r\n    return <svg viewBox='0 0 12 12' data-name={`${side}Svg`}></svg>;\r\n  }\r\n  return (\r\n    <div className='grid justify-center pb-4'>\r\n      <svg\r\n        viewBox='0 0 12 12'\r\n        height='15em'\r\n        width='15em'\r\n        data-name={`${side}Svg`}\r\n        className='border'\r\n      >\r\n        {cups\r\n          .filter((cup) => !cup.hit)\r\n          .map((cup) => {\r\n            return (\r\n              <Cup\r\n                details={cup}\r\n                key={cup.name}\r\n                rerack={undefined}\r\n                pickCup={undefined}\r\n              />\r\n            );\r\n          })}\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","import { Machine, assign } from 'xstate';\r\n\r\n/* owner -> playerId, side -> home/away, how to calculate for 10 cups/team games */\r\nexport function createInitialCups(owner, side) {\r\n  return [\r\n    {\r\n      side: side,\r\n      name: `${side}x6-y2`,\r\n      x: '6',\r\n      y: '2',\r\n      owner: `${owner}`,\r\n      hit: null,\r\n    },\r\n    {\r\n      side: side,\r\n      name: `${side}x4-y6`,\r\n      x: '4',\r\n      y: '6',\r\n      owner: `${owner}`,\r\n      hit: null,\r\n    },\r\n    {\r\n      side: side,\r\n      name: `${side}x8-y6`,\r\n      x: '8',\r\n      y: '6',\r\n      owner: `${owner}`,\r\n      hit: null,\r\n    },\r\n    {\r\n      side: side,\r\n      name: `${side}x2-y10`,\r\n      x: '2',\r\n      y: '10',\r\n      owner: `${owner}`,\r\n      hit: null,\r\n    },\r\n    {\r\n      side: side,\r\n      name: `${side}x6-y10`,\r\n      x: '6',\r\n      y: '10',\r\n      owner: `${owner}`,\r\n      hit: null,\r\n    },\r\n    {\r\n      side: side,\r\n      name: `${side}x10-y10`,\r\n      x: '10',\r\n      y: '10',\r\n      owner: `${owner}`,\r\n      hit: null,\r\n    },\r\n  ];\r\n}\r\n// hitcup = null || {timestamp: 'datetime', type: 'sink' || 'catch' || 'spill' || 'other'}\r\n\r\nexport const createMachineFromState = (state) => {\r\n  return Machine(\r\n    {\r\n      id: 'pong',\r\n      initial: 'playing',\r\n      context: {\r\n        ...state,\r\n      },\r\n      states: {\r\n        playing: {\r\n          /* always: [{ cond: 'checkWin', target: 'finish' }], */\r\n          on: {\r\n            PICKCUP: { actions: 'selectCup', target: 'modal' },\r\n            FORFEIT_HOME: { actions: 'commitSudoku', target: 'finish' },\r\n            FORFEIT_AWAY: { actions: 'commitSudoku', target: 'finish' },\r\n            RERACK: {\r\n              actions: ['storeHomeCups', 'storeAwayCups'],\r\n              target: 'rerack',\r\n            },\r\n          },\r\n        },\r\n        modal: {\r\n          on: {\r\n            SINK: {\r\n              actions: 'updateCups',\r\n              target: 'playing',\r\n            },\r\n            CATCH: {\r\n              actions: 'updateCups',\r\n              target: 'playing',\r\n              cond: 'checkLastCup',\r\n            },\r\n            SPILL: {\r\n              actions: 'updateCups',\r\n              target: 'playing',\r\n            },\r\n            OTHER: {\r\n              actions: 'updateCups',\r\n              target: 'playing',\r\n            },\r\n            RIM: {\r\n              actions: 'rimCup',\r\n              target: 'playing',\r\n            },\r\n            CANCEL: { actions: 'clearSelected', target: 'playing' },\r\n          },\r\n        },\r\n        rerack: {\r\n          on: {\r\n            CANCEL: {\r\n              actions: ['restoreCups', 'clearPreRack', 'clearSelected'],\r\n              target: 'playing',\r\n            },\r\n            SAVE: { actions: 'saveCups', target: 'playing' },\r\n          },\r\n          initial: 'idle',\r\n          states: {\r\n            idle: {\r\n              on: {\r\n                PICKCUP: {\r\n                  target: 'moving',\r\n                  actions: 'selectCup',\r\n                },\r\n              },\r\n            },\r\n            moving: {\r\n              on: {\r\n                MOUSEMOVE: {\r\n                  //target: \"hovering\",\r\n                  actions: assign({\r\n                    isHovering: true,\r\n                    lastHover: (ctx, evt) => {\r\n                      return { x: evt.position.x, y: evt.position.y };\r\n                    },\r\n                  }),\r\n                },\r\n                NEWPOS: {\r\n                  actions: assign({\r\n                    cupsNewPos: (ctx, evt) => {\r\n                      return { x: evt.position.x, y: evt.position.y };\r\n                    },\r\n                    // awayCups: //\r\n                    homeCups: (ctx, evt) => {\r\n                      /* we are clicking the  svg not the cup, \r\n                      \r\n                      there for get attribte for name is not getting the cup\r\n                      we should use the context for selected cup\r\n                      */\r\n                      if (ctx.selectedCup.side === 'home') {\r\n                        //get this cup\r\n                        const cupName = ctx.selectedCup.name;\r\n\r\n                        const restOfCups = ctx.homeCups.filter(\r\n                          (cup) => cup.name !== cupName\r\n                        );\r\n                        const newPosition = {\r\n                          ...ctx.selectedCup,\r\n                          x: evt.position.x + 2,\r\n                          y: evt.position.y + 2,\r\n                        };\r\n                        // calculate new position using evt.position.x/y\r\n                        return [...restOfCups, newPosition]; // ctx.homeCups\r\n                      } else {\r\n                        return ctx.homeCups;\r\n                      }\r\n                    },\r\n                    awayCups: (ctx, evt) => {\r\n                      if (ctx.selectedCup.side === 'away') {\r\n                        const cupName = ctx.selectedCup.name;\r\n                        const restOfCups = ctx.awayCups.filter(\r\n                          (cup) => cup.name !== cupName\r\n                        );\r\n                        const newPosition = {\r\n                          ...ctx.selectedCup,\r\n                          x: evt.position.x + 2,\r\n                          y: evt.position.y + 2,\r\n                        };\r\n                        // calculate new position using evt.position.x/y\r\n                        return [...restOfCups, newPosition];\r\n                      } else {\r\n                        return ctx.awayCups;\r\n                      }\r\n                    },\r\n                    selectedCup: () => null,\r\n                    lastHover: () => ({ x: null, y: null }),\r\n                  }),\r\n                  target: 'idle',\r\n                },\r\n                EXIT: {\r\n                  actions: assign({\r\n                    isHovering: () => false,\r\n                    lastHover: () => ({ x: null, y: null }),\r\n                  }),\r\n                },\r\n              },\r\n            },\r\n          },\r\n        },\r\n        finish: {\r\n          type: 'final',\r\n        },\r\n      },\r\n    },\r\n    {\r\n      actions: {\r\n        selectCup: assign({\r\n          selectedCup: (ctx, evt) => {\r\n            const cupName = evt.details.target.getAttribute('data-name');\r\n            const selCup = [...ctx.homeCups, ...ctx.awayCups].filter(\r\n              (cup) => cup.name === cupName\r\n            );\r\n            return selCup[0];\r\n          },\r\n        }),\r\n        updateCups: assign({\r\n          homeCups: handleHomeCups,\r\n          homeCupsLeft: handleHomeCupsLeft,\r\n          awayCups: handleAwayCups,\r\n          awayCupsLeft: handleAwayCupsLeft,\r\n          selectedCup: null,\r\n        }),\r\n        rimCup: assign({\r\n          homeCups: handleHomeCups,\r\n          homeCupRimCount: (ctx, evt) =>\r\n            ctx.selectedCup.side === 'home'\r\n              ? ctx.homeCupRimCount + 1\r\n              : ctx.homeCupRimCount,\r\n          awayCups: handleAwayCups,\r\n          awayCupRimCount: (ctx, evt) =>\r\n            ctx.selectedCup.side === 'away'\r\n              ? ctx.awayCupRimCount + 1\r\n              : ctx.awayCupRimCount,\r\n          selectedCup: null,\r\n        }),\r\n        clearSelected: assign({ selectedCup: null }),\r\n        commitSudoku: assign({\r\n          homeCups: handleHomeCupsForfeit,\r\n          homeCupsLeft: handleHomeCupsLeftForfeit,\r\n          awayCups: handleAwayCupsForfeit,\r\n          awayCupsLeft: handleAwayCupsLeftForfeit,\r\n          selectedCup: null,\r\n        }),\r\n\r\n        storeHomeCups: assign({\r\n          preRackHomeCups: (ctx, evt) => {\r\n            return ctx.homeCups;\r\n          },\r\n        }),\r\n        storeAwayCups: assign({\r\n          preRackAwayCups: (ctx, evt) => {\r\n            return ctx.awayCups;\r\n          },\r\n        }),\r\n        restoreCups: assign({\r\n          homeCups: (ctx) => ctx.preRackHomeCups,\r\n          awayCups: (ctx) => ctx.preRackAwayCups,\r\n        }),\r\n        clearPreRack: assign({\r\n          preRackHomeCups: () => null,\r\n          preRackAwayCups: () => null,\r\n        }),\r\n        saveCups: assign({\r\n          preRackHomeCups: () => null,\r\n          homeCupRerackComplete: (ctx) => {\r\n            if (ctx.homeCupRerackComplete) {\r\n              // if already true do not change as preRack may be a new location already\r\n              return true;\r\n            }\r\n            return ctx.homeCups === ctx.preRackHomeCups ? false : true;\r\n          },\r\n          preRackAwayCups: () => null,\r\n          awayCupRerackComplete: (ctx) => {\r\n            if (ctx.awayCupRerackComplete) {\r\n              return true;\r\n            }\r\n            return ctx.awayCups === ctx.preRackAwayCups ? false : true;\r\n          },\r\n        }),\r\n      },\r\n      guards: {\r\n        checkWin,\r\n        checkLastCup,\r\n        isHovering,\r\n        hoverMoved,\r\n        homeReracked,\r\n        awayReracked,\r\n      },\r\n    }\r\n  );\r\n};\r\n\r\n/* instead of doing all actions \r\ni should use a cond and only run the right action? */\r\n\r\n// actions\r\n\r\nconst handleHomeCups = (ctx, evt) => {\r\n  if (ctx.selectedCup.side === 'home') {\r\n    const time = new Date().toISOString();\r\n    const newHome = ctx.homeCups.filter(\r\n      (cup) => cup.name !== ctx.selectedCup.name\r\n    );\r\n    if (evt.type === 'RIM') {\r\n      let rimCup;\r\n      if (ctx.selectedCup?.rim != null) {\r\n        rimCup = {\r\n          ...ctx.selectedCup,\r\n          rim: [...ctx.selectedCup?.rim, { timestamp: time, type: evt.type }],\r\n        };\r\n      } else {\r\n        rimCup = {\r\n          ...ctx.selectedCup,\r\n          rim: [{ timestamp: time, type: evt.type }],\r\n        };\r\n      }\r\n      return [...newHome, rimCup];\r\n    } else {\r\n      const hitCup = {\r\n        ...ctx.selectedCup,\r\n        hit: { timestamp: time, type: evt.type },\r\n      };\r\n      return [...newHome, hitCup];\r\n    }\r\n  } else {\r\n    return ctx.homeCups;\r\n  }\r\n};\r\n\r\nconst handleHomeCupsLeft = (ctx, evt) => {\r\n  if (ctx.selectedCup.side === 'home') {\r\n    return ctx.homeCupsLeft - 1;\r\n  } else {\r\n    return ctx.homeCupsLeft;\r\n  }\r\n};\r\n\r\nconst handleHomeCupsForfeit = (ctx, evt) => {\r\n  if (evt.type === 'FORFEIT_HOME') {\r\n    const time = new Date().toISOString();\r\n    /* change every cup that isnt hit to hit it now */\r\n    const alreadyHit = ctx.homeCups.filter((cup) => cup.hit !== null);\r\n    const hit = { hit: { timestamp: time, type: 'FORFEIT' } };\r\n    const forfeitCups = ctx.homeCups\r\n      .filter((cup) => cup.hit === null)\r\n      .map((cup) => ({ ...cup, ...hit }));\r\n    return [...alreadyHit, ...forfeitCups];\r\n  } else {\r\n    return ctx.homeCups;\r\n  }\r\n};\r\n\r\nconst handleHomeCupsLeftForfeit = (ctx, evt) => {\r\n  if (evt.type === 'FORFEIT_HOME') {\r\n    return 0;\r\n  } else {\r\n    return ctx.homeCupsLeft;\r\n  }\r\n};\r\n\r\nconst handleAwayCups = (ctx, evt) => {\r\n  if (ctx.selectedCup.side === 'away') {\r\n    const time = new Date().toISOString();\r\n    const newAway = ctx.awayCups.filter(\r\n      (cup) => cup.name !== ctx.selectedCup.name\r\n    );\r\n    if (evt.type === 'RIM') {\r\n      let rimCup;\r\n      if (ctx.selectedCup?.rim != null) {\r\n        rimCup = {\r\n          ...ctx.selectedCup,\r\n          rim: [...ctx.selectedCup?.rim, { timestamp: time, type: evt.type }],\r\n        };\r\n        //...ctx.selectedCup.rim,\r\n      } else {\r\n        rimCup = {\r\n          ...ctx.selectedCup,\r\n          rim: [{ timestamp: time, type: evt.type }],\r\n        };\r\n      }\r\n      return [...newAway, rimCup];\r\n    } else {\r\n      const hitCup = {\r\n        ...ctx.selectedCup,\r\n        hit: { timestamp: time, type: evt.type },\r\n      };\r\n      return [...newAway, hitCup];\r\n    }\r\n  } else {\r\n    return ctx.awayCups;\r\n  }\r\n};\r\n\r\nconst handleAwayCupsLeft = (ctx, evt) => {\r\n  if (ctx.selectedCup.side === 'away') {\r\n    return ctx.awayCupsLeft - 1;\r\n  } else {\r\n    return ctx.awayCupsLeft;\r\n  }\r\n};\r\n\r\nconst handleAwayCupsForfeit = (ctx, evt) => {\r\n  if (evt.type === 'FORFEIT_AWAY') {\r\n    const time = new Date().toISOString();\r\n    /* change every cup that isnt hit to hit it now */\r\n    const alreadyHit = ctx.awayCups.filter((cup) => cup.hit !== null);\r\n    const hit = { hit: { timestamp: time, type: 'FORFEIT' } };\r\n    const forfeitCups = ctx.awayCups\r\n      .filter((cup) => cup.hit === null)\r\n      .map((cup) => ({ ...cup, ...hit }));\r\n    return [...alreadyHit, ...forfeitCups];\r\n  } else {\r\n    return ctx.awayCups;\r\n  }\r\n};\r\n\r\nconst handleAwayCupsLeftForfeit = (ctx, evt) => {\r\n  if (evt.type === 'FORFEIT_AWAY') {\r\n    return 0;\r\n  } else {\r\n    return ctx.awayCupsLeft;\r\n  }\r\n};\r\n\r\n// guards\r\n\r\nconst checkLastCup = (context, event) => {\r\n  // cannot catch to knock last cup noCatchGuard\r\n  if (context.selectedCup.side === 'home') {\r\n    return context.homeCupsLeft > 1;\r\n  } else {\r\n    return context.awayCupsLeft > 1;\r\n  }\r\n};\r\n\r\nconst checkWin = (context, event) => {\r\n  if (context.homeCupsLeft === 0 || context.awayCupsLeft === 0) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nconst isHovering = (ctx) => ctx.isHovering;\r\n\r\nconst hoverMoved = (ctx, evt) => {\r\n  //console.log('hoverGuard', evt)\r\n  //last hover\r\n  const centreAdjustment = 1.5;\r\n  const clampedX = floorBound(evt.position.x - centreAdjustment, 0, 8);\r\n  const clampedY = floorBound(evt.position.y - centreAdjustment, 0, 8);\r\n  if (clampedX !== ctx.lastHover.x || clampedY !== ctx.lastHover.y) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst homeReracked = (ctx) => ctx.homeCupRerackComplete;\r\nconst awayReracked = (ctx) => ctx.awayCupRerackComplete;\r\n\r\n/* helpers*/\r\nfunction floorBound(num, lower, upper) {\r\n  /* get lower/upper from ctx? */\r\n  if (num > upper) {\r\n    return upper;\r\n  }\r\n  if (num < lower) {\r\n    return lower;\r\n  }\r\n  return Math.floor(num);\r\n}\r\n\r\n/* check if tournament game, if so then do not allow draw */\r\n\r\n/* \r\nundo function\r\nhttps://dev.to/robertbroersma/undo-redo-in-react-using-xstate-23j8 \r\nhttps://codesandbox.io/s/xstate-react-back-example-4q2vh\r\n*/\r\n\r\n/* \r\non click assign context the current\r\n\r\nwhen clicked look at context for current and update context to be hit\r\n*/\r\n","import { useRef } from 'react';\r\nimport { useMachine } from '@xstate/react';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\n\r\nimport { createMachineFromState } from '../../utils/tableMachine';\r\nimport { Button, buttonColor, Modal, Cups } from '../index';\r\nimport { postSaveGamePlay } from '../../queries';\r\n\r\n//on start first throw - Math.random() < 0.5;\r\n// https://react-query.tanstack.com/guides/mutations\r\nexport function GamePlay({ gameDetails }) {\r\n  const queryClient = useQueryClient();\r\n  const gameMutate = useMutation(postSaveGamePlay, {\r\n    onError: (error) => {\r\n      // error toast\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['game', gameDetails.id]);\r\n      //save toast\r\n    },\r\n  });\r\n  const tableMachine = createMachineFromState(gameDetails.game_table);\r\n  const [state, send] = useMachine(tableMachine);\r\n  const centreAdjustment = 1.5;\r\n  const cupsRef = useRef(null);\r\n  const svgCoord = (evt) => {\r\n    if (cupsRef.current === null) {\r\n      return;\r\n    }\r\n    let point = cupsRef.current.createSVGPoint();\r\n    point.x = evt.clientX;\r\n    point.y = evt.clientY;\r\n    const cursorPoint = point.matrixTransform(\r\n      evt.target.getScreenCTM().inverse()\r\n    );\r\n    const clampedX = floorBound(cursorPoint.x - centreAdjustment, 0, 8);\r\n    const clampedY = floorBound(cursorPoint.y - centreAdjustment, 0, 8);\r\n    return send({\r\n      type: 'NEWPOS',\r\n      position: { x: clampedX, y: clampedY },\r\n      details: evt,\r\n    });\r\n  };\r\n\r\n  const newMove = (evt) => {\r\n    if (cupsRef.current === null) {\r\n      return;\r\n    }\r\n    let point = cupsRef.current.createSVGPoint();\r\n    point.x = evt.clientX;\r\n    point.y = evt.clientY;\r\n    const cursorPoint = point.matrixTransform(\r\n      evt.target.getScreenCTM().inverse()\r\n    );\r\n    const clampedX = floorBound(cursorPoint.x - centreAdjustment, 0, 8);\r\n    const clampedY = floorBound(cursorPoint.y - centreAdjustment, 0, 8);\r\n    return send({\r\n      type: 'MOUSEMOVE',\r\n      position: { x: clampedX, y: clampedY },\r\n      details: evt,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    //check form valid, skipping for prototype\r\n    const toStringify = JSON.stringify(state.context);\r\n    let data = {\r\n      //...gameDetails,\r\n      id: gameDetails.id,\r\n      player1: gameDetails.player1,\r\n      player2: gameDetails.player2,\r\n      homeCupsLeft: state.context.homeCupsLeft,\r\n      awayCupsLeft: state.context.awayCupsLeft,\r\n      forfeit: state.context.forfeit,\r\n      table: toStringify,\r\n    };\r\n    gameMutate.mutate(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='text-center'>\r\n        <Button text='Save' onClick={handleSubmit} />\r\n      </div>\r\n      <div className='grid md:grid-cols-2'>\r\n        <div className='grid grid-cols-2'>\r\n          <span>Name:</span>\r\n          <span>{gameDetails.home_name}</span>\r\n          <span>home cups left:</span>\r\n          <span>{state.context.homeCupsLeft}</span>\r\n          <span>hit rim:</span>\r\n          <span>{state.context.awayCupRimCount}</span>\r\n          <span>reracked:</span>\r\n          <span>{JSON.stringify(state.context.homeCupRerackComplete)}</span>\r\n          <div className='col-span-2 m-auto text-center pt-4'>\r\n            <Cups\r\n              side='home'\r\n              cups={state.context.homeCups}\r\n              gameSize={6}\r\n              forwardRef={cupsRef}\r\n              mouseExit={() => send('EXIT')}\r\n              pickCup={(evt) => send({ type: 'PICKCUP', details: evt })}\r\n              newMove={newMove}\r\n              svgCoord={svgCoord}\r\n              rerack={state.matches('rerack')}\r\n              movingState={state.matches('rerack.moving')}\r\n              lastHover={state.context.lastHover}\r\n              selectedCup={state.context.selectedCup}\r\n            />\r\n            {state.matches('playing') && (\r\n              <div className='p-4'>\r\n                <Button\r\n                  text='Home forfeit?'\r\n                  onClick={(_, evt) => {\r\n                    let check = window.confirm('Are you sure HOME forfeits?');\r\n                    if (check) {\r\n                      send('FORFEIT_HOME');\r\n                    }\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div className='grid grid-cols-2'>\r\n            <span>Name:</span>\r\n            <span>{gameDetails.away_name}</span>\r\n            <span>home cups left:</span>\r\n            <span>{state.context.awayCupsLeft}</span>\r\n            <span>hit rim:</span>\r\n            <span>{state.context.homeCupRimCount}</span>\r\n            <span>reracked:</span>\r\n            <span>{JSON.stringify(state.context.awayCupRerackComplete)}</span>\r\n            <div className='col-span-2 m-auto text-center pt-4'>\r\n              <Cups\r\n                side='away'\r\n                cups={state.context.awayCups}\r\n                gameSize={6}\r\n                forwardRef={cupsRef}\r\n                mouseExit={() => send('EXIT')}\r\n                pickCup={(evt) => send({ type: 'PICKCUP', details: evt })}\r\n                newMove={newMove}\r\n                svgCoord={svgCoord}\r\n                rerack={state.matches('rerack')}\r\n                movingState={state.matches('rerack.moving')}\r\n                lastHover={state.context.lastHover}\r\n                selectedCup={state.context.selectedCup}\r\n              />\r\n              {state.matches('playing') && (\r\n                <div className='p-4'>\r\n                  <Button\r\n                    text='Away forfeit?'\r\n                    onClick={(_, evt) => {\r\n                      let check = window.confirm('Are you sure AWAY forfeits?');\r\n                      if (check) {\r\n                        send('FORFEIT_AWAY');\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {state.matches('rerack') ? (\r\n          <>\r\n            <Button text='Save' onClick={() => send('SAVE')} fullWidth />\r\n            <Button text='Cancel' onClick={() => send('CANCEL')} fullWidth />\r\n          </>\r\n        ) : (\r\n          <Button text='Rerack' onClick={() => send('RERACK')} fullWidth />\r\n        )}\r\n      </div>\r\n      <Modal\r\n        isOpen={state.matches('modal')}\r\n        dismiss={() => send('CANCEL')}\r\n        title='Cup details'\r\n      >\r\n        <div className='p-2 flex flex-col space-y-8'>\r\n          <Button\r\n            name='sink'\r\n            text='Sink'\r\n            onClick={() => send('SINK')}\r\n            color={buttonColor.outlined}\r\n          />\r\n          <Button\r\n            name='catch'\r\n            text='Catch'\r\n            onClick={() => send('CATCH')}\r\n            color={buttonColor.outlined}\r\n          />\r\n          <Button\r\n            name='spill'\r\n            text='Spill'\r\n            onClick={() => send('SPILL')}\r\n            color={buttonColor.outlined}\r\n          />\r\n          <Button\r\n            name='other'\r\n            text='Other'\r\n            onClick={() => send('OTHER')}\r\n            color={buttonColor.outlined}\r\n          />\r\n          <Button\r\n            name='rim'\r\n            text='Rim'\r\n            onClick={() => send('RIM')}\r\n            color={buttonColor.outlined}\r\n          />\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction floorBound(num, lower, upper) {\r\n  if (num > upper) {\r\n    return upper;\r\n  }\r\n  if (num < lower) {\r\n    return lower;\r\n  }\r\n  return Math.floor(num);\r\n}\r\n","/* if locked or view only people should see GameView instead of GamePlay */\r\nimport { CupsView } from './index';\r\n\r\nexport function GameView({ gameDetails }) {\r\n  return (\r\n    <>\r\n      <div>\r\n        <div>{gameDetails.home_name}</div>\r\n        <div>home cups left: {gameDetails.home_cups_left}</div>\r\n        <div>hit rim: {gameDetails.game_table.awayCupRimCount}</div>\r\n        <div>\r\n          reracked:\r\n          {JSON.stringify(gameDetails.game_table.homeCupRerackComplete)}\r\n        </div>\r\n        <CupsView\r\n          side='home'\r\n          cups={gameDetails.game_table.homeCups}\r\n          gameSize={6}\r\n        />\r\n      </div>\r\n      <div>\r\n        <div>{gameDetails.away_name}</div>\r\n        <div>away cups left: {gameDetails.away_cups_left}</div>\r\n        <div>hit rim: {gameDetails.game_table.homeCupRimCount}</div>\r\n        <div>\r\n          reracked:\r\n          {JSON.stringify(gameDetails.game_table.awayCupRerackComplete)}\r\n        </div>\r\n        <CupsView\r\n          side='away'\r\n          cups={gameDetails.game_table.awayCups}\r\n          gameSize={6}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export function HoverElement({ x, y, size = 4 }) {\r\n  if (x != null || y != null) {\r\n    return (\r\n      <rect\r\n        x={x}\r\n        y={y}\r\n        height={size}\r\n        width={size}\r\n        className='fill-current text-blue-500 opacity-25'\r\n      />\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n","import React, { isValidElement } from 'react';\r\n\r\nexport function Card({ title, children }) {\r\n  let renderTitle = null;\r\n  /* allow using own component */\r\n  if (typeof title === 'string') {\r\n    renderTitle = (\r\n      <h2 className='text-3xl font-semibold text-left text-primary-text py-2'>\r\n        {title}\r\n      </h2>\r\n    );\r\n  } else if (isValidElement(title)) {\r\n    renderTitle = title;\r\n  }\r\n  return (\r\n    <div className='bg-sec-background rounded-lg p-6'>\r\n      <div>{renderTitle}</div>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// helper to keep content a nice max-width\r\nexport function Container({ maxW = '', maxH = '', children }) {\r\n  return (\r\n    <div className={`container mx-auto p-6 space-y-4 ${maxW} ${maxH}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","/* \r\nmaybe take in orientation for vertical ?\r\ntop and bottom? or does bottom border do top anyway if above the element\r\n*/\r\n\r\nexport function Divider() {\r\n  return <div className='border-b-2'></div>;\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\n//investigate focus trapping ?\r\nexport function Modal({ isOpen = false, dismiss = () => {}, title, children }) {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n    return () => (document.body.style.overflow = '');\r\n  }, [isOpen]);\r\n  if (isOpen) {\r\n    return (\r\n      <div className='fixed z-20 inset-0'>\r\n        <div className='flex items-center justify-center min-h-screen pt-4 px-4 text-center'>\r\n          <div className='fixed inset-0 transition-opacity'>\r\n            <div className='absolute inset-0 bg-gray-500 opacity-75'></div>\r\n          </div>\r\n          <div\r\n            className='inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full z-20 w-full'\r\n            role='dialog'\r\n            aria-modal='true'\r\n            aria-labelledby='modal-headline'\r\n          >\r\n            <div className='flex justify-between'>\r\n              <h3 className='text-xl p-4 font-bold' id='modal-headline'>\r\n                {title}\r\n              </h3>\r\n              <button\r\n                onClick={dismiss}\r\n                className='cursor-pointer px-2 text-lg'\r\n                aria-label='close-modal'\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div>{children}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { Unauthorised } from '../../pages';\r\nimport { useAuth } from '../../hooks/useAuth';\r\n\r\nexport function AuthorisedRoute({ children, minimumRole = 1, ...rest }) {\r\n  let auth = useAuth();\r\n\r\n  const checkRole = (roleLevel) => {\r\n    if (auth.user.role_level >= Number(roleLevel)) {\r\n      return children;\r\n    } else {\r\n      return <Unauthorised />;\r\n    }\r\n  };\r\n\r\n  if (auth.user === null) {\r\n    return <div>loading session</div>;\r\n  }\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.user ? (\r\n          checkRole(minimumRole)\r\n        ) : (\r\n          <Redirect to={{ pathname: '/signin', state: { from: location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nimport { useAuth } from '../../hooks/useAuth';\r\n\r\nexport function LoggedOutRoute({ children, updatePageTitle, ...rest }) {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() => {\r\n        if (user) {\r\n          //already logged in\r\n          return <Redirect to='/' />;\r\n        } else {\r\n          return children;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import { useQuery } from 'react-query';\r\n\r\nimport { fetchGamesByTournamentId, fetchTournamentById } from '../../queries';\r\nimport { MatchGrid } from '../index';\r\n\r\nexport function TournamentDetail({ id }) {\r\n  const { data: games, isLoading: isLoadingGames } = useQuery(\r\n    ['gamesByTournamentId', id],\r\n    () => fetchGamesByTournamentId(id)\r\n  );\r\n  const { data: tournament, isLoading: isLoadingTournament } = useQuery(\r\n    ['tournamentsById', id],\r\n    () => fetchTournamentById(id)\r\n  );\r\n\r\n  const isLoading = isLoadingGames || isLoadingTournament;\r\n  if (isLoading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  return (\r\n    <div>\r\n      <div>This is Tournament: {id}</div>\r\n      <>\r\n        <div>\r\n          details:\r\n          <pre>{JSON.stringify(tournament, null, 2)}</pre>\r\n        </div>\r\n        <>\r\n          <h2 className='text-lg'>Games</h2>\r\n          <MatchGrid games={games} />\r\n        </>\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/evt-placeholder.e1e8ba08.jpg\";","import { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport placeholderImg from '../../assets/evt-placeholder.jpg';\r\nimport { fetchTournaments } from '../../queries';\r\n\r\n/* sidebar on homepage */\r\nexport function TournamentList() {\r\n  const { isLoading, error, data } = useQuery('tournaments', fetchTournaments);\r\n  if (error) {\r\n    <div>Error with tournaments</div>;\r\n  }\r\n  return (\r\n    <>\r\n      <div>\r\n        <h3 className='text-right italic bg-sec-background pr-4'>Upcoming</h3>\r\n        {isLoading && <div>loading...</div>}\r\n        {!isLoading &&\r\n          data\r\n            .filter((event) => {\r\n              const date = new Date(event.date);\r\n              return date > new Date();\r\n            })\r\n            .map((t) => (\r\n              <Short key={`${t.id}`} id={t.id} title={t.title} date={t.date} />\r\n            ))}\r\n      </div>\r\n      <div>\r\n        <h3 className='text-right italic bg-sec-background pr-4'>Previous</h3>\r\n        {isLoading && <div>loading...</div>}\r\n        {!isLoading &&\r\n          data\r\n            .filter((event) => {\r\n              const date = new Date(event.date);\r\n              return date < new Date();\r\n            })\r\n            .map((t) => (\r\n              <Short key={`${t.id}`} id={t.id} title={t.title} date={t.date} />\r\n            ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Short({ image = '', id, title, date }) {\r\n  const shortDate = new Date(date).toLocaleDateString('en-GB');\r\n  return (\r\n    <div className='grid grid-cols-6 gap-4'>\r\n      <img\r\n        src={placeholderImg}\r\n        className='object-contain h-24 w-24 col-span-2'\r\n        alt='Event preview'\r\n      />\r\n      <div className='p-2 col-span-4 flex flex-col justify-between'>\r\n        <Link\r\n          to={`/tournaments/${id}`}\r\n          className='font-semibold text-link-text hover:underline'\r\n        >\r\n          {title}\r\n        </Link>\r\n        <span className='text-right font-bold'>{shortDate}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* \r\n      <figure className='relative col-span-2'>\r\n        <img\r\n          src={placeholderImg}\r\n          className='object-contain h-24 w-24'\r\n          alt='Event preview'\r\n        />\r\n        <figcaption className='absolute font-semibold text-white -mt-10'>\r\n          {date}\r\n        </figcaption>\r\n*/\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//accessibility  concerns\r\nexport const buttonVariant = {\r\n  square: 'square',\r\n  regular: 'regular',\r\n};\r\n\r\nexport const buttonColor = {\r\n  outlined: 'outlined',\r\n  primary: 'primary',\r\n  secondary: 'secondary',\r\n};\r\n\r\nexport function Button({\r\n  variant = 'regular',\r\n  color = 'primary',\r\n  fullWidth = false,\r\n  text,\r\n  handleClick = () => {},\r\n  loading = false,\r\n  to,\r\n  disabled = false,\r\n  ...props\r\n}) {\r\n  let customisations = {\r\n    bg: 'bg-primary',\r\n    text: 'text-secondary-text',\r\n    borderColor: 'border-primary-light',\r\n    hoverBg: 'hover:bg-primary-light',\r\n    hoverBorder: 'hover:border-primary-active',\r\n    hoverText: 'hover:text-white',\r\n    activeBg: 'active:bg-primary-active',\r\n    activeText: 'active:text-white',\r\n  };\r\n  switch (color) {\r\n    case buttonColor.primary:\r\n      customisations = {\r\n        ...customisations,\r\n        bg: 'bg-primary',\r\n        text: 'text-secondary-text',\r\n        borderColor: 'border-primary-light',\r\n        hoverBg: 'hover:bg-primary-light',\r\n        hoverBorder: 'hover:border-primary-active',\r\n        hoverText: 'hover:text-white',\r\n        activeBg: 'active:bg-primary-active',\r\n        activeText: 'active:text-white',\r\n      };\r\n      break;\r\n    case buttonColor.outlined:\r\n      customisations = {\r\n        ...customisations,\r\n        bg: 'bg-transparent',\r\n        text: 'text-primary-text',\r\n      };\r\n      break;\r\n    case buttonColor.secondary:\r\n      customisations = {\r\n        ...customisations,\r\n        bg: 'bg-secondary',\r\n      };\r\n      break;\r\n    default:\r\n    //customisations already set\r\n  }\r\n  const squareClasses = `\r\n  h-28\r\n  w-28\r\n  ${customisations.bg}\r\n  ${customisations.text}\r\n  font-semibold\r\n  py-2\r\n  px-4 \r\n  border\r\n  ${customisations.borderColor}\r\n  border-b-4 \r\n  rounded\r\n  select-none\r\n  origin-bottom\r\n  transform      \r\n  duration-75\r\n  ease-in-out\r\n  active:scale-y-95\r\n  ${customisations.hoverBg}\r\n  ${customisations.hoverBorder}\r\n  ${customisations.hoverText}\r\n  ${customisations.activeBg}\r\n  ${customisations.activeText}\r\n  active:border-b\r\n  focus:outline-none\r\n  disabled:cursor-not-allowed\r\n  disabled:bg-primary-active\r\n  disabled:border-primary-active\r\n  disabled:text-white\r\n  disabled:scale-y-95\r\n  `;\r\n  const regularClasses = `\r\n  h-12\r\n  font-semibold\r\n  py-2\r\n  px-4 \r\n  border\r\n  border-primary\r\n  rounded\r\n  border-b-4\r\n  active:border-b\r\n  focus:outline-none\r\n  w-full\r\n  ${!fullWidth && 'md:w-auto'}\r\n  transform \r\n  duration-75\r\n  ease-in-out\r\n  active:scale-y-95\r\n  origin-bottom\r\n  select-none\r\n  ${customisations.bg}\r\n  ${customisations.text}\r\n  ${customisations.borderColor}\r\n  ${customisations.hoverBg}\r\n  ${customisations.hoverBorder}\r\n  ${customisations.hoverText}\r\n  ${customisations.activeBg}\r\n  ${customisations.activeText}\r\n  disabled:cursor-not-allowed\r\n  disabled:bg-primary-active\r\n  disabled:border-primary-active\r\n  disabled:text-white\r\n  disabled:scale-y-95\r\n  `;\r\n  if (to) {\r\n    return (\r\n      <LinkAsButton\r\n        to={to}\r\n        classes={\r\n          variant === buttonVariant.square ? squareClasses : regularClasses\r\n        }\r\n        square={variant === buttonVariant.square}\r\n        text={text}\r\n      />\r\n    );\r\n  }\r\n  if (variant === buttonVariant.square) {\r\n    return (\r\n      <button\r\n        className={squareClasses}\r\n        onClick={handleClick}\r\n        disabled={disabled}\r\n        {...props}\r\n      >\r\n        <span className='items-center text-center pointer-events-none'>\r\n          {text}\r\n        </span>\r\n      </button>\r\n    );\r\n  }\r\n  return (\r\n    <button\r\n      className={regularClasses}\r\n      onClick={handleClick}\r\n      disabled={disabled}\r\n      {...props}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction LinkAsButton({ to, classes, text, square }) {\r\n  if (square) {\r\n    return (\r\n      <Link className={`${classes} inline-block`} to={to}>\r\n        <span className='items-center text-center'>{text}</span>\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <Link className={`${classes} inline-block`} to={to}>\r\n      {text}\r\n    </Link>\r\n  );\r\n}\r\n\r\n/* \r\ntailwind config\r\nadded active for scale, border, margin\r\nadded press for spacing (3px)\r\nas border width is in px but spacing all defined in rem we couldnt get exact\r\nadded disabled\r\n*/\r\n\r\n/*\r\nPicture button\r\n<span> background image </span> absolute \r\n<span> background mask color </span>\r\n<span> <span>text</span> <span>icon</span> </span> flex\r\n*/\r\n","import { useTheme } from '../hooks/useTheme';\r\n\r\nexport function Decoration() {\r\n  /* not all themes will have a decoration */\r\n  let current = useTheme();\r\n  if (current.theme === 'carling') {\r\n    return (\r\n      <div\r\n        className='h-7 w-24 relative bg-secondary self-center transform -rotate-12'\r\n        style={{\r\n          clipPath: 'polygon(5% 0%, 0% 100%, 83.5% 100%, 95% 53%, 100% 0%)',\r\n        }}\r\n      >\r\n        <div\r\n          className='absolute right-0 transform rotate-90'\r\n          style={{\r\n            top: '15px',\r\n            borderWidth: '0 16px 16px 0',\r\n            borderColor:\r\n              'var(--color-primary) var(--sec-background) var(--color-primary) var(--sec-background)',\r\n            clipPath: 'polygon(0% 0%, 0% 100%, 100% 100%)',\r\n          }}\r\n        ></div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties */\r\n","import { useContext } from 'react';\r\n\r\nimport { ThemeContext } from '../contexts';\r\n\r\nexport const useTheme = () => {\r\n  return useContext(ThemeContext);\r\n};\r\n","import { Nav, Logo, Menu, Search } from '../components';\r\n\r\nexport function Header() {\r\n  return (\r\n    <header className='flex items-center justify-between h-20 py-3 shadow'>\r\n      <Logo />\r\n      <Nav />\r\n      <Search />\r\n      <Menu />\r\n    </header>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/beer-pong.1d7e56cf.svg\";","import { Link } from 'react-router-dom';\r\n\r\nimport logo from '../assets/beer-pong.svg';\r\n\r\nexport function Logo() {\r\n  return (\r\n    <div className='px-4'>\r\n      <Link to='/'>\r\n        <img src={logo} alt='logo with link home' className='w-16' />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport function Match({ details }) {\r\n  const isWinner = (cupsLeft) => {\r\n    return cupsLeft === 0 ? true : false;\r\n  };\r\n  return (\r\n    <div className='shadow px-4 pb-4 space-y-2'>\r\n      <div className='flex justify-between text-xs font-semibold'>\r\n        <div>{details.venue}</div>\r\n        <div>{details.tournament_id ? details.stage : 'friendly'} </div>\r\n      </div>\r\n      <div className='text-center'>\r\n        <div className='font-bold'>{details.event}</div>\r\n        <div className='text-xs'>\r\n          {details.date && formatDateString(details.date)}\r\n        </div>\r\n      </div>\r\n      <div className='grid grid-cols-2 text-center'>\r\n        <div>\r\n          <Link\r\n            className={`text-link-text underline relative ${\r\n              isWinner(details.away_cups_left) && 'psudo-winner'\r\n            }`}\r\n            to={`/player/${details.home_id}`}\r\n          >\r\n            {details.home_name}\r\n          </Link>\r\n          <div>{details.home_cups_left}</div>\r\n        </div>\r\n        <div>\r\n          <Link\r\n            className={`text-link-text underline relative ${\r\n              isWinner(details.home_cups_left) && 'psudo-winner'\r\n            }`}\r\n            to={`/player/${details.away_id}`}\r\n          >\r\n            {details.away_name}\r\n          </Link>\r\n          <div>{details.away_cups_left}</div>\r\n        </div>\r\n      </div>\r\n      <div className='text-right'>\r\n        <Link className='text-link-text underline' to={`/games/${details.id}`}>\r\n          details...\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst formatDateString = (dateString) => {\r\n  let justDateString = dateString.split('T')[0].split('-').reverse().join('-');\r\n  return justDateString;\r\n};\r\n","import { Match } from './Match';\r\n\r\n//just a wrapper around Matches for now\r\nexport function MatchGrid({ games }) {\r\n  return (\r\n    <div className='grid md:grid-cols-3 gap-4'>\r\n      {games.map((game) => {\r\n        return <Match key={game.id} details={game} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","export function ChevronDown() {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      className='h-6 w-6'\r\n      fill='none'\r\n      viewBox='0 0 24 24'\r\n      stroke='currentColor'\r\n    >\r\n      <path\r\n        strokeLinecap='round'\r\n        strokeLinejoin='round'\r\n        strokeWidth={2}\r\n        d='M19 9l-7 7-7-7'\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export function Plus() {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      className='h-6 w-6'\r\n      fill='none'\r\n      viewBox='0 0 24 24'\r\n      stroke='currentColor'\r\n    >\r\n      <path\r\n        strokeLinecap='round'\r\n        strokeLinejoin='round'\r\n        strokeWidth={2}\r\n        d='M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z'\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export function Tick() {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      className='h-5 w-5'\r\n      viewBox='0 0 20 20'\r\n      fill='currentColor'\r\n    >\r\n      <path\r\n        fillRule='evenodd'\r\n        d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'\r\n        clipRule='evenodd'\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport { ChevronDown } from '../icons';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\n/* i think i prefer github version of opening up a drawer to cover the entire right side. currently bit janky when removes scroll bar */\r\n\r\nexport function Menu() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggleMenu = () => setIsOpen(!isOpen);\r\n  const closeMenu = () => setIsOpen(false);\r\n  const history = useHistory();\r\n  const auth = useAuth();\r\n\r\n  const handleSignOut = () => {\r\n    auth.signOut();\r\n    closeMenu();\r\n    history.go(0);\r\n    //send toast?\r\n  };\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n    return () => (document.body.style.overflow = '');\r\n  }, [isOpen]);\r\n  return (\r\n    <div>\r\n      <button\r\n        aria-label='site-menu'\r\n        className={`\r\n      h-16\r\n      w-16\r\n      rounded-full\r\n      border\r\n      focus:outline-none\r\n      mr-4\r\n      z-20\r\n      relative\r\n      grid\r\n      items-center\r\n      justify-center\r\n      transition\r\n      duration-500\r\n      ease-in-out\r\n      ${auth.user ? 'bg-positive' : 'bg-negative'}       \r\n      `}\r\n        onClick={toggleMenu}\r\n      >\r\n        <ChevronDown />\r\n      </button>\r\n      {isOpen && (\r\n        <>\r\n          <button\r\n            className='bg-gray-500 opacity-75 cursor-default fixed top-0 left-0 right-0 bottom-0 h-full w-full z-10 outline-none'\r\n            tabIndex='-1'\r\n            onClick={closeMenu}\r\n          />\r\n          <div\r\n            className={`\r\n              absolute\r\n              right-0\r\n              w-72\r\n              my-1\r\n              z-20\r\n              border\r\n              bg-primary-background`}\r\n          >\r\n            <ul>\r\n              <MenuItem>\r\n                <NavLink to='/settings' className=' inline-block p-2 w-full'>\r\n                  Preferences\r\n                </NavLink>\r\n              </MenuItem>\r\n              <MenuSpacer />\r\n              {auth.user ? (\r\n                <MenuItem>\r\n                  <button\r\n                    className='font-semibold w-full p-2 text-left'\r\n                    onClick={handleSignOut}\r\n                  >\r\n                    Sign out\r\n                  </button>\r\n                </MenuItem>\r\n              ) : (\r\n                <MenuItem>\r\n                  <NavLink className='w-full inline-block p-2' to='/signin'>\r\n                    Sign in\r\n                  </NavLink>\r\n                </MenuItem>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MenuItem({ children }) {\r\n  return (\r\n    <li className='hover:bg-sec-background cursor-pointer hover:text-primary font-semibold'>\r\n      {children}\r\n    </li>\r\n  );\r\n}\r\nfunction MenuSpacer() {\r\n  return <li className='border-b-4'></li>;\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useWindowSize } from '../hooks/useWindowSize';\r\nimport { Divider } from './layout';\r\n\r\n/* uld like to break nav down for mobile view \r\n  have bottom nav similar to Youtube mobile\r\n  keep logo/search/profile icon in the header\r\n*/\r\nexport function Nav() {\r\n  let size = useWindowSize();\r\n\r\n  if (size.width > 640) {\r\n    return (\r\n      <div className='w-96'>\r\n        <nav className='text-center font-mono'>\r\n          <ul className='flex flex-row'>\r\n            <li className='w-full'>\r\n              <StyledNavLink to={'/'} exact text='Home' />\r\n            </li>\r\n            <li className='w-full'>\r\n              <StyledNavLink to={'/games'} text='Games' />\r\n            </li>\r\n            <li className='w-full'>\r\n              <StyledNavLink to={'/versus'} text='Versus' />\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className='fixed bottom-0 w-full bg-primary-background z-10'>\r\n      <Divider />\r\n      <nav className='text-center py-4 font-mono flex justify-center items-center'>\r\n        <ul className='flex flex-row justify-between w-full'>\r\n          <li className='w-full'>\r\n            <StyledNavLink to={'/'} exact text='Home' />\r\n          </li>\r\n          <li className='w-full'>\r\n            <StyledNavLink to={'/games'} text='Games' />\r\n          </li>\r\n          <li className='w-full'>\r\n            <StyledNavLink to={'/versus'} text='Versus' />\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst StyledNavLink = ({ to, text, exact = false }) => {\r\n  return (\r\n    <NavLink\r\n      to={to}\r\n      exact={exact}\r\n      activeClassName='text-primary border-b-4 border-solid border-primary'\r\n      className='p-2 font-bold text-xl uppercase inline-block w-full hover:text-primary border-b-4 border-opacity-0'\r\n    >\r\n      {text}\r\n    </NavLink>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\n// currently only using for width - can expand if needed\r\n\r\nexport function useWindowSize() {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n\r\n  /* using cra so never on server, initialising with window size prevents the flicker */\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n    function handleResize() {\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n\r\n    // Add event listener\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize();\r\n\r\n    // Remove event listener on cleanup\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []); // Empty array ensures that effect is only run on mount\r\n\r\n  return windowSize;\r\n}\r\n","/* \r\n  pinned news, anything with > 0 priority?\r\n*/\r\n\r\nexport function PinnedNews() {\r\n  return <div className=''></div>;\r\n}\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { useQuery } from 'react-query';\r\nimport gfm from 'remark-gfm';\r\n\r\n/* news & pinned news, events? */\r\nimport { PinnedNews } from './PinnedNews';\r\nimport { fetchNews } from '../queries';\r\n\r\nconst maxHeight = {\r\n  small: { size: '10rem', class: 'max-h-40', value: 160 },\r\n  medium: { size: '16rem', class: 'max-h-64', value: 256 },\r\n  large: { size: '20rem', class: 'max-h-80', value: 320 },\r\n  xlarge: { size: '24rem', class: 'max-h-96', value: 384 },\r\n};\r\n\r\nexport function News() {\r\n  const { isLoading, error, data } = useQuery('news', fetchNews);\r\n  if (error) {\r\n    return (\r\n      <>\r\n        <span>Error loading news...</span>\r\n      </>\r\n    );\r\n  }\r\n  if (isLoading) {\r\n    return (\r\n      <>\r\n        <span>Loading news...</span>\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <PinnedNews />\r\n      {data.map((article) => {\r\n        return (\r\n          <ClipNews\r\n            key={article.id}\r\n            content={article.content}\r\n            size={maxHeight.large}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n/* create an extension panel? or link to news page */\r\n\r\nfunction ClipNews({ size = maxHeight.large, content }) {\r\n  const clipRef = useRef(null);\r\n  // if content is bigger than size then overflow hidden and button to expand\r\n  const [showExpand, setShowExpand] = useState(false);\r\n  const [expand, setExpand] = useState(false);\r\n  const toggleExpand = () => setExpand(!expand);\r\n  useEffect(() => {\r\n    if (clipRef.current === null) return;\r\n    const refHeight = clipRef.current.getBoundingClientRect().height;\r\n    if (refHeight >= size.value) {\r\n      setShowExpand(true);\r\n    }\r\n  }, [size.value]);\r\n  return (\r\n    <>\r\n      <section\r\n        ref={clipRef}\r\n        className={`prose lg:prose-xl \r\n        overflow-hidden\r\n        transition-all\r\n        duration-700\r\n        ${size.class}\r\n        ${expand && 'max-h-full'}\r\n        ${showExpand && !expand && 'mask-bottom-transparent'}\r\n        ${!showExpand && 'border-b'}\r\n        `}\r\n      >\r\n        <ReactMarkdown remarkPlugins={[gfm]}>{content}</ReactMarkdown>\r\n      </section>\r\n      {showExpand ? (\r\n        <div\r\n          className='text-center text-link-text underline border-b mb-4 pb-2'\r\n          onClick={toggleExpand}\r\n        >\r\n          {!expand ? 'Read more 🔽' : 'Read less 🔼'}\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport { PlayerOverview, MatchGrid } from '../components';\r\nimport {\r\n  fetchNicksByPlayerId,\r\n  fetchPlayerById,\r\n  fetchPlayerOverview,\r\n  fetchRecentGamesByPlayerId,\r\n  fetchRecordsByPlayerId,\r\n} from '../queries';\r\n\r\nexport function PlayerDetails({ playerId }) {\r\n  // const { isLoading, error, data } = useQuery('games', fetchGames);\r\n  const player = useQuery(['player', playerId], () =>\r\n    fetchPlayerById(playerId)\r\n  );\r\n  const overview = useQuery(['overview', playerId], () =>\r\n    fetchPlayerOverview(playerId)\r\n  );\r\n  const records = useQuery(['records', playerId], () =>\r\n    fetchRecordsByPlayerId(playerId)\r\n  );\r\n  const nicks = useQuery(['nicks', playerId], () =>\r\n    fetchNicksByPlayerId(playerId)\r\n  );\r\n  const recentGames = useQuery(['recentGames', playerId], () =>\r\n    fetchRecentGamesByPlayerId(playerId)\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className='grid grid-cols-6 grid-rows-2 gap-2'>\r\n        <h2 className='text-xl font-bold bg-primary text-secondary-text px-4 py-2 col-span-2'>\r\n          {!player.isLoading && player?.data[0].name}\r\n        </h2>\r\n        <Link\r\n          to={`/versus/${playerId}`}\r\n          className='px-4 py-2 text-link-text underline'\r\n        >\r\n          Compare!\r\n        </Link>\r\n        {!nicks.isLoading && !player.isLoading && (\r\n          <>\r\n            <span className='row-start-2 col-start-2 px-4'>nicks</span>\r\n            <ul className='row-start-2 col-start-3'>\r\n              {nicks?.data\r\n                .filter((name) => name.nick !== player.data[0].name)\r\n                .map((nick) => {\r\n                  return <li key={`${nick.nick}${nick.id}`}>{nick.nick}</li>;\r\n                })}\r\n            </ul>\r\n          </>\r\n        )}\r\n      </div>\r\n      <h2 className='text-lg font-bold'>Overview</h2>\r\n      {!overview.isLoading && <PlayerOverview details={overview.data} />}\r\n      {!recentGames.isLoading && (\r\n        <>\r\n          <h2 className='text-lg font-bold'>Recent games</h2>\r\n          <MatchGrid games={recentGames.data} />\r\n        </>\r\n      )}\r\n      {!records.isLoading && records?.data.length > 0 && (\r\n        <>\r\n          <h2 className='text-lg font-bold'>Accolades</h2>\r\n          {records?.data.map((record) => {\r\n            return <div key={record.id}>{record.label}🥇</div>;\r\n          })}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// array of player details\r\nexport function PlayerOverview({ details }) {\r\n  const headers = [\r\n    'Name',\r\n    'Games played',\r\n    'Forfeits',\r\n    'Total Wins',\r\n    'Win %',\r\n    'Reached quarters',\r\n    'Reached semis',\r\n    'Reached final',\r\n    'Tournament Wins',\r\n  ];\r\n  let showHeaders;\r\n  if (details.length > 0) {\r\n    showHeaders = true;\r\n  } else {\r\n    showHeaders = false;\r\n  }\r\n  return (\r\n    <div className='flex flex-row items-center '>\r\n      <ColumnHeader labels={headers} show={showHeaders} />\r\n      {details.map((player, idx) => {\r\n        // check if idx is last in details\r\n        const last = details.length - 1;\r\n        if (player == null) return null;\r\n        return (\r\n          <ColumnPlayer\r\n            playerData={player}\r\n            last={idx === last}\r\n            key={`${player?.name}${idx}`}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ColumnHeader({ labels, show }) {\r\n  if (!show) return <div className='w-1/2 border border-secondary'></div>;\r\n  return (\r\n    <div className='w-1/2 border-secondary table-start'>\r\n      {labels.map((label) => (\r\n        <Cell key={label} header={true}>\r\n          {label}\r\n        </Cell>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ColumnPlayer({ last = true, playerData }) {\r\n  return (\r\n    <div\r\n      className={`text-right w-1/4 border-secondary ${last ? 'table-end' : ''}`}\r\n    >\r\n      <Cell>{playerData.name ? playerData.name : ''}</Cell>\r\n      <Cell>{playerData.games ? playerData.games : '0'}</Cell>\r\n      <Cell>{playerData.forfeits ? playerData.forfeits : '0'}</Cell>\r\n      <Cell>\r\n        {playerData.homeWins && playerData.awayWins\r\n          ? Number(playerData.homeWins) + Number(playerData.awayWins)\r\n          : '0'}\r\n      </Cell>\r\n      <Cell>\r\n        {playerData.homeWins && playerData.awayWins && playerData.games\r\n          ? (\r\n              ((Number(playerData.homeWins) + Number(playerData.awayWins)) /\r\n                Number(playerData.games)) *\r\n              100\r\n            ).toFixed(2) + '%'\r\n          : '0'}\r\n      </Cell>\r\n      <Cell>{playerData.quarterFinals ? playerData.quarterFinals : '0'}</Cell>\r\n      <Cell>{playerData.semiFinals ? playerData.semiFinals : '0'}</Cell>\r\n      <Cell>{playerData.finals ? playerData.finals : '0'}</Cell>\r\n      <Cell>{playerData.finalsWon ? playerData.finalsWon : '0'}</Cell>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Cell({ header = false, children }) {\r\n  return (\r\n    <div\r\n      className={`${\r\n        header ? 'header' : ''\r\n      } border-secondary table-like-border py-2 px-4 h-8 overflow-hidden`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { Button, Modal, Input } from './index';\r\nimport { Plus, Tick } from '../icons';\r\n\r\nexport function PlayerPicker({\r\n  name,\r\n  playerNames = [],\r\n  selected,\r\n  selectPlayer = () => {},\r\n  variant = 'square',\r\n  color = 'primary',\r\n  fullWidth = false,\r\n  disabled = false,\r\n}) {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n  const toggleModal = (evt) => {\r\n    setShowModal(!showModal);\r\n  };\r\n  const handleSearchInput = (evt) => setSearchText(evt.target.value);\r\n  const search = (items) =>\r\n    items.filter(\r\n      (item) =>\r\n        item.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1 ||\r\n        item.id.toString().indexOf(searchText) > -1\r\n    );\r\n\r\n  //should i look at useCallback instead of the extending selectPlayer on li onclick\r\n  return (\r\n    <>\r\n      <Button\r\n        variant={variant}\r\n        color={color}\r\n        handleClick={toggleModal}\r\n        text={\r\n          selected !== ''\r\n            ? playerNames[selected - 1].name\r\n            : 'Click to pick player'\r\n        }\r\n        fullWidth={fullWidth}\r\n        disabled={disabled}\r\n      />\r\n\r\n      <Modal isOpen={showModal} dismiss={toggleModal} title='Add Player'>\r\n        <div className='px-2'>\r\n          <div className='text-center'>\r\n            <form role='search'>\r\n              <Input\r\n                placeholder='Filter names'\r\n                onChange={handleSearchInput}\r\n                value={searchText}\r\n              />\r\n            </form>\r\n          </div>\r\n          <div className='max-h-75vh flex'>\r\n            <ul role='listbox' className='overflow-y-auto w-full'>\r\n              {search(playerNames).map((player) => (\r\n                <li\r\n                  key={player.id}\r\n                  value={player.id}\r\n                  role='option'\r\n                  className='grid grid-cols-3 hover:text-sec-background justify-items-center px-6 py-4 border-b cursor-pointer hover:bg-primary'\r\n                  onClick={() => {\r\n                    selectPlayer(name, `${player.id}`);\r\n                    toggleModal();\r\n                  }}\r\n                  aria-selected={false}\r\n                  tabIndex={0}\r\n                >\r\n                  {Number(selected) === Number(player.id) && (\r\n                    <span className='text-positive'>\r\n                      <Tick />\r\n                    </span>\r\n                  )}\r\n\r\n                  <span className='col-start-2 font-semibold'>\r\n                    {player.name}\r\n                  </span>\r\n                  <Plus />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import { useIsFetching } from 'react-query';\r\n\r\n// Loader\r\n\r\nexport function Refreshing() {\r\n  const isFetching = useIsFetching();\r\n  if (!isFetching) {\r\n    return null;\r\n  }\r\n  return (\r\n    <svg\r\n      className='w-6 h-6 animate-spin absolute text-positive right-0'\r\n      fill='none'\r\n      stroke='currentColor'\r\n      viewBox='0 0 24 24'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n    >\r\n      <path\r\n        strokeLinecap='round'\r\n        strokeLinejoin='round'\r\n        strokeWidth='2'\r\n        d='M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15'\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n","/* should be a page to edit these terms, should probably be stored in db? or do we want to do without db request */\r\nexport const searchPages = [\r\n  {\r\n    matches: ['tournaments', 'events', 'fixtures'],\r\n    link: '/tournaments',\r\n    text: 'Tournaments!',\r\n    description: '',\r\n  },\r\n  {\r\n    matches: ['players', 'fixtures'],\r\n    link: '/players',\r\n    text: 'Players!',\r\n    description: '',\r\n  },\r\n  {\r\n    matches: ['tournaments', 'events', 'fixtures', 'games', 'new', 'new game'],\r\n    link: '/games',\r\n    text: 'Games!',\r\n    description: '',\r\n  },\r\n  {\r\n    matches: ['stats', 'compare', 'versus', 'vs', 'comparison'],\r\n    link: '/versus',\r\n    text: 'Versus!',\r\n    description: '',\r\n  }, //vs less than 3 chars?\r\n  {\r\n    matches: [\r\n      'stats',\r\n      'records',\r\n      'most',\r\n      'wins',\r\n      'gold',\r\n      'silver',\r\n      'bronze',\r\n      'losses',\r\n      'least',\r\n    ],\r\n    link: '/records',\r\n    text: 'Records!',\r\n    description: '',\r\n  },\r\n  {\r\n    matches: ['settings', 'preferences', 'theme', 'colours', 'colors'],\r\n    link: '/settings',\r\n    text: 'Settings!',\r\n    description: '',\r\n  },\r\n  {\r\n    matches: ['test'],\r\n    link: '/test',\r\n    text: 'Test!',\r\n    description: '',\r\n  },\r\n];\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Input } from './controls';\r\nimport { searchPages } from '../utils/searchPages';\r\n\r\n/* bbc search bar spans full screen in a new area */\r\nexport function Search() {\r\n  const [inputFocus, setInputFocus] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n  const handleInputFocus = (evt) => {\r\n    if (!inputFocus) {\r\n      return setInputFocus(true);\r\n    }\r\n  };\r\n  const handleInputBlur = (evt) => {\r\n    if (!evt.relatedTarget) {\r\n      setInputFocus(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (evt) => setSearchText(evt.target.value);\r\n\r\n  const search = (items) => {\r\n    return items.filter((page) => {\r\n      const cleanText = searchText.trim().toLowerCase();\r\n      const joined = page.matches.join(' ');\r\n      // page.matches.find( match => match.indexOf(cleanText) > 1)\r\n      return joined.indexOf(cleanText) > -1;\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <div className='flex flex-col relative max-w-md flex-grow mx-4'>\r\n        <Input\r\n          placeholder='Search site...'\r\n          type='search'\r\n          value={searchText}\r\n          onChange={handleChange}\r\n          onFocus={handleInputFocus}\r\n          onBlur={handleInputBlur}\r\n        />\r\n        {inputFocus && searchText.length > 0 && (\r\n          <Suggestions items={search(searchPages)} />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Suggestions({ items }) {\r\n  const [current, setCurrent] = useState(null);\r\n  const handleHover = (evt) => {\r\n    /* get index of the item with the link property */\r\n    const itemIndex = items\r\n      .map((props) => props.link)\r\n      .indexOf(evt.target.getAttribute('data-path'));\r\n    setCurrent(itemIndex);\r\n  };\r\n  useEffect(() => {\r\n    const keyPressHandler = (evt) => {\r\n      if (evt.key === 'ArrowDown') {\r\n        evt.preventDefault();\r\n        if (current === null) {\r\n          setCurrent(0);\r\n        } else {\r\n          setCurrent(current >= items.length - 1 ? 0 : current + 1);\r\n        }\r\n      }\r\n      if (evt.key === 'ArrowUp') {\r\n        evt.preventDefault();\r\n        if (current === null) {\r\n          setCurrent(0);\r\n        } else {\r\n          setCurrent(current === 0 ? items.length - 1 : current - 1);\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener('keydown', keyPressHandler);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', keyPressHandler);\r\n    };\r\n  }, [current, items]);\r\n\r\n  return (\r\n    <div className='absolute shadow list-none bg-primary-background w-full top-full px-2 pt-2 z-10'>\r\n      <h3 className='font-semibold text-center text-sm border-b pb-2'>\r\n        Search for pages on this site\r\n      </h3>\r\n      <ul className='list-none'>\r\n        {items?.length > 0 &&\r\n          items.map((page, idx) => {\r\n            return (\r\n              <SearchItem\r\n                key={`${page.matches.join('-')}${idx}`}\r\n                item={page}\r\n                handleHover={handleHover}\r\n                active={current === idx}\r\n              />\r\n            );\r\n          })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SearchItem({ item, active, handleHover }) {\r\n  /* using ref to focus link, now we can click enter to open the focused link */\r\n  const itemFocus = useRef(null);\r\n  /*   useEffect(() => {\r\n    if (itemFocus.current === null) return;\r\n    itemFocus.current.focus();\r\n  }, [active]); */\r\n  return (\r\n    <li>\r\n      <Link\r\n        onMouseOver={handleHover}\r\n        className={`inline-block w-full h-full p-4 ${\r\n          active && 'bg-sec-background'\r\n        }`}\r\n        to={`${item.link}`}\r\n        data-path={item.link}\r\n        ref={itemFocus}\r\n      >\r\n        {item.text}\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n//helper component to see all my theme options on any page\r\nexport function Swatch() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggleOpen = () => setIsOpen(!isOpen);\r\n\r\n  return (\r\n    <div className='bg-white w-1/2 p-2 mx-4 text-center bottom-0 float-right sticky rounded-t-lg'>\r\n      <button onClick={toggleOpen} className='w-full h-full'>\r\n        {isOpen ? 'Hide swatch' : 'Show swatch'}\r\n      </button>\r\n      {isOpen ? (\r\n        <div className='uppercase'>\r\n          <div className='border-2 border-black overflow-x-hidden'>\r\n            <div className='bg-primary p-2 truncate'>primary</div>\r\n            <div className='bg-primary-light p-2 truncate'>primaryLight</div>\r\n            <div className='bg-primary-active p-2 truncate'>primaryActive</div>\r\n            <div className='bg-secondary p-2 truncate'>secondary</div>\r\n            <div className='bg-positive p-2 truncate'>positive</div>\r\n            <div className='bg-negative p-2 truncate'>negative</div>\r\n            <div className='bg-primary-text p-2 truncate'>primaryText</div>\r\n            <div className='bg-secondary-text-text p-2 truncate'>\r\n              secondaryText\r\n            </div>\r\n            <div className='bg-link-text p-2 truncate'>linkText</div>\r\n            <div className='bg-primary-background p-2 truncate'>\r\n              primaryBackground\r\n            </div>\r\n            <div className='bg-sec-background p-2 truncate'>\r\n              secondaryBackground\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { ThemeContext } from '../contexts';\r\n\r\nconst themeNames = ['base', 'dark', 'casual', 'vb', 'mixedFruit', 'carling'];\r\n\r\nexport function ThemeSwitcher() {\r\n  return (\r\n    <ThemeContext.Consumer>\r\n      {({ theme, switchTheme }) => (\r\n        <div className='flex justify-center'>\r\n          <div className='w-full md:w-1/3 px-3 mb-6 md:mb-6'>\r\n            <label\r\n              htmlFor='theme-select'\r\n              className='text-primary-text font-bold'\r\n            >\r\n              Theme switcher\r\n            </label>\r\n            <div className='relative'>\r\n              <select\r\n                id='theme-select'\r\n                className={`w-full block appearance-none bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500`}\r\n                onChange={switchTheme}\r\n                value={theme}\r\n              >\r\n                {themeNames.map((name) => {\r\n                  return (\r\n                    <option key={name} value={name}>\r\n                      {name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n              <div className='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700'>\r\n                <svg\r\n                  className='fill-current h-4 w-4'\r\n                  xmlns='http://www.w3.org/2000/svg'\r\n                  viewBox='0 0 20 20'\r\n                >\r\n                  <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </ThemeContext.Consumer>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { Header } from '../components';\r\n\r\nexport function E404({ updatePageTitle }) {\r\n  useEffect(() => {\r\n    updatePageTitle('Error 404 page was not found');\r\n  });\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className='h-full'>E404 page not found</div>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n//import { useAuth } from '../hooks/useAuth';\r\nimport { Container, Header, Card, GamePlay, GameView } from '../components';\r\nimport { fetchGameById } from '../queries';\r\nimport { useQuery } from 'react-query';\r\n\r\n/*\r\n  only \"authorised\" users for this game should be able to save changes\r\n*/\r\n\r\n/* owner -> playerId, side -> home/away, how to calculate for 10 cups/team games */\r\nexport function Game({ updatePageTitle }) {\r\n  //const auth = useAuth();\r\n  //{JSON.stringify(auth.user)}\r\n  const { gameId } = useParams();\r\n  // might be nice to save first throw\r\n  // const [firstThrow, setFirstThrow] = useState(null)\r\n  const { isLoading, error, data } = useQuery(['game', gameId], () =>\r\n    fetchGameById(gameId)\r\n  );\r\n\r\n  useEffect(() => {\r\n    updatePageTitle(`Game: ${gameId}`);\r\n  }, [updatePageTitle, gameId]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        {error && <div>Error {gameId}</div>}\r\n        {isLoading && <div>Loading {gameId}</div>}\r\n        {!isLoading && (\r\n          <Card\r\n            title={\r\n              <CardTitle\r\n                home={data[0].home_name}\r\n                away={data[0].away_name}\r\n                number={data[0].id}\r\n              />\r\n            }\r\n          >\r\n            {data[0].locked && (\r\n              <div className='text-right' title='This game is locked'>\r\n                locked 🔒\r\n              </div>\r\n            )}\r\n            <div className='text-center'>\r\n              {data[0].tournament && (\r\n                <div>\r\n                  <div>{data[0].event}</div>\r\n                  <div>{data[0].stage}</div>\r\n                </div>\r\n              )}\r\n              <div>\r\n                <div>Venue: {data[0].venue}</div>\r\n                <div>Starting cups: 6</div>\r\n                {data[0].forfeit ? <div>Ended by forfeit</div> : null}\r\n                {data[0].notes && <div>Notes: {data[0].notes}</div>}\r\n              </div>\r\n            </div>\r\n            {data[0]?.game_table && data[0].locked && (\r\n              <div className='grid grid-cols-2 gap-4'>\r\n                <div>\r\n                  <h2 className='font-bold text-center'>Home Results</h2>\r\n                  <div>Name: {data[0].home_name}</div>\r\n                  <div>Cups left: {data[0].home_cups_left}</div>\r\n                </div>\r\n                <div>\r\n                  <h2 className='font-bold text-center'>Away Results</h2>\r\n                  <div>Name: {data[0].away_name}</div>\r\n                  <div>Cups left: {data[0].away_cups_left}</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {/* check for if table json in db needs a better check than just exists haha */}\r\n            {data[0]?.game_table ? (\r\n              !data[0].locked ? (\r\n                <GamePlay gameDetails={data[0]} access='' />\r\n              ) : (\r\n                <GameView gameDetails={data[0]} />\r\n              )\r\n            ) : (\r\n              <div className='text-center text-sm font-bold pt-4'>\r\n                Table state was not entered 😥\r\n              </div>\r\n            )}\r\n          </Card>\r\n        )}\r\n      </Container>\r\n      <div className='spacer py-8'></div>\r\n    </>\r\n  );\r\n}\r\n\r\n/*\r\n Flip button to help people know which cup is with\r\n slider to turn? or buttons? (turn 90.)\r\n*/\r\n\r\n/*\r\ntabbed interface for home/away? ON MOBILe View\r\nOr just one under each other\r\n\r\nSVG with circles as cups\r\n\r\non desktop show side by side\r\n\r\nchange home_cups_left/away_cups_left\r\nto home_cups_left\r\nlower case all _id\r\npitchSize -> pitch_size\r\n*/\r\n\r\n/* \r\nhow to represent rearanges, need to make sure can haddle 10 & 6 cup games\r\n*/\r\n\r\nfunction CardTitle({ home, away, number }) {\r\n  return (\r\n    <div className='flex justify-between'>\r\n      <div className='text-3xl font-semibold text-left text-primary-text py-2'>\r\n        {home} vs {away}\r\n      </div>\r\n      <div>#{number}</div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport { Button, Container, Header, MatchGrid } from '../components';\r\nimport { fetchGames } from '../queries';\r\n\r\nexport function Games({ updatePageTitle }) {\r\n  const { isLoading, error, data } = useQuery('games', fetchGames);\r\n  useEffect(() => {\r\n    updatePageTitle(`Game`);\r\n  }, [updatePageTitle]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container maxW='max-w-screen-md'>\r\n        <div className='text-center'>\r\n          <Button text='New Game' to='/games/new' />\r\n        </div>\r\n        {isLoading && <div>Loading games...</div>}\r\n        {!isLoading && <MatchGrid games={data} />}\r\n        {error && <div>Error trying to fetch games</div>}\r\n      </Container>\r\n      <div className='spacer py-8'></div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Header, Container, TournamentList, News } from '../components';\r\n\r\nexport function Home({ updatePageTitle }) {\r\n  useEffect(() => {\r\n    updatePageTitle(`Home`);\r\n  }, [updatePageTitle]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <div className='grid grid-cols-6 gap-4'>\r\n          <section className='col-span-6 md:col-span-4 space-y-6'>\r\n            <News />\r\n          </section>\r\n          <aside className='col-span-6 md:col-span-2 md:border-l-2 p-4'>\r\n            <h2>\r\n              <Link\r\n                to='/tournaments'\r\n                className='text-link-text hover:underline text-3xl font-semibold'\r\n              >\r\n                Events\r\n              </Link>\r\n            </h2>\r\n            <TournamentList />\r\n          </aside>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useReducer, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Joi from 'joi';\r\n\r\nimport {\r\n  Button,\r\n  buttonVariant,\r\n  buttonColor,\r\n  Card,\r\n  Checkbox,\r\n  Container,\r\n  Header,\r\n  InputNumber,\r\n  PlayerPicker,\r\n  Select,\r\n  Toggle,\r\n} from '../components';\r\nimport { createInitialCups } from '../utils/tableMachine';\r\nimport { fetchPlayers, fetchVenues, postNewGame } from '../queries';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\n\r\n/* clicking on tournament match, would auto fill in game page if not played*/\r\n/* list of error msgs https://github.com/sideway/joi/blob/master/API.md#list-of-errors */\r\n\r\n/* advanced settings, teams (2 each)? would it be possible to do 3v1\r\n  turn into a wizard form instead?\r\n  how many players, player + their cups, next player\r\n  or just have a small + button to add new player to the team\r\n*/\r\n\r\nconst initialForm = {\r\n  player1: '',\r\n  player2: '',\r\n  venue: '',\r\n  gameSize: 6,\r\n  homeCupsLeft: 6,\r\n  awayCupsLeft: 6,\r\n  homeForfeit: false,\r\n  awayForfeit: false,\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'inputField':\r\n      return { ...state, [action.fieldName]: action.value };\r\n    case 'inputNumberField':\r\n      return { ...state, [action.fieldName]: Number(action.value) };\r\n    case 'inputCheckbox':\r\n      return { ...state, [action.fieldName]: action.checked };\r\n    case 'playerButton':\r\n      return { ...state, [action.fieldName]: Number(action.value) };\r\n    case 'selectField':\r\n      return { ...state, [action.fieldName]: Number(action.value) };\r\n    case 'initialise':\r\n      return { ...state };\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\r\nexport function NewGame({ updatePageTitle }) {\r\n  let history = useHistory();\r\n  const queryClient = useQueryClient();\r\n  const { mutate } = useMutation(postNewGame, {\r\n    onError: (error) => {\r\n      setErrorMsg('Could not create game, please try again later.');\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries('games');\r\n      history.push(`/games/${data.id}`);\r\n    },\r\n  });\r\n  const minGameSize = 6;\r\n  const maxGameSize = 6;\r\n  const [formState, dispatch] = useReducer(reducer, initialForm);\r\n  const [pastGame, setPastGame] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const players = useQuery('players', fetchPlayers);\r\n  const venues = useQuery('venues', fetchVenues);\r\n\r\n  const selectPlayer = (name, value) => {\r\n    //how to prevent picking the same player?\r\n    dispatch({\r\n      type: 'playerButton',\r\n      fieldName: name,\r\n      value: value,\r\n    });\r\n    //reset error msg after interacting with button\r\n    if (errorMsg.length > 0) {\r\n      setErrorMsg('');\r\n    }\r\n  };\r\n\r\n  const handleSelect = (evt) => {\r\n    dispatch({\r\n      type: 'selectField',\r\n      fieldName: evt.target.name,\r\n      value: evt.target.value,\r\n    });\r\n    // naive reset error msg\r\n    if (errorMsg.length > 0) {\r\n      setErrorMsg('');\r\n    }\r\n  };\r\n\r\n  const handleChangeNumber = (evt) => {\r\n    dispatch({\r\n      type: 'inputNumberField',\r\n      fieldName: evt.target.name,\r\n      value: evt.target.value,\r\n    });\r\n    // naive reset error msg\r\n    if (errorMsg.length > 0) {\r\n      setErrorMsg('');\r\n    }\r\n  };\r\n\r\n  const handleToggle = () => {\r\n    // reset results\r\n    dispatch({\r\n      type: 'inputNumberField',\r\n      fieldName: 'homeCupsLeft',\r\n      value: formState['gameSize'],\r\n    });\r\n    dispatch({\r\n      type: 'inputNumberField',\r\n      fieldName: 'awayCupsLeft',\r\n      value: formState['gameSize'],\r\n    });\r\n    dispatch({\r\n      type: 'inputCheckbox',\r\n      fieldName: 'homeForfeit',\r\n      checked: false,\r\n    });\r\n    dispatch({\r\n      type: 'inputCheckbox',\r\n      fieldName: 'awayForfeit',\r\n      checked: false,\r\n    });\r\n    setPastGame(!pastGame);\r\n  };\r\n\r\n  const handleForfeitCheck = (evt) => {\r\n    dispatch({\r\n      type: 'inputCheckbox',\r\n      fieldName: evt.target.name,\r\n      checked: evt.target.checked,\r\n    });\r\n    if (evt.target.name.includes('home')) {\r\n      dispatch({\r\n        type: 'inputNumberField',\r\n        fieldName: 'homeCupsLeft',\r\n        value: 0,\r\n      });\r\n    } else if (evt.target.name.includes('away')) {\r\n      dispatch({\r\n        type: 'inputNumberField',\r\n        fieldName: 'awayCupsLeft',\r\n        value: 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (validForm()) {\r\n      const initialTable = {\r\n        homeCups: createInitialCups(formState.player1, 'home'),\r\n        preRackHomeCups: null,\r\n        awayCups: createInitialCups(formState.player2, 'away'),\r\n        preRackAwayCups: null,\r\n        firstThrow: null,\r\n        homeCupsLeft: 6,\r\n        homeCupRerackComplete: false,\r\n        homeCupRimCount: 0,\r\n        awayCupsLeft: 6,\r\n        awayCupRerackComplete: false,\r\n        awayCupRimCount: 0,\r\n        forfeit: false,\r\n        winner: null,\r\n        turns: 0,\r\n        selectedCup: null,\r\n        isHovering: false,\r\n        lastHover: { x: null, y: null },\r\n        cupNewPos: { x: null, y: null },\r\n        stack: [],\r\n      };\r\n      const values = {\r\n        ...formState,\r\n        created: new Date(),\r\n        table: pastGame ? null : initialTable,\r\n        locked: pastGame,\r\n      };\r\n      console.log(values);\r\n      mutate(values);\r\n    }\r\n  };\r\n\r\n  function validForm() {\r\n    if (formState.player1 !== formState.player2) {\r\n      const valid = schema.validate({\r\n        player1: formState.player1,\r\n        player2: formState.player2,\r\n        venue: formState.venue,\r\n        gameSize: formState.gameSize,\r\n        homeCupsLeft: formState.homeCupsLeft,\r\n        awayCupsLeft: formState.awayCupsLeft,\r\n        forfeit: formState.homeForfeit || formState.awayForfeit,\r\n      });\r\n      if (valid.error === undefined) {\r\n        return true;\r\n      } else {\r\n        // could check what type of error to make sure we create a good error for the user\r\n        setErrorMsg(valid.error.message);\r\n        return false;\r\n      }\r\n    } else {\r\n      setErrorMsg('Player 1 and Player 2 must be different!');\r\n    }\r\n  }\r\n\r\n  /* schema */\r\n  const schema = Joi.object().keys({\r\n    player1: Joi.number()\r\n      .required()\r\n      .messages({ 'number.base': 'Player 1 must be selected' }),\r\n    player2: Joi.number()\r\n      .required()\r\n      .messages({ 'number.base': 'Player 2 must be selected' }),\r\n    venue: Joi.number()\r\n      .required()\r\n      .messages({ 'number.base': 'venue is required' }),\r\n    gameSize: Joi.number()\r\n      .integer()\r\n      .less(maxGameSize + 1)\r\n      .greater(minGameSize - 1)\r\n      .required()\r\n      .messages({\r\n        'number.less': `Game size must be less than ${maxGameSize + 1}`,\r\n        'number.greater': `Game size must be more than ${minGameSize - 1}`,\r\n      }),\r\n    homeCupsLeft: Joi.number()\r\n      .integer()\r\n      .less(maxGameSize + 1)\r\n      .greater(-1)\r\n      .required()\r\n      .messages({\r\n        'number.less': `Maximum number of cups must be less than ${\r\n          maxGameSize + 1\r\n        }`,\r\n        'number.greater': `Minimum number of cups is 0!`,\r\n      }),\r\n    awayCupsLeft: Joi.number()\r\n      .integer()\r\n      .less(maxGameSize + 1)\r\n      .greater(-1)\r\n      .required()\r\n      .messages({\r\n        'number.less': `Maximum number of cups must be less than ${\r\n          maxGameSize + 1\r\n        }`,\r\n        'number.greater': `Minimum number of cups is 0!`,\r\n      }),\r\n    forfeit: Joi.boolean().required(),\r\n  });\r\n\r\n  useEffect(() => {\r\n    updatePageTitle('Friendlies');\r\n  }, [updatePageTitle]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container maxW='max-w-xl'>\r\n        {players.isLoading && <div>Loading players...</div>}\r\n        {!players.isLoading && (\r\n          <Card title='New friendly'>\r\n            <label htmlFor='player1'>Home:</label>\r\n            <PlayerPicker\r\n              name='player1'\r\n              playerNames={players.data}\r\n              selected={formState['player1']}\r\n              selectPlayer={selectPlayer}\r\n              variant={buttonVariant.regular}\r\n              color={buttonColor.outlined}\r\n              fullWidth\r\n            />\r\n            <label htmlFor='player2'>Away:</label>\r\n            <PlayerPicker\r\n              name='player2'\r\n              playerNames={players.data}\r\n              selected={formState['player2']}\r\n              selectPlayer={selectPlayer}\r\n              variant={buttonVariant.regular}\r\n              color={buttonColor.outlined}\r\n              fullWidth\r\n            />\r\n            <form onSubmit={handleSubmit} className='space-y-2'>\r\n              <input type='hidden' value={formState['player1']} />\r\n              <input type='hidden' value={formState['player2']} />\r\n              <label htmlFor='venue'>\r\n                Pick venue, or leave blank to fill later\r\n              </label>\r\n              {venues.isLoading && <div>Loading players...</div>}\r\n              {!venues.isLoading && (\r\n                <Select name='venue' onChange={handleSelect}>\r\n                  {venues.data.map((item) => {\r\n                    return (\r\n                      <option key={item.id} value={item.id}>\r\n                        {item.title}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </Select>\r\n              )}\r\n              <InputNumber\r\n                label='Number of starting cups'\r\n                name='gameSize'\r\n                value={formState['gameSize']}\r\n                min={minGameSize}\r\n                max={maxGameSize}\r\n                onChange={handleChangeNumber}\r\n              />\r\n              <div>\r\n                <p>Has the game already been completed?</p>\r\n                <div className='grid justify-center'>\r\n                  <Toggle toggle={handleToggle} active={pastGame} />\r\n                </div>\r\n              </div>\r\n              {pastGame && (\r\n                <div className='grid grid-cols-2 gap-4'>\r\n                  <div>\r\n                    <h2 className='font-bold text-center'>Home Results</h2>\r\n                    <div>Name: {players.data[formState.player1 - 1]?.name}</div>\r\n                    <InputNumber\r\n                      label='Home cups left'\r\n                      name='homeCupsLeft'\r\n                      value={formState['homeCupsLeft']}\r\n                      min={0}\r\n                      max={maxGameSize}\r\n                      onChange={handleChangeNumber}\r\n                    />\r\n                    <Checkbox\r\n                      label='forfeited?'\r\n                      name='homeForfeit'\r\n                      checked={formState['homeForfeit']}\r\n                      handleChange={handleForfeitCheck}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className='font-bold text-center'>Away Results</h2>\r\n                    <div>Name: {players.data[formState.player2 - 1]?.name}</div>\r\n                    <InputNumber\r\n                      label='Away cups left'\r\n                      name='awayCupsLeft'\r\n                      value={formState['awayCupsLeft']}\r\n                      min={0}\r\n                      max={maxGameSize}\r\n                      onChange={handleChangeNumber}\r\n                    />\r\n                    <Checkbox\r\n                      label='forfeited?'\r\n                      name='awayForfeit'\r\n                      checked={formState['awayForfeit']}\r\n                      handleChange={handleForfeitCheck}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {errorMsg.length > 0 && (\r\n                <p className='text-negative'>{errorMsg}</p>\r\n              )}\r\n              <div className='pt-4'>\r\n                <Button text='Create!' type='submit' fullWidth />\r\n              </div>\r\n            </form>\r\n          </Card>\r\n        )}\r\n      </Container>\r\n      <div className='spacer py-8'></div>\r\n    </>\r\n  );\r\n}\r\n","import Joi from 'joi';\r\nimport { useReducer, useState } from 'react';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\n\r\nimport { Header, Card, Container, Input, Button } from '../components';\r\nimport { postNewPlayer } from '../queries';\r\n\r\nconst schema = Joi.object().keys({\r\n  playerName: Joi.string()\r\n    .required()\r\n    .messages({ 'string.base': 'A name must be entered' }),\r\n});\r\n\r\nconst initialForm = {\r\n  playerName: '',\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'inputField':\r\n      return { ...state, [action.fieldName]: action.value };\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\r\nexport function NewPlayer() {\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [formState, dispatch] = useReducer(reducer, initialForm);\r\n  const queryClient = useQueryClient();\r\n  const { mutate } = useMutation(postNewPlayer, {\r\n    onError: (error) => {\r\n      setErrorMsg('Could not create player, please try again later.');\r\n    },\r\n    onSuccess: (data) => {\r\n      // currently queries (based on fetch) return as success if we send back custom error\r\n      if (data.error) {\r\n        setErrorMsg(data.error); // or data.message\r\n      } else {\r\n        queryClient.invalidateQueries('players');\r\n        // history.push(`/games/${data.id}`);\r\n        // nothing really to do on player page at the moment\r\n      }\r\n    },\r\n  });\r\n\r\n  function validForm() {\r\n    const valid = schema.validate(formState);\r\n    if (valid.error) {\r\n      setErrorMsg(valid.error.message);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const handleInput = (evt) => {\r\n    dispatch({\r\n      type: 'inputField',\r\n      fieldName: evt.target.name,\r\n      value: evt.target.value,\r\n    });\r\n    // naive reset error msg\r\n    if (errorMsg.length > 0) {\r\n      setErrorMsg('');\r\n    }\r\n  };\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (validForm()) {\r\n      mutate(formState);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container maxW='max-w-xl'>\r\n        <Card title='New Player'>\r\n          <form onSubmit={handleSubmit} className='space-y-2'>\r\n            <Input\r\n              label='Enter player name'\r\n              name='playerName'\r\n              onChange={handleInput}\r\n            />\r\n            {errorMsg.length > 0 && <p className='text-negative'>{errorMsg}</p>}\r\n            <div className='pt-4'>\r\n              <Button\r\n                text='Create!'\r\n                type='submit'\r\n                fullWidth\r\n                disabled={formState['playerName'].length < 1}\r\n              />\r\n            </div>\r\n          </form>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { Header, Container, PlayerDetails } from '../components';\r\nimport { fetchPlayerById } from '../queries';\r\n\r\n/* add last 5 games */\r\nexport function Player({ updatePageTitle }) {\r\n  const { playerId } = useParams();\r\n  const { data, isLoading } = useQuery(['player', playerId], () =>\r\n    fetchPlayerById(playerId)\r\n  );\r\n  //set page title\r\n  useEffect(() => {\r\n    //probably fill this in with name / or doesnt exist after loaded player details\r\n    updatePageTitle(`Player: ${playerId}`);\r\n  }, [updatePageTitle, playerId]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container maxW='max-w-screen-md'>\r\n        <div className='p-6 space-y-4'>\r\n          {playerId ? (\r\n            isLoading ? (\r\n              'loading...'\r\n            ) : data.length > 0 ? (\r\n              <PlayerDetails playerId={playerId} />\r\n            ) : (\r\n              'This player does not exist!'\r\n            )\r\n          ) : (\r\n            'player list?'\r\n          )}\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useMemo } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Container, Header } from '../components';\r\nimport { fetchRecords } from '../queries';\r\n\r\n/* like premier league stats centre */\r\n\r\nexport function Records({ updatePageTitle }) {\r\n  const { isLoading, error, data } = useQuery('tournaments', fetchRecords);\r\n  const groupedRecords = useMemo(() => {\r\n    let grouped = {};\r\n    if (data) {\r\n      data.forEach((record) => {\r\n        if (grouped[record.label]) {\r\n          grouped[record.label].push(record);\r\n        } else {\r\n          grouped[record.label] = record.label;\r\n          grouped[record.label] = [record];\r\n        }\r\n      });\r\n    }\r\n    return grouped;\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    updatePageTitle(`Records`);\r\n  }, [updatePageTitle]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container maxW='max-w-screen-md'>\r\n        {error && <div>Error loading records</div>}\r\n        {isLoading && <div>loading...</div>}\r\n        {!isLoading && (\r\n          <div className='grid grid-cols-2 md:grid-cols-4 gap-4'>\r\n            {Object.entries(groupedRecords).map(([key, value]) => {\r\n              return <RecordList key={key} recordType={key} records={value} />;\r\n            })}\r\n          </div>\r\n        )}\r\n      </Container>\r\n      <div className='spacer py-8'></div>\r\n    </>\r\n  );\r\n}\r\n\r\n// order by value\r\nfunction RecordList({ records, recordType }) {\r\n  return (\r\n    <div className='flex flex-col shadow p-4 space-y-4'>\r\n      <h2 className='text-lg pb-4'>{recordType}</h2>\r\n      {records.map((record, idx) => {\r\n        return <DisplayRecords key={`${record.label}${idx}`} record={record} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DisplayRecords({ record }) {\r\n  return (\r\n    <div className='flex flex-row justify-between border-b relative'>\r\n      <Link\r\n        className={`${\r\n          record.current && 'psudo-winner'\r\n        } text-link-text underline`}\r\n        to={`/players/${record.player_id}`}\r\n      >\r\n        {record.name}\r\n      </Link>\r\n      <div>{record.value}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport {\r\n  Card,\r\n  Container,\r\n  Header,\r\n  ThemeSwitcher,\r\n  UserPreferences,\r\n} from '../components';\r\n\r\nexport function Settings() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <Card title='Local browser preferences'>\r\n          <ThemeSwitcher />\r\n        </Card>\r\n        <Card title='My preferences'>\r\n          <UserPreferences />\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Joi from 'joi';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport {\r\n  Card,\r\n  Button,\r\n  Container,\r\n  Input,\r\n  Decoration,\r\n  Logo,\r\n} from '../components';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nconst schema = Joi.object().keys({\r\n  username: Joi.string()\r\n    .trim()\r\n    .regex(/^[a-zA-Z0-9_]+$/)\r\n    .min(2)\r\n    .max(30)\r\n    .required(),\r\n  password: Joi.string().trim().min(6).required(),\r\n});\r\n\r\nexport function SignIn({ updatePageTitle }) {\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  /* redirect from location, or redirect home */\r\n  let { from } = location.state || { from: { pathname: '/' } };\r\n  const auth = useAuth();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const handleUsername = (evt) => setUsername(evt.target.value);\r\n  const handlePassword = (evt) => setPassword(evt.target.value);\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (validUser()) {\r\n      const signInCreds = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n      try {\r\n        const signInResp = await auth.signIn(signInCreds);\r\n        // auth.user is set in the AuthProvider\r\n        if (signInResp.error) {\r\n          return setErrorMsg(\r\n            'Unable to login, please double check your credentials.'\r\n          );\r\n        }\r\n        history.replace(from);\r\n      } catch (err) {\r\n        setErrorMsg('Something went wrong!');\r\n      }\r\n    }\r\n  };\r\n\r\n  function validUser() {\r\n    const valid = schema.validate({\r\n      username: username,\r\n      password: password,\r\n    });\r\n    if (valid.error === undefined) {\r\n      return true;\r\n    } else {\r\n      //for sign in *should* be a generic message\r\n      setErrorMsg('Unable to login, please double check your credentials.');\r\n      return false;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updatePageTitle('Sign in');\r\n  }, [updatePageTitle]);\r\n  return (\r\n    <Container maxW='max-w-screen-md'>\r\n      <div className='flex justify-center pb-4'>\r\n        <Logo />\r\n      </div>\r\n      <Card\r\n        title={\r\n          <div className='grid justify-center'>\r\n            <Decoration />\r\n            <h2 className='text-3xl font-semibold text-primary-text py-2'>\r\n              Sign in\r\n            </h2>\r\n          </div>\r\n        }\r\n      >\r\n        <form>\r\n          <Input\r\n            label='Username'\r\n            name='username'\r\n            required={true}\r\n            value={username}\r\n            onChange={handleUsername}\r\n          />\r\n          <Input\r\n            label='Password'\r\n            name='password'\r\n            type='password'\r\n            required={true}\r\n            value={password}\r\n            onChange={handlePassword}\r\n          />\r\n          <Link to='/' className='text-link-text hover:underline'>\r\n            Forgotten password?\r\n          </Link>\r\n          {errorMsg.length > 0 && <p className='text-negative'>{errorMsg}</p>}\r\n          <div className='pt-2'>\r\n            <Button\r\n              text='Sign in'\r\n              handleClick={handleSubmit}\r\n              color='outlined'\r\n              fullWidth\r\n            />\r\n          </div>\r\n          <Link to='/signup' className='text-link-text hover:underline'>\r\n            Or sign up here\r\n          </Link>\r\n        </form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Joi from 'joi';\r\n\r\nimport {\r\n  Card,\r\n  Button,\r\n  Container,\r\n  Input,\r\n  Decoration,\r\n  Logo,\r\n} from '../components';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nconst schema = Joi.object().keys({\r\n  username: Joi.string()\r\n    .trim()\r\n    .regex(/^[a-zA-Z0-9_]+$/)\r\n    .min(2)\r\n    .max(30)\r\n    .required(),\r\n  password: Joi.string().trim().min(6).required(),\r\n  confirmPassword: Joi.string().trim().min(6).required(),\r\n});\r\n\r\nexport function SignUp({ updatePageTitle }) {\r\n  let history = useHistory();\r\n  const auth = useAuth();\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const handleUsername = (evt) => setUsername(evt.target.value);\r\n  const handleEmail = (evt) => setEmail(evt.target.value);\r\n  const handlePassword = (evt) => setPassword(evt.target.value);\r\n  const handleConfirmPassword = (evt) => setConfirmPassword(evt.target.value);\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (validUser()) {\r\n      const newUserCreds = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n      try {\r\n        //post to server\r\n        const signupResp = await auth.signUp(newUserCreds);\r\n        if (signupResp.error !== undefined) {\r\n          return setErrorMsg(signupResp.error);\r\n        }\r\n        //redirect to login page on successful account creation\r\n        history.push('/');\r\n      } catch (err) {\r\n        setErrorMsg('Something went wrong!');\r\n      }\r\n    }\r\n  };\r\n\r\n  function validUser() {\r\n    if (password === confirmPassword) {\r\n      const valid = schema.validate({\r\n        username: username,\r\n        password: password,\r\n        confirmPassword: confirmPassword,\r\n      });\r\n      if (valid.error === undefined) {\r\n        return true;\r\n      } else {\r\n        // could check what type of error to make sure we create a good error for the user\r\n        setErrorMsg(valid.error.message);\r\n        return false;\r\n      }\r\n    } else {\r\n      setErrorMsg('Password and Confirm password must be the same');\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updatePageTitle('Sign up');\r\n  }, [updatePageTitle]);\r\n\r\n  return (\r\n    <Container maxW='max-w-screen-md'>\r\n      <div className='flex justify-center pb-4'>\r\n        <Logo />\r\n      </div>\r\n      <Card\r\n        title={\r\n          <div className='grid justify-center'>\r\n            <Decoration />\r\n            <h2 className='text-3xl font-semibold text-primary-text py-2'>\r\n              Sign up\r\n            </h2>\r\n          </div>\r\n        }\r\n      >\r\n        <form>\r\n          <Input\r\n            label='Username'\r\n            name='username'\r\n            required={true}\r\n            value={username}\r\n            onChange={handleUsername}\r\n            aria-describedby='usernameHelp'\r\n            helpText='Username must be between 2 and 30 characters. Alphanumeric and\r\n              underscores only.'\r\n          />\r\n          <Input\r\n            label='Email address'\r\n            name='email'\r\n            type='email'\r\n            value={email}\r\n            onChange={handleEmail}\r\n          />\r\n          <Input\r\n            label='Password'\r\n            name='password'\r\n            minLength='6'\r\n            type='password'\r\n            required\r\n            value={password}\r\n            onChange={handlePassword}\r\n            aria-describedby='passwordHelp'\r\n            helpText='Password must be at least 6 characters.'\r\n          />\r\n\r\n          <Input\r\n            label='Confirm Password'\r\n            name='confirmPassword'\r\n            minLength='6'\r\n            type='password'\r\n            required\r\n            value={confirmPassword}\r\n            onChange={handleConfirmPassword}\r\n          />\r\n          {errorMsg.length > 0 && <p className='text-negative'>{errorMsg}</p>}\r\n          <div className='pt-2'>\r\n            <Button\r\n              text='Sign up'\r\n              handleClick={handleSubmit}\r\n              color='outlined'\r\n              fullWidth\r\n            />\r\n          </div>\r\n          <Link to='/signin' className='text-link-text hover:underline'>\r\n            Or sign in here\r\n          </Link>\r\n        </form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport {\r\n  Container,\r\n  Header,\r\n  TournamentList,\r\n  TournamentDetail,\r\n} from '../components';\r\n\r\nexport function Tournament({ updatePageTitle }) {\r\n  const { tournamentId } = useParams();\r\n\r\n  useEffect(() => {\r\n    updatePageTitle(`Tournament: ${tournamentId}`);\r\n  }, [updatePageTitle, tournamentId]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        {tournamentId ? (\r\n          <TournamentDetail id={tournamentId} />\r\n        ) : (\r\n          <TournamentList />\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n/* \r\nNew tournament or new game button should look like this Group-hover element\r\nhttps://tailwindcss.com/docs/pseudo-class-variants\r\n*/\r\n","import React from 'react';\r\n\r\nimport { Header, Container } from '../components';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nexport function Unauthorised() {\r\n  const { user } = useAuth();\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container maxW='max-w-screen-md'>\r\n        <h2 className='text-5xl font-bold'>Unauthorised ⛔</h2>\r\n        <div>\r\n          Unfortunately you do not have the access level in order to reach this\r\n          resource.\r\n        </div>\r\n        <p>\r\n          You are currently signed in as{' '}\r\n          <span className='bg-sec-background font-semibold px-1'>\r\n            {user?.username}\r\n          </span>\r\n          .\r\n        </p>\r\n        <p>\r\n          If you think you are logged in as the correct user and should have\r\n          access to this resource please ask the admin.\r\n        </p>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport {\r\n  Card,\r\n  Match,\r\n  PlayerPicker,\r\n  PlayerOverview,\r\n  Header,\r\n  Container,\r\n} from '../components';\r\nimport { fetchPlayerOverview, fetchPlayers } from '../queries';\r\n\r\nexport function Versus({ updatePageTitle }) {\r\n  let history = useHistory();\r\n  const [players, setPlayers] = useState({\r\n    player1: '',\r\n    player2: '',\r\n  });\r\n  const {\r\n    isLoading: loadingPlayerList,\r\n    error: errorPlayerList,\r\n    data: playerList,\r\n  } = useQuery('players', fetchPlayers);\r\n\r\n  const [gameData, setGameData] = useState([]);\r\n  const [playerOverview, setPlayerOverview] = useState([]);\r\n\r\n  const selectPlayer = useCallback(\r\n    (name, value) => {\r\n      //how to prevent picking the same player?\r\n      setPlayers((previous) => ({ ...previous, [name]: value }));\r\n      // split path\r\n      const sp = history.location.pathname.split('/');\r\n      fetchPlayerOverview(value).then((overview) => {\r\n        if (name === 'player1') {\r\n          if (isIntOrStringInt(value)) {\r\n            setPlayerOverview((previous) => {\r\n              return previous.length > 1\r\n                ? [overview[0], previous[1]]\r\n                : [overview[0]];\r\n            });\r\n            history.push(`${[sp[0], sp[1], value, sp[3]].join('/')}`);\r\n          } else {\r\n            history.push(`${[sp[0], sp[1]].join('/')}`);\r\n          }\r\n        } else {\r\n          if (isIntOrStringInt(value)) {\r\n            setPlayerOverview((previous) => [previous[0], overview[0]]);\r\n            history.push(`${[sp[0], sp[1], sp[2], value].join('/')}`);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    [history]\r\n  );\r\n\r\n  const goCompare = (player1, player2) => {\r\n    if (player1.length > 0 && player2.length > 0) {\r\n      fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/v1/versus/${player1}/${player2}`\r\n      )\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          setGameData(data);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    updatePageTitle('Compare player stats');\r\n  }, [updatePageTitle]);\r\n\r\n  useEffect(() => {\r\n    // joi validation for path?\r\n    const splitPath = window.location.pathname.split('/');\r\n    const player1Id = splitPath[2];\r\n    const player2Id = splitPath[3];\r\n    // maybe move check for exist into selectPlayer\r\n    if (!loadingPlayerList) {\r\n      if (playerList.length > 0) {\r\n        let player1Exists = playerList.some(\r\n          (player) => Number(player.id) === Number(player1Id)\r\n        );\r\n        if (player1Exists) {\r\n          selectPlayer('player1', player1Id);\r\n          // if player exists then check player 2\r\n          if (isIntOrStringInt(player2Id)) {\r\n            let player2Exists = playerList.some(\r\n              (player) => Number(player.id) === Number(player2Id)\r\n            );\r\n            if (player2Exists) {\r\n              selectPlayer('player2', player2Id);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [playerList, selectPlayer, loadingPlayerList]);\r\n\r\n  //when player changes goCompare\r\n  useEffect(() => {\r\n    if (players.player1.length > 0 && players.player2.length > 0) {\r\n      goCompare(players.player1, players.player2);\r\n    }\r\n  }, [players]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <Card title='Player search'>\r\n          {errorPlayerList && <span>Error grabbing player list</span>}\r\n          <div className='flex justify-around p-2'>\r\n            <PlayerPicker\r\n              playerNames={playerList}\r\n              selected={players['player1']}\r\n              name='player1'\r\n              selectPlayer={selectPlayer}\r\n            />\r\n            <PlayerPicker\r\n              playerNames={playerList}\r\n              selected={players['player2']}\r\n              name='player2'\r\n              selectPlayer={selectPlayer}\r\n              disabled={players.player1.length < 1}\r\n            />\r\n          </div>\r\n        </Card>\r\n        {players.player1.length > 0 || players.player2.length > 0 ? (\r\n          <>\r\n            <Card title='Overview'>\r\n              <PlayerOverview details={playerOverview} />\r\n            </Card>\r\n            <Card title='Games'>\r\n              <div className='grid md:grid-cols-3 gap-4'>\r\n                {gameData.length > 0 ? (\r\n                  gameData.map((game) => <Match key={game.id} details={game} />)\r\n                ) : (\r\n                  <div>No games played ⚠</div>\r\n                )}\r\n              </div>\r\n            </Card>\r\n          </>\r\n        ) : null}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction isIntOrStringInt(param) {\r\n  return param === '' ? false : Number.isInteger(Number(param));\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { Button, Header, Card, Match, Container, Swatch } from '../components';\r\nimport { AuthContext } from '../contexts';\r\n\r\nexport function Test({ updatePageTitle }) {\r\n  const testGame = {\r\n    home_name: 'home player',\r\n    home_id: 1,\r\n    homeCupsLeft: 0,\r\n    away_name: 'away player',\r\n    away_id: 2,\r\n    awayCupsLeft: 3,\r\n    event: 'some event',\r\n    date: 'new Date()',\r\n    venue: 'soeme venue',\r\n    notes: 'notes',\r\n  };\r\n\r\n  useEffect(() => {\r\n    //probably fill this in with name / or doesnt exist after loaded player details\r\n    updatePageTitle(`Test components page`);\r\n  }, [updatePageTitle]);\r\n  return (\r\n    <AuthContext.Consumer>\r\n      {({ user }) => (\r\n        <>\r\n          <Header />\r\n          <Container>\r\n            <div>\r\n              Auth check:\r\n              {user === null || user === undefined\r\n                ? 'You can log in here or search for a user!'\r\n                : `hi ${user.username}`}\r\n            </div>\r\n            <div className='text-center space-y-2'>\r\n              <div>\r\n                <Button variant='square' text='square button' />\r\n              </div>\r\n              <div>\r\n                <Button\r\n                  variant='square'\r\n                  color='outlined'\r\n                  text='square button outlined'\r\n                />\r\n              </div>\r\n              <div>\r\n                <Button text='regular button' color='outlined' />\r\n              </div>\r\n              <div>\r\n                <Button text='disabled button' color='outlined' disabled />\r\n              </div>\r\n              <div>\r\n                <Button text='link as button' to='/test' color='outlined' />\r\n              </div>\r\n              <div>\r\n                <Button\r\n                  text='square link as button'\r\n                  to='/test'\r\n                  variant='square'\r\n                  color='outlined'\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Card title='title of cart'>can take children</Card>\r\n            </div>\r\n            <div>\r\n              <Match details={testGame} />\r\n            </div>\r\n            <div>\r\n              <Card title='Match'>\r\n                <Match details={testGame} />\r\n              </Card>\r\n            </div>\r\n            <div></div>\r\n            <Swatch />\r\n          </Container>\r\n        </>\r\n      )}\r\n    </AuthContext.Consumer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { ReactQueryDevtools } from 'react-query/devtools';\r\n\r\nimport { ThemeProvider, AuthProvider } from './contexts';\r\nimport { applyTheme, DEFAULT_THEME } from './theme';\r\nimport {\r\n  E404,\r\n  Game,\r\n  Games,\r\n  Home,\r\n  NewGame,\r\n  Player,\r\n  Settings,\r\n  Tournament,\r\n  Versus,\r\n  SignIn,\r\n  SignUp,\r\n  Test,\r\n  Records,\r\n  NewPlayer,\r\n} from './pages';\r\nimport { AuthorisedRoute, LoggedOutRoute, Refreshing } from './components';\r\n\r\n/* could try lazy loading protected routes like NewGame? */\r\n\r\nconst defaultTheme = () => {\r\n  if (localStorage.getItem('tw-bp:theme')) {\r\n    return localStorage.getItem('tw-bp:theme');\r\n  }\r\n  /* dark theme needs work before it should be default */\r\n  return DEFAULT_THEME;\r\n  /*   if (window.matchMedia && window.matchMedia('prefers-color-scheme: dark')) {\r\n    return 'dark';\r\n  } else {\r\n    return DEFAULT_THEME;\r\n  } */\r\n};\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nfunction App() {\r\n  //probably want a authentication provider so in <Route render can redirect depending if logged in or not\r\n  //if its null, its not loaded yet. if undefined user not logge in\r\n  const [theme, setTheme] = useState(defaultTheme);\r\n  const [pageTitle, setPageTitle] = useState('');\r\n  const updatePageTitle = (newTitle) => setPageTitle(newTitle);\r\n  const changeTheme = (evt) => {\r\n    localStorage.setItem('tw-bp:theme', evt.target.value);\r\n    setTheme(evt.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    applyTheme(theme);\r\n  }, [theme]);\r\n\r\n  useEffect(() => {\r\n    document.title = pageTitle;\r\n  }, [pageTitle]);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme} changeTheme={changeTheme}>\r\n      <AuthProvider>\r\n        <QueryClientProvider client={queryClient}>\r\n          <Refreshing />\r\n          <Router>\r\n            <Switch>\r\n              <Route path='/versus/:player1Id(\\d+)?/:player2Id(\\d+)?'>\r\n                <Versus updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <AuthorisedRoute path='/player/new' minimumRole={5}>\r\n                <NewPlayer updatePageTitle={updatePageTitle} />\r\n              </AuthorisedRoute>\r\n              <Route path='/player/:playerId(\\d+)?'>\r\n                <Player updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <Route path='/records/'>\r\n                <Records updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <Route path='/games/' exact>\r\n                <Games updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <AuthorisedRoute path='/games/new'>\r\n                <NewGame updatePageTitle={updatePageTitle} />\r\n              </AuthorisedRoute>\r\n              <AuthorisedRoute path='/games/:gameId(\\d+)'>\r\n                <Game updatePageTitle={updatePageTitle} />\r\n              </AuthorisedRoute>\r\n              <Route path='/tournaments' exact>\r\n                <Tournament updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <Route path='/tournaments/:tournamentId(\\d+)'>\r\n                <Tournament updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <Route path='/settings'>\r\n                <Settings updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <LoggedOutRoute path='/signin'>\r\n                <SignIn updatePageTitle={updatePageTitle} />\r\n              </LoggedOutRoute>\r\n              <LoggedOutRoute path='/signup'>\r\n                <SignUp updatePageTitle={updatePageTitle} />\r\n              </LoggedOutRoute>\r\n              <Route path='/test'>\r\n                <Test updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <Route path='/' exact>\r\n                <Home updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n              <Route path='/*'>\r\n                <E404 updatePageTitle={updatePageTitle} />\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n          <ReactQueryDevtools />\r\n        </QueryClientProvider>\r\n      </AuthProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/tailwind.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}