(this["webpackJsonptw-bp"]=this["webpackJsonptw-bp"]||[]).push([[0],{131:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(122),s=n.n(c),i=(n(131),n(9)),o=n(11),l=n(17),u=n(292),d=n(45),j=n(123),b=Object(r.createContext)(),p=n(4),m=n.n(p),h=n(7);function x(e){return f.apply(this,arguments)}function f(){return(f=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/auth/signup"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1"),{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/auth/signout"),{method:"POST",headers:{"content-type":"application/json"},credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/auth/signin"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n(0);function N(e){var t=e.children,n=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t);case 3:if(!(n=e.sent).error){e.next=6;break}return e.abrupt("return",n);case 6:return a(n.user),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{postError:"failed to post"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:return n=e.sent,a(n.user),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{postError:"failed to post"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:return t=e.sent,a(null),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0);case 10:a(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,a(t.user);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{user:n,signUp:c,signIn:s,signOut:o}}();return Object(k.jsx)(b.Provider,{value:n,children:t})}var S=Object(r.createContext)();function F(e){var t=e.theme,n=e.changeTheme,r=e.children;return Object(k.jsx)(S.Provider,{value:{theme:t,switchTheme:n},children:r})}var L,T,E={primary:"#61DAFB",secondary:"#254E70",negative:"#e45b78",positive:"#A3D9B1",primaryText:"#333",linkText:"#1976d2",primaryBackground:"#efefef",secondaryBackground:"#F6F9FC"},R=n(6),P=(L=E,T={primaryBackground:"#444444",secondaryBackground:"#7b7b7b",primaryText:"#fff"},Object(R.a)(Object(R.a)({},L),T)),A={base:E,dark:P,casual:{primary:"#3B82F6",primaryLight:"#93C5FD",primaryActive:"#60A5FA",secondary:"#E8EBF7",negative:"#DE1A1A",positive:"#68EDC6",primaryText:"#1D4ED8",linkText:"#1976d2",primaryBackground:"#D78521",secondaryBackground:"#F2D398"},vb:{primary:"#093A16",primaryLight:"#148633",primaryActive:"#19AC41",secondary:"#D33020",positive:"#2FD158",negative:"#861E14",primaryText:"#0D3918",linkText:"#1976d2",primaryBackground:"#f1eedd",secondaryBackground:"#fff"},mixedFruit:{primary:"#6366F1",primaryLight:"#C4B5FD",primaryActive:"#A78BFA",secondary:"#F7C259",positive:"#2FD158",negative:"#861E14",primaryText:"#C31547",inputBackground:"#FDF2F8",linkText:"#1976d2",primaryBackground:"#ECFDF5",secondaryBackground:"#FCE7F3"},carling:{primary:"#da291c",primaryLight:"#B11E0C",primaryActive:"#7D1508",secondary:"#000",positive:"#2FD158",negative:"#B91C1C",primaryText:"#000",secondaryText:"#fff",linkText:"#337ab7",primaryBackground:"#fff",secondaryBackground:"#F5F5F5"}};function _(e){var t=e.label,n=e.name,r=e.checked,a=e.handleChange;return Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:n,className:"pr-3",children:t}),Object(k.jsx)("input",{name:n,id:n,type:"checkbox",onChange:a,checked:r,className:"form-checkbox h-5 w-5"})]})}var B=n(29);function H(e){var t=e.name,n=e.type,r=void 0===n?"text":n,a=e.label,c=void 0===a?"":a,s=e.placeholder,i=void 0===s?"":s,o=e.required,l=void 0!==o&&o,u=e.value,d=e.onChange,j=e.helpText,b=void 0===j?"":j,p=e.errorMsg,m=void 0===p?"":p,h=Object(B.a)(e,["name","type","label","placeholder","required","value","onChange","helpText","errorMsg"]);return Object(k.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(k.jsx)("label",{htmlFor:t,children:c}),Object(k.jsx)("input",Object(R.a)({name:t,className:"\n        w-full block\n        appearance-none\n        bg-input-background\n        border\n        border-gray-200\n        text-gray-700\n        py-3\n        px-4\n        pr-8\n        rounded\n        leading-tight\n        focus:bg-white\n        focus:border-gray-500",value:u,onChange:d,required:l,type:r,placeholder:i},h)),b.length>0?Object(k.jsx)("small",{id:t+"Help",children:b}):null,m.length>0&&Object(k.jsx)("p",{className:"text-negative",children:m})]})}function I(e){var t=e.name,n=e.min,r=void 0===n?0:n,a=e.max,c=void 0===a?6:a,s=e.label,i=void 0===s?"":s,o=e.onChange,l=e.value,u=e.required,d=void 0!==u&&u,j=e.helpText,b=void 0===j?"":j,p=e.errorMsg,m=void 0===p?"":p;return Object(k.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(k.jsx)("label",{htmlFor:t,children:i}),Object(k.jsx)("input",{name:t,className:"\n        w-full block\n        appearance-none\n        bg-input-background\n        border\n        border-gray-200\n        text-gray-700\n        py-3\n        px-4\n        pr-8\n        rounded\n        leading-tight\n        focus:outline-none\n        focus:bg-white\n        focus:border-gray-500\n        ",value:l,onChange:o,min:r,max:c,required:d,type:"number"}),b.length>0?Object(k.jsx)("small",{id:t+"Help",children:b}):null,m.length>0&&Object(k.jsx)("p",{className:"text-negative",children:m})]})}function W(e){var t=e.name,n=e.placeholder,r=void 0===n?"Select option":n,a=e.onChange,c=void 0===a?function(){}:a,s=e.children,i=Object(B.a)(e,["name","placeholder","onChange","children"]);return Object(k.jsxs)("select",Object(R.a)(Object(R.a)({name:t,className:"\n      w-full\n      block\n      bg-input-background\n      border\n      border-gray-200\n      text-gray-700\n      py-3\n      px-4\n      pr-8\n      rounded\n      leading-tight\n      focus:outline-none\n      focus:bg-white\n      focus:border-gray-500\n      ",onChange:c},i),{},{children:[Object(k.jsx)("option",{value:"",children:r}),s]}))}function D(e){var t=e.toggle,n=e.active;return Object(k.jsx)("div",{className:"w-16 h-10 rounded-full flex-shrink-0 p-1 ".concat(n?"bg-positive":"bg-gray-300"),onClick:t,children:Object(k.jsx)("div",{className:"bg-white w-8 h-8 rounded-full shadow-md transform duration-300 ease-in-out ".concat(n?"translate-x-6":"")})})}var M=n(25),z=n(16),q=n.n(z),U=n(293),G=n(295);function J(){return(J=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/").concat(t),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function V(){return Y.apply(this,arguments)}function Y(){return(Y=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function K(){return(K=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/tournament/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/news/"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/nicknames/player/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/players/").concat(t),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/overview/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ae.apply(this,arguments)}function ae(){return(ae=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/players"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ce(){return se.apply(this,arguments)}function se(){return(se=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/preferences/"),{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/recent/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return le.apply(this,arguments)}function le(){return(le=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/records/"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ue(){return(ue=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/records/player/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/tournaments/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return be.apply(this,arguments)}function be(){return(be=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/tournaments/"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function pe(){return me.apply(this,arguments)}function me(){return(me=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/venues"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function he(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/new"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/players/new"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/preferences/"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(h.a)(m.a.mark((function e(t){var n,r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=Object(B.a)(t,["id"]),e.prev=1,e.next=4,fetch("".concat("https://pongleby.herokuapp.com","/api/v1/games/").concat(n),{method:"POST",body:JSON.stringify(r),headers:{"content-type":"application/json"},credentials:"include"});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var Ce=function(){return Object(r.useContext)(b)},ke=q.a.object().keys({avatar_link:q.a.string().trim().uri()});function Ne(){var e=Ce().user,t=Object(r.useState)({avatarLink:""}),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(d.b)(),o=Object(U.a)(["preferences"],ce,{enabled:!!e}),l=o.isLoading,u=o.data,j=o.error,b=Object(G.a)(ve,{onError:function(e){O(e)},onSuccess:function(){s.invalidateQueries("preferences")}}),p=Object(r.useState)(""),x=Object(i.a)(p,2),f=x[0],O=x[1],v=function(){var e=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g()&&(n={avatar_link:a.avatarLink},b.mutate(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(){var e=ke.validate({avatar_link:a.avatarLink});return void 0===e.error||(O(e.error.message),!1)}return Object(r.useEffect)((function(){u&&c(u[0])}),[u]),e?Object(k.jsxs)("form",{children:[l&&Object(k.jsx)("span",{children:"Loading..."}),j&&Object(k.jsxs)("span",{children:["Error ",JSON.stringify(j,null,2)]}),!l&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(H,{name:"avatarLink",label:"Link to avatar",value:null===a||void 0===a?void 0:a.avatarLink,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(M.a)({},n,r))}))},errorMsg:f}),Object(k.jsx)(bt,{text:"Save changes",handleClick:v,disabled:b.isLoading})]})]}):Object(k.jsx)("div",{children:"Please log in to save personal preferences"})}function Se(e){var t=e.details,n=e.pickCup;e.rerack;return(null===t||void 0===t?void 0:t.rim)?Object(k.jsxs)("g",{children:[Object(k.jsx)("circle",{cx:t.x,cy:t.y,r:2,name:t.name,className:"cursor-pointer","data-name":t.name,onClick:n}),Object(k.jsx)("text",{x:t.x,y:Number(t.y)+.5,textAnchor:"middle",className:"pointer-events-none fill-current text-red-500",style:{fontSize:"0.1rem"},children:t.rim.length})]}):Object(k.jsx)("circle",{cx:t.x,cy:t.y,r:2,name:t.name,className:"cursor-pointer","data-name":t.name,onClick:n})}function Fe(e){var t=e.side,n=e.cups,r=e.forwardRef,a=e.gameSize,c=void 0===a?6:a,s=e.mouseExit,i=e.pickCup,o=e.newMove,l=e.svgCoord,u=e.rerack,d=e.movingState,j=e.lastHover,b=e.selectedCup,p=function(e){for(var t=2*e,n=[],r=0;r<t;r++)n.push({x1:0,y1:r,x2:t,y2:r}),n.push({x1:r,y1:0,x2:r,y2:t});return n}(c);return 10===Number(c)?Object(k.jsx)("svg",{viewBox:"0 0 12 12","data-name":"".concat(t,"Svg")}):Object(k.jsxs)("svg",{viewBox:"0 0 12 12",height:"15em",width:"15em","data-name":"".concat(t,"Svg"),ref:r,onMouseMove:o,onMouseLeave:s,onClick:d?l:void 0,className:"border",children:[u&&p.map((function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return Object(k.jsx)("line",{x1:t,x2:r,y1:n,y2:a,className:"stroke-current text-gray-500",strokeWidth:.1},"".concat(t).concat(r).concat(n).concat(a))})),d&&t===(null===b||void 0===b?void 0:b.side)&&Object(k.jsx)($e,{x:j.x,y:j.y,size:4}),n.filter((function(e){return!e.hit})).map((function(e){return Object(k.jsx)(Se,{details:e,rerack:u,pickCup:i},e.name)}))]})}function Le(e){var t=e.side,n=e.cups,r=e.gameSize;return 10===Number(void 0===r?6:r)?Object(k.jsx)("svg",{viewBox:"0 0 12 12","data-name":"".concat(t,"Svg")}):Object(k.jsx)("div",{className:"grid justify-center pb-4",children:Object(k.jsx)("svg",{viewBox:"0 0 12 12",height:"15em",width:"15em","data-name":"".concat(t,"Svg"),className:"border",children:n.filter((function(e){return!e.hit})).map((function(e){return Object(k.jsx)(Se,{details:e,rerack:void 0,pickCup:void 0},e.name)}))})})}var Te=n(291),Ee=n(22),Re=n(294),Pe=n(14);function Ae(e,t){return[{side:t,name:"".concat(t,"x6-y2"),x:"6",y:"2",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x4-y6"),x:"4",y:"6",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x8-y6"),x:"8",y:"6",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x2-y10"),x:"2",y:"10",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x6-y10"),x:"6",y:"10",owner:"".concat(e),hit:null},{side:t,name:"".concat(t,"x10-y10"),x:"10",y:"10",owner:"".concat(e),hit:null}]}var _e=function(e,t){if("home"===e.selectedCup.side){var n=(new Date).toISOString(),r=e.homeCups.filter((function(t){return t.name!==e.selectedCup.name}));if("RIM"===t.type){var a,c,s;if(null!=(null===(a=e.selectedCup)||void 0===a?void 0:a.rim))c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[].concat(Object(Ee.a)(null===(s=e.selectedCup)||void 0===s?void 0:s.rim),[{timestamp:n,type:t.type}])});else c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[{timestamp:n,type:t.type}]});return[].concat(Object(Ee.a)(r),[c])}var i=Object(R.a)(Object(R.a)({},e.selectedCup),{},{hit:{timestamp:n,type:t.type}});return[].concat(Object(Ee.a)(r),[i])}return e.homeCups},Be=function(e,t){return"home"===e.selectedCup.side?e.homeCupsLeft-1:e.homeCupsLeft},He=function(e,t){if("FORFEIT_HOME"===t.type){var n=(new Date).toISOString(),r=e.homeCups.filter((function(e){return null!==e.hit})),a={hit:{timestamp:n,type:"FORFEIT"}},c=e.homeCups.filter((function(e){return null===e.hit})).map((function(e){return Object(R.a)(Object(R.a)({},e),a)}));return[].concat(Object(Ee.a)(r),Object(Ee.a)(c))}return e.homeCups},Ie=function(e,t){return"FORFEIT_HOME"===t.type?0:e.homeCupsLeft},We=function(e,t){if("away"===e.selectedCup.side){var n=(new Date).toISOString(),r=e.awayCups.filter((function(t){return t.name!==e.selectedCup.name}));if("RIM"===t.type){var a,c,s;if(null!=(null===(a=e.selectedCup)||void 0===a?void 0:a.rim))c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[].concat(Object(Ee.a)(null===(s=e.selectedCup)||void 0===s?void 0:s.rim),[{timestamp:n,type:t.type}])});else c=Object(R.a)(Object(R.a)({},e.selectedCup),{},{rim:[{timestamp:n,type:t.type}]});return[].concat(Object(Ee.a)(r),[c])}var i=Object(R.a)(Object(R.a)({},e.selectedCup),{},{hit:{timestamp:n,type:t.type}});return[].concat(Object(Ee.a)(r),[i])}return e.awayCups},De=function(e,t){return"away"===e.selectedCup.side?e.awayCupsLeft-1:e.awayCupsLeft},Me=function(e,t){if("FORFEIT_AWAY"===t.type){var n=(new Date).toISOString(),r=e.awayCups.filter((function(e){return null!==e.hit})),a={hit:{timestamp:n,type:"FORFEIT"}},c=e.awayCups.filter((function(e){return null===e.hit})).map((function(e){return Object(R.a)(Object(R.a)({},e),a)}));return[].concat(Object(Ee.a)(r),Object(Ee.a)(c))}return e.awayCups},ze=function(e,t){return"FORFEIT_AWAY"===t.type?0:e.awayCupsLeft},qe=function(e,t){return"home"===e.selectedCup.side?e.homeCupsLeft>1:e.awayCupsLeft>1},Ue=function(e,t){return 0!==e.homeCupsLeft&&0!==e.awayCupsLeft},Ge=function(e){return e.isHovering},Je=function(e,t){var n=Ke(t.position.x-1.5,0,8),r=Ke(t.position.y-1.5,0,8);return n!==e.lastHover.x||r!==e.lastHover.y},Ve=function(e){return e.homeCupRerackComplete},Ye=function(e){return e.awayCupRerackComplete};function Ke(e,t,n){return e>n?n:e<t?t:Math.floor(e)}function Qe(e){var t=e.gameDetails,n=Object(d.b)(),a=Object(G.a)(ye,{onError:function(e){},onSuccess:function(){n.invalidateQueries(["game",t.id])}}),c=function(e){return Object(Re.a)({id:"pong",initial:"playing",context:Object(R.a)({},e),states:{playing:{on:{PICKCUP:{actions:"selectCup",target:"modal"},FORFEIT_HOME:{actions:"commitSudoku",target:"finish"},FORFEIT_AWAY:{actions:"commitSudoku",target:"finish"},RERACK:{actions:["storeHomeCups","storeAwayCups"],target:"rerack"}}},modal:{on:{SINK:{actions:"updateCups",target:"playing"},CATCH:{actions:"updateCups",target:"playing",cond:"checkLastCup"},SPILL:{actions:"updateCups",target:"playing"},OTHER:{actions:"updateCups",target:"playing"},RIM:{actions:"rimCup",target:"playing"},CANCEL:{actions:"clearSelected",target:"playing"}}},rerack:{on:{CANCEL:{actions:["restoreCups","clearPreRack","clearSelected"],target:"playing"},SAVE:{actions:"saveCups",target:"playing"}},initial:"idle",states:{idle:{on:{PICKCUP:{target:"moving",actions:"selectCup"}}},moving:{on:{MOUSEMOVE:{actions:Object(Pe.b)({isHovering:!0,lastHover:function(e,t){return{x:t.position.x,y:t.position.y}}})},NEWPOS:{actions:Object(Pe.b)({cupsNewPos:function(e,t){return{x:t.position.x,y:t.position.y}},homeCups:function(e,t){if("home"===e.selectedCup.side){var n=e.selectedCup.name,r=e.homeCups.filter((function(e){return e.name!==n})),a=Object(R.a)(Object(R.a)({},e.selectedCup),{},{x:t.position.x+2,y:t.position.y+2});return[].concat(Object(Ee.a)(r),[a])}return e.homeCups},awayCups:function(e,t){if("away"===e.selectedCup.side){var n=e.selectedCup.name,r=e.awayCups.filter((function(e){return e.name!==n})),a=Object(R.a)(Object(R.a)({},e.selectedCup),{},{x:t.position.x+2,y:t.position.y+2});return[].concat(Object(Ee.a)(r),[a])}return e.awayCups},selectedCup:function(){return null},lastHover:function(){return{x:null,y:null}}}),target:"idle"},EXIT:{actions:Object(Pe.b)({isHovering:function(){return!1},lastHover:function(){return{x:null,y:null}}})}}}}},finish:{type:"final"}}},{actions:{selectCup:Object(Pe.b)({selectedCup:function(e,t){var n=t.details.target.getAttribute("data-name");return[].concat(Object(Ee.a)(e.homeCups),Object(Ee.a)(e.awayCups)).filter((function(e){return e.name===n}))[0]}}),updateCups:Object(Pe.b)({homeCups:_e,homeCupsLeft:Be,awayCups:We,awayCupsLeft:De,selectedCup:null}),rimCup:Object(Pe.b)({homeCups:_e,homeCupRimCount:function(e,t){return"home"===e.selectedCup.side?e.homeCupRimCount+1:e.homeCupRimCount},awayCups:We,awayCupRimCount:function(e,t){return"away"===e.selectedCup.side?e.awayCupRimCount+1:e.awayCupRimCount},selectedCup:null}),clearSelected:Object(Pe.b)({selectedCup:null}),commitSudoku:Object(Pe.b)({homeCups:He,homeCupsLeft:Ie,awayCups:Me,awayCupsLeft:ze,selectedCup:null}),storeHomeCups:Object(Pe.b)({preRackHomeCups:function(e,t){return e.homeCups}}),storeAwayCups:Object(Pe.b)({preRackAwayCups:function(e,t){return e.awayCups}}),restoreCups:Object(Pe.b)({homeCups:function(e){return e.preRackHomeCups},awayCups:function(e){return e.preRackAwayCups}}),clearPreRack:Object(Pe.b)({preRackHomeCups:function(){return null},preRackAwayCups:function(){return null}}),saveCups:Object(Pe.b)({preRackHomeCups:function(){return null},homeCupRerackComplete:function(e){return!!e.homeCupRerackComplete||e.homeCups!==e.preRackHomeCups},preRackAwayCups:function(){return null},awayCupRerackComplete:function(e){return!!e.awayCupRerackComplete||e.awayCups!==e.preRackAwayCups}})},guards:{checkWin:Ue,checkLastCup:qe,isHovering:Ge,hoverMoved:Je,homeReracked:Ve,awayReracked:Ye}})}(t.game_table),s=Object(Te.a)(c),o=Object(i.a)(s,2),l=o[0],u=o[1],j=1.5,b=Object(r.useRef)(null),p=function(e){if(null!==b.current){var t=b.current.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var n=t.matrixTransform(e.target.getScreenCTM().inverse()),r=Xe(n.x-j,0,8),a=Xe(n.y-j,0,8);return u({type:"NEWPOS",position:{x:r,y:a},details:e})}},x=function(e){if(null!==b.current){var t=b.current.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var n=t.matrixTransform(e.target.getScreenCTM().inverse()),r=Xe(n.x-j,0,8),a=Xe(n.y-j,0,8);return u({type:"MOUSEMOVE",position:{x:r,y:a},details:e})}},f=function(){var e=Object(h.a)(m.a.mark((function e(n){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=JSON.stringify(l.context),c={id:t.id,player1:t.player1,player2:t.player2,homeCupsLeft:l.context.homeCupsLeft,awayCupsLeft:l.context.awayCupsLeft,forfeit:l.context.forfeit,table:r},a.mutate(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"text-center",children:Object(k.jsx)(bt,{text:"Save",onClick:f})}),Object(k.jsxs)("div",{className:"grid md:grid-cols-2",children:[Object(k.jsxs)("div",{className:"grid grid-cols-2",children:[Object(k.jsx)("span",{children:"Name:"}),Object(k.jsx)("span",{children:t.home_name}),Object(k.jsx)("span",{children:"home cups left:"}),Object(k.jsx)("span",{children:l.context.homeCupsLeft}),Object(k.jsx)("span",{children:"hit rim:"}),Object(k.jsx)("span",{children:l.context.awayCupRimCount}),Object(k.jsx)("span",{children:"reracked:"}),Object(k.jsx)("span",{children:JSON.stringify(l.context.homeCupRerackComplete)}),Object(k.jsxs)("div",{className:"col-span-2 m-auto text-center pt-4",children:[Object(k.jsx)(Fe,{side:"home",cups:l.context.homeCups,gameSize:6,forwardRef:b,mouseExit:function(){return u("EXIT")},pickCup:function(e){return u({type:"PICKCUP",details:e})},newMove:x,svgCoord:p,rerack:l.matches("rerack"),movingState:l.matches("rerack.moving"),lastHover:l.context.lastHover,selectedCup:l.context.selectedCup}),l.matches("playing")&&Object(k.jsx)("div",{className:"p-4",children:Object(k.jsx)(bt,{text:"Home forfeit?",onClick:function(e,t){window.confirm("Are you sure HOME forfeits?")&&u("FORFEIT_HOME")}})})]})]}),Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"grid grid-cols-2",children:[Object(k.jsx)("span",{children:"Name:"}),Object(k.jsx)("span",{children:t.away_name}),Object(k.jsx)("span",{children:"home cups left:"}),Object(k.jsx)("span",{children:l.context.awayCupsLeft}),Object(k.jsx)("span",{children:"hit rim:"}),Object(k.jsx)("span",{children:l.context.homeCupRimCount}),Object(k.jsx)("span",{children:"reracked:"}),Object(k.jsx)("span",{children:JSON.stringify(l.context.awayCupRerackComplete)}),Object(k.jsxs)("div",{className:"col-span-2 m-auto text-center pt-4",children:[Object(k.jsx)(Fe,{side:"away",cups:l.context.awayCups,gameSize:6,forwardRef:b,mouseExit:function(){return u("EXIT")},pickCup:function(e){return u({type:"PICKCUP",details:e})},newMove:x,svgCoord:p,rerack:l.matches("rerack"),movingState:l.matches("rerack.moving"),lastHover:l.context.lastHover,selectedCup:l.context.selectedCup}),l.matches("playing")&&Object(k.jsx)("div",{className:"p-4",children:Object(k.jsx)(bt,{text:"Away forfeit?",onClick:function(e,t){window.confirm("Are you sure AWAY forfeits?")&&u("FORFEIT_AWAY")}})})]})]})})]}),Object(k.jsx)("div",{children:l.matches("rerack")?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bt,{text:"Save",onClick:function(){return u("SAVE")},fullWidth:!0}),Object(k.jsx)(bt,{text:"Cancel",onClick:function(){return u("CANCEL")},fullWidth:!0})]}):Object(k.jsx)(bt,{text:"Rerack",onClick:function(){return u("RERACK")},fullWidth:!0})}),Object(k.jsx)(rt,{isOpen:l.matches("modal"),dismiss:function(){return u("CANCEL")},title:"Cup details",children:Object(k.jsxs)("div",{className:"p-2 flex flex-col space-y-8",children:[Object(k.jsx)(bt,{name:"sink",text:"Sink",onClick:function(){return u("SINK")},color:jt.outlined}),Object(k.jsx)(bt,{name:"catch",text:"Catch",onClick:function(){return u("CATCH")},color:jt.outlined}),Object(k.jsx)(bt,{name:"spill",text:"Spill",onClick:function(){return u("SPILL")},color:jt.outlined}),Object(k.jsx)(bt,{name:"other",text:"Other",onClick:function(){return u("OTHER")},color:jt.outlined}),Object(k.jsx)(bt,{name:"rim",text:"Rim",onClick:function(){return u("RIM")},color:jt.outlined})]})})]})}function Xe(e,t,n){return e>n?n:e<t?t:Math.floor(e)}function Ze(e){var t=e.gameDetails;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:t.home_name}),Object(k.jsxs)("div",{children:["home cups left: ",t.home_cups_left]}),Object(k.jsxs)("div",{children:["hit rim: ",t.game_table.awayCupRimCount]}),Object(k.jsxs)("div",{children:["reracked:",JSON.stringify(t.game_table.homeCupRerackComplete)]}),Object(k.jsx)(Le,{side:"home",cups:t.game_table.homeCups,gameSize:6})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:t.away_name}),Object(k.jsxs)("div",{children:["away cups left: ",t.away_cups_left]}),Object(k.jsxs)("div",{children:["hit rim: ",t.game_table.homeCupRimCount]}),Object(k.jsxs)("div",{children:["reracked:",JSON.stringify(t.game_table.awayCupRerackComplete)]}),Object(k.jsx)(Le,{side:"away",cups:t.game_table.awayCups,gameSize:6})]})]})}function $e(e){var t=e.x,n=e.y,r=e.size,a=void 0===r?4:r;return null!=t||null!=n?Object(k.jsx)("rect",{x:t,y:n,height:a,width:a,className:"fill-current text-blue-500 opacity-25"}):null}function et(e){var t=e.title,n=e.children,a=null;return"string"===typeof t?a=Object(k.jsx)("h2",{className:"text-3xl font-semibold text-left text-primary-text py-2",children:t}):Object(r.isValidElement)(t)&&(a=t),Object(k.jsxs)("div",{className:"bg-sec-background rounded-lg p-6",children:[Object(k.jsx)("div",{children:a}),n]})}function tt(e){var t=e.maxW,n=void 0===t?"":t,r=e.maxH,a=void 0===r?"":r,c=e.children;return Object(k.jsx)("div",{className:"container mx-auto p-6 space-y-4 ".concat(n," ").concat(a),children:c})}function nt(){return Object(k.jsx)("div",{className:"border-b-2"})}function rt(e){var t=e.isOpen,n=void 0!==t&&t,a=e.dismiss,c=void 0===a?function(){}:a,s=e.title,i=e.children;return Object(r.useEffect)((function(){return n&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow=""}}),[n]),n?Object(k.jsx)("div",{className:"fixed z-20 inset-0",children:Object(k.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 text-center",children:[Object(k.jsx)("div",{className:"fixed inset-0 transition-opacity",children:Object(k.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(k.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full z-20 w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsx)("h3",{className:"text-xl p-4 font-bold",id:"modal-headline",children:s}),Object(k.jsx)("button",{onClick:c,className:"cursor-pointer px-2 text-lg","aria-label":"close-modal",children:"\xd7"})]}),Object(k.jsx)("div",{children:i})]})]})}):null}function at(e){var t=e.children,n=e.minimumRole,r=void 0===n?1:n,a=Object(B.a)(e,["children","minimumRole"]),c=Ce();return null===c.user?Object(k.jsx)("div",{children:"loading session"}):Object(k.jsx)(l.b,Object(R.a)(Object(R.a)({},a),{},{render:function(e){var n,a=e.location;return c.user?(n=r,c.user.role_level>=Number(n)?t:Object(k.jsx)(yn,{})):Object(k.jsx)(l.a,{to:{pathname:"/signin",state:{from:a}}})}}))}function ct(e){var t=e.children,n=(e.updatePageTitle,Object(B.a)(e,["children","updatePageTitle"])),r=Ce().user;return Object(k.jsx)(l.b,Object(R.a)(Object(R.a)({},n),{},{render:function(){return r?Object(k.jsx)(l.a,{to:"/"}):t}}))}function st(e){var t=e.id,n=Object(U.a)(["gamesByTournamentId",t],(function(){return function(e){return K.apply(this,arguments)}(t)})),r=n.data,a=n.isLoading,c=Object(U.a)(["tournamentsById",t],(function(){return function(e){return de.apply(this,arguments)}(t)})),s=c.data,i=c.isLoading;return a||i?Object(k.jsx)("div",{children:"Loading..."}):Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["This is Tournament: ",t]}),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:["details:",Object(k.jsx)("pre",{children:JSON.stringify(s,null,2)})]}),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:"text-lg",children:"Games"}),Object(k.jsx)(gt,{games:r})]})]})]})}var it=n.p+"static/media/evt-placeholder.e1e8ba08.jpg";function ot(){var e=Object(U.a)("tournaments",je),t=e.isLoading,n=(e.error,e.data);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{className:"text-right italic bg-sec-background pr-4",children:"Upcoming"}),t&&Object(k.jsx)("div",{children:"loading..."}),!t&&n.filter((function(e){return new Date(e.date)>new Date})).map((function(e){return Object(k.jsx)(lt,{id:e.id,title:e.title,date:e.date},"".concat(e.id))}))]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{className:"text-right italic bg-sec-background pr-4",children:"Previous"}),t&&Object(k.jsx)("div",{children:"loading..."}),!t&&n.filter((function(e){return new Date(e.date)<new Date})).map((function(e){return Object(k.jsx)(lt,{id:e.id,title:e.title,date:e.date},"".concat(e.id))}))]})]})}function lt(e){e.image;var t=e.id,n=e.title,r=e.date,a=new Date(r).toLocaleDateString("en-GB");return Object(k.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[Object(k.jsx)("img",{src:it,className:"object-contain h-24 w-24 col-span-2",alt:"Event preview"}),Object(k.jsxs)("div",{className:"p-2 col-span-4 flex flex-col justify-between",children:[Object(k.jsx)(o.b,{to:"/tournaments/".concat(t),className:"font-semibold text-link-text hover:underline",children:n}),Object(k.jsx)("span",{className:"text-right font-bold",children:a})]})]})}var ut="square",dt="regular",jt={outlined:"outlined",primary:"primary",secondary:"secondary"};function bt(e){var t=e.variant,n=void 0===t?"regular":t,r=e.color,a=void 0===r?"primary":r,c=e.fullWidth,s=void 0!==c&&c,i=e.text,o=e.handleClick,l=void 0===o?function(){}:o,u=(e.loading,e.to),d=e.disabled,j=void 0!==d&&d,b=Object(B.a)(e,["variant","color","fullWidth","text","handleClick","loading","to","disabled"]),p={bg:"bg-primary",text:"text-secondary-text",borderColor:"border-primary-light",hoverBg:"hover:bg-primary-light",hoverBorder:"hover:border-primary-active",hoverText:"hover:text-white",activeBg:"active:bg-primary-active",activeText:"active:text-white"};switch(a){case jt.primary:p=Object(R.a)(Object(R.a)({},p),{},{bg:"bg-primary",text:"text-secondary-text",borderColor:"border-primary-light",hoverBg:"hover:bg-primary-light",hoverBorder:"hover:border-primary-active",hoverText:"hover:text-white",activeBg:"active:bg-primary-active",activeText:"active:text-white"});break;case jt.outlined:p=Object(R.a)(Object(R.a)({},p),{},{bg:"bg-transparent",text:"text-primary-text"});break;case jt.secondary:p=Object(R.a)(Object(R.a)({},p),{},{bg:"bg-secondary"})}var m="\n  h-28\n  w-28\n  ".concat(p.bg,"\n  ").concat(p.text,"\n  font-semibold\n  py-2\n  px-4 \n  border\n  ").concat(p.borderColor,"\n  border-b-4 \n  rounded\n  select-none\n  origin-bottom\n  transform      \n  duration-75\n  ease-in-out\n  active:scale-y-95\n  ").concat(p.hoverBg,"\n  ").concat(p.hoverBorder,"\n  ").concat(p.hoverText,"\n  ").concat(p.activeBg,"\n  ").concat(p.activeText,"\n  active:border-b\n  focus:outline-none\n  disabled:cursor-not-allowed\n  disabled:bg-primary-active\n  disabled:border-primary-active\n  disabled:text-white\n  disabled:scale-y-95\n  "),h="\n  h-12\n  font-semibold\n  py-2\n  px-4 \n  border\n  border-primary\n  rounded\n  border-b-4\n  active:border-b\n  focus:outline-none\n  w-full\n  ".concat(!s&&"md:w-auto","\n  transform \n  duration-75\n  ease-in-out\n  active:scale-y-95\n  origin-bottom\n  select-none\n  ").concat(p.bg,"\n  ").concat(p.text,"\n  ").concat(p.borderColor,"\n  ").concat(p.hoverBg,"\n  ").concat(p.hoverBorder,"\n  ").concat(p.hoverText,"\n  ").concat(p.activeBg,"\n  ").concat(p.activeText,"\n  disabled:cursor-not-allowed\n  disabled:bg-primary-active\n  disabled:border-primary-active\n  disabled:text-white\n  disabled:scale-y-95\n  ");return u?Object(k.jsx)(pt,{to:u,classes:n===ut?m:h,square:n===ut,text:i}):n===ut?Object(k.jsx)("button",Object(R.a)(Object(R.a)({className:m,onClick:l,disabled:j},b),{},{children:Object(k.jsx)("span",{className:"items-center text-center pointer-events-none",children:i})})):Object(k.jsx)("button",Object(R.a)(Object(R.a)({className:h,onClick:l,disabled:j},b),{},{children:i}))}function pt(e){var t=e.to,n=e.classes,r=e.text;return e.square?Object(k.jsx)(o.b,{className:"".concat(n," inline-block"),to:t,children:Object(k.jsx)("span",{className:"items-center text-center",children:r})}):Object(k.jsx)(o.b,{className:"".concat(n," inline-block"),to:t,children:r})}function mt(){return"carling"===Object(r.useContext)(S).theme?Object(k.jsx)("div",{className:"h-7 w-24 relative bg-secondary self-center transform -rotate-12",style:{clipPath:"polygon(5% 0%, 0% 100%, 83.5% 100%, 95% 53%, 100% 0%)"},children:Object(k.jsx)("div",{className:"absolute right-0 transform rotate-90",style:{top:"15px",borderWidth:"0 16px 16px 0",borderColor:"var(--color-primary) var(--sec-background) var(--color-primary) var(--sec-background)",clipPath:"polygon(0% 0%, 0% 100%, 100% 100%)"}})}):null}function ht(){return Object(k.jsxs)("header",{className:"flex items-center justify-between h-20 py-3 shadow",children:[Object(k.jsx)(ft,{}),Object(k.jsx)(Ft,{}),Object(k.jsx)(Vt,{}),Object(k.jsx)(kt,{})]})}var xt=n.p+"static/media/beer-pong.1d7e56cf.svg";function ft(){return Object(k.jsx)("div",{className:"px-4",children:Object(k.jsx)(o.b,{to:"/",children:Object(k.jsx)("img",{src:xt,alt:"logo with link home",className:"w-16"})})})}function Ot(e){var t=e.details,n=function(e){return 0===e};return Object(k.jsxs)("div",{className:"shadow px-4 pb-4 space-y-2",children:[Object(k.jsxs)("div",{className:"flex justify-between text-xs font-semibold",children:[Object(k.jsx)("div",{children:t.venue}),Object(k.jsxs)("div",{children:[t.tournament_id?t.stage:"friendly"," "]})]}),Object(k.jsxs)("div",{className:"text-center",children:[Object(k.jsx)("div",{className:"font-bold",children:t.event}),Object(k.jsx)("div",{className:"text-xs",children:t.date&&vt(t.date)})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 text-center",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(o.b,{className:"text-link-text underline relative ".concat(n(t.away_cups_left)&&"psudo-winner"),to:"/player/".concat(t.home_id),children:t.home_name}),Object(k.jsx)("div",{children:t.home_cups_left})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)(o.b,{className:"text-link-text underline relative ".concat(n(t.home_cups_left)&&"psudo-winner"),to:"/player/".concat(t.away_id),children:t.away_name}),Object(k.jsx)("div",{children:t.away_cups_left})]})]}),Object(k.jsx)("div",{className:"text-right",children:Object(k.jsx)(o.b,{className:"text-link-text underline",to:"/games/".concat(t.id),children:"details..."})})]})}var vt=function(e){return e.split("T")[0].split("-").reverse().join("-")};function gt(e){var t=e.games;return Object(k.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:t.map((function(e){return Object(k.jsx)(Ot,{details:e},e.id)}))})}function yt(){return Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function wt(){return Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}function Ct(){return Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(k.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}function kt(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){return a(!1)},s=Object(l.g)(),u=Ce();return Object(r.useEffect)((function(){return n&&(document.body.style.overflow="hidden"),function(){return document.body.style.overflow=""}}),[n]),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{"aria-label":"site-menu",className:"\n      h-16\n      w-16\n      rounded-full\n      border\n      focus:outline-none\n      mr-4\n      z-20\n      relative\n      grid\n      items-center\n      justify-center\n      transition\n      duration-500\n      ease-in-out\n      ".concat(u.user?"bg-positive":"bg-negative","       \n      "),onClick:function(){return a(!n)},children:Object(k.jsx)(yt,{})}),n&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{className:"bg-gray-500 opacity-75 cursor-default fixed top-0 left-0 right-0 bottom-0 h-full w-full z-10 outline-none",tabIndex:"-1",onClick:c}),Object(k.jsx)("div",{className:"\n              absolute\n              right-0\n              w-72\n              my-1\n              z-20\n              border\n              bg-primary-background",children:Object(k.jsxs)("ul",{children:[Object(k.jsx)(Nt,{children:Object(k.jsx)(o.c,{to:"/settings",className:" inline-block p-2 w-full",children:"Preferences"})}),Object(k.jsx)(St,{}),u.user?Object(k.jsx)(Nt,{children:Object(k.jsx)("button",{className:"font-semibold w-full p-2 text-left",onClick:function(){u.signOut(),c(),s.go(0)},children:"Sign out"})}):Object(k.jsx)(Nt,{children:Object(k.jsx)(o.c,{className:"w-full inline-block p-2",to:"/signin",children:"Sign in"})})]})})]})]})}function Nt(e){var t=e.children;return Object(k.jsx)("li",{className:"hover:bg-sec-background cursor-pointer hover:text-primary font-semibold",children:t})}function St(){return Object(k.jsx)("li",{className:"border-b-4"})}function Ft(){return function(){var e=Object(r.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width>640?Object(k.jsx)("div",{className:"w-96",children:Object(k.jsx)("nav",{className:"text-center font-mono",children:Object(k.jsxs)("ul",{className:"flex flex-row",children:[Object(k.jsx)("li",{className:"w-full",children:Object(k.jsx)(Lt,{to:"/",exact:!0,text:"Home"})}),Object(k.jsx)("li",{className:"w-full",children:Object(k.jsx)(Lt,{to:"/games",text:"Games"})}),Object(k.jsx)("li",{className:"w-full",children:Object(k.jsx)(Lt,{to:"/versus",text:"Versus"})})]})})}):Object(k.jsxs)("div",{className:"fixed bottom-0 w-full bg-primary-background z-10",children:[Object(k.jsx)(nt,{}),Object(k.jsx)("nav",{className:"text-center py-4 font-mono flex justify-center items-center",children:Object(k.jsxs)("ul",{className:"flex flex-row justify-between w-full",children:[Object(k.jsx)("li",{className:"w-full",children:Object(k.jsx)(Lt,{to:"/",exact:!0,text:"Home"})}),Object(k.jsx)("li",{className:"w-full",children:Object(k.jsx)(Lt,{to:"/games",text:"Games"})}),Object(k.jsx)("li",{className:"w-full",children:Object(k.jsx)(Lt,{to:"/versus",text:"Versus"})})]})})]})}var Lt=function(e){var t=e.to,n=e.text,r=e.exact,a=void 0!==r&&r;return Object(k.jsx)(o.c,{to:t,exact:a,activeClassName:"text-primary border-b-4 border-solid border-primary",className:"p-2 font-bold text-xl uppercase inline-block w-full hover:text-primary border-b-4 border-opacity-0",children:n})},Tt=n(125),Et=n.n(Tt),Rt=n(126),Pt=n.n(Rt);function At(){return Object(k.jsx)("div",{className:""})}var _t={small:{size:"10rem",class:"max-h-40",value:160},medium:{size:"16rem",class:"max-h-64",value:256},large:{size:"20rem",class:"max-h-80",value:320},xlarge:{size:"24rem",class:"max-h-96",value:384}};function Bt(){var e=Object(U.a)("news",Q),t=e.isLoading,n=e.error,r=e.data;return n?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{children:"Error loading news..."})}):t?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{children:"Loading news..."})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(At,{}),r.map((function(e){return Object(k.jsx)(Ht,{content:e.content,size:_t.large},e.id)}))]})}function Ht(e){var t=e.size,n=void 0===t?_t.large:t,a=e.content,c=Object(r.useRef)(null),s=Object(r.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(r.useState)(!1),j=Object(i.a)(d,2),b=j[0],p=j[1];return Object(r.useEffect)((function(){null!==c.current&&(c.current.getBoundingClientRect().height>=n.value&&u(!0))}),[n.value]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("section",{ref:c,className:"prose lg:prose-xl \n        overflow-hidden\n        transition-all\n        duration-700\n        ".concat(n.class,"\n        ").concat(b&&"max-h-full","\n        ").concat(l&&!b&&"mask-bottom-transparent","\n        ").concat(!l&&"border-b","\n        "),children:Object(k.jsx)(Et.a,{remarkPlugins:[Pt.a],children:a})}),l?Object(k.jsx)("div",{className:"text-center text-link-text underline border-b mb-4 pb-2",onClick:function(){return p(!b)},children:b?"Read less \ud83d\udd3c":"Read more \ud83d\udd3d"}):null]})}function It(e){var t=e.playerId,n=Object(U.a)(["player",t],(function(){return $(t)})),r=Object(U.a)(["overview",t],(function(){return te(t)})),a=Object(U.a)(["records",t],(function(){return function(e){return ue.apply(this,arguments)}(t)})),c=Object(U.a)(["nicks",t],(function(){return function(e){return Z.apply(this,arguments)}(t)})),s=Object(U.a)(["recentGames",t],(function(){return function(e){return ie.apply(this,arguments)}(t)}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"grid grid-cols-6 grid-rows-2 gap-2",children:[Object(k.jsx)("h2",{className:"text-xl font-bold bg-primary text-secondary-text px-4 py-2 col-span-2",children:!n.isLoading&&(null===n||void 0===n?void 0:n.data[0].name)}),Object(k.jsx)(o.b,{to:"/versus/".concat(t),className:"px-4 py-2 text-link-text underline",children:"Compare!"}),!c.isLoading&&!n.isLoading&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"row-start-2 col-start-2 px-4",children:"nicks"}),Object(k.jsx)("ul",{className:"row-start-2 col-start-3",children:null===c||void 0===c?void 0:c.data.filter((function(e){return e.nick!==n.data[0].name})).map((function(e){return Object(k.jsx)("li",{children:e.nick},"".concat(e.nick).concat(e.id))}))})]})]}),Object(k.jsx)("h2",{className:"text-lg font-bold",children:"Overview"}),!r.isLoading&&Object(k.jsx)(Wt,{details:r.data}),!s.isLoading&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:"text-lg font-bold",children:"Recent games"}),Object(k.jsx)(gt,{games:s.data})]}),!a.isLoading&&(null===a||void 0===a?void 0:a.data.length)>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{className:"text-lg font-bold",children:"Accolades"}),null===a||void 0===a?void 0:a.data.map((function(e){return Object(k.jsxs)("div",{children:[e.label,"\ud83e\udd47"]},e.id)}))]})]})}function Wt(e){var t,n=e.details;return t=n.length>0,Object(k.jsxs)("div",{className:"flex flex-row items-center ",children:[Object(k.jsx)(Dt,{labels:["Name","Games played","Forfeits","Total Wins","Win %","Reached quarters","Reached semis","Reached final","Tournament Wins"],show:t}),n.map((function(e,t){var r=n.length-1;return null==e?null:Object(k.jsx)(Mt,{playerData:e,last:t===r},"".concat(null===e||void 0===e?void 0:e.name).concat(t))}))]})}function Dt(e){var t=e.labels;return e.show?Object(k.jsx)("div",{className:"w-1/2 border-secondary table-start",children:t.map((function(e){return Object(k.jsx)(zt,{header:!0,children:e},e)}))}):Object(k.jsx)("div",{className:"w-1/2 border border-secondary"})}function Mt(e){var t=e.last,n=void 0===t||t,r=e.playerData;return Object(k.jsxs)("div",{className:"text-right w-1/4 border-secondary ".concat(n?"table-end":""),children:[Object(k.jsx)(zt,{children:r.name?r.name:""}),Object(k.jsx)(zt,{children:r.games?r.games:"0"}),Object(k.jsx)(zt,{children:r.forfeits?r.forfeits:"0"}),Object(k.jsx)(zt,{children:r.homeWins&&r.awayWins?Number(r.homeWins)+Number(r.awayWins):"0"}),Object(k.jsx)(zt,{children:r.homeWins&&r.awayWins&&r.games?((Number(r.homeWins)+Number(r.awayWins))/Number(r.games)*100).toFixed(2)+"%":"0"}),Object(k.jsx)(zt,{children:r.quarterFinals?r.quarterFinals:"0"}),Object(k.jsx)(zt,{children:r.semiFinals?r.semiFinals:"0"}),Object(k.jsx)(zt,{children:r.finals?r.finals:"0"}),Object(k.jsx)(zt,{children:r.finalsWon?r.finalsWon:"0"})]})}function zt(e){var t=e.header,n=void 0!==t&&t,r=e.children;return Object(k.jsx)("div",{className:"".concat(n?"header":""," border-secondary table-like-border py-2 px-4 h-8 overflow-hidden"),children:r})}function qt(e){var t,n=e.name,a=e.playerNames,c=void 0===a?[]:a,s=e.selected,o=e.selectPlayer,l=void 0===o?function(){}:o,u=e.variant,d=void 0===u?"square":u,j=e.color,b=void 0===j?"primary":j,p=e.fullWidth,m=void 0!==p&&p,h=e.disabled,x=void 0!==h&&h,f=Object(r.useState)(!1),O=Object(i.a)(f,2),v=O[0],g=O[1],y=Object(r.useState)(""),w=Object(i.a)(y,2),C=w[0],N=w[1],S=function(e){g(!v)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bt,{variant:d,color:b,handleClick:S,text:""!==s?c[s-1].name:"Click to pick player",fullWidth:m,disabled:x}),Object(k.jsx)(rt,{isOpen:v,dismiss:S,title:"Add Player",children:Object(k.jsxs)("div",{className:"px-2",children:[Object(k.jsx)("div",{className:"text-center",children:Object(k.jsx)("form",{role:"search",children:Object(k.jsx)(H,{placeholder:"Filter names",onChange:function(e){return N(e.target.value)},value:C})})}),Object(k.jsx)("div",{className:"max-h-75vh flex",children:Object(k.jsx)("ul",{role:"listbox",className:"overflow-y-auto w-full",children:(t=c,t.filter((function(e){return e.name.toLowerCase().indexOf(C.toLowerCase())>-1||e.id.toString().indexOf(C)>-1}))).map((function(e){return Object(k.jsxs)("li",{value:e.id,role:"option",className:"grid grid-cols-3 hover:text-sec-background justify-items-center px-6 py-4 border-b cursor-pointer hover:bg-primary",onClick:function(){l(n,"".concat(e.id)),S()},"aria-selected":!1,tabIndex:0,children:[Number(s)===Number(e.id)&&Object(k.jsx)("span",{className:"text-positive",children:Object(k.jsx)(Ct,{})}),Object(k.jsx)("span",{className:"col-start-2 font-semibold",children:e.name}),Object(k.jsx)(wt,{})]},e.id)}))})})]})})]})}var Ut=n(290);function Gt(){return Object(Ut.a)()?Object(k.jsx)("svg",{className:"w-6 h-6 animate-spin absolute text-positive right-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):null}var Jt=[{matches:["tournaments","events","fixtures"],link:"/tournaments",text:"Tournaments!",description:""},{matches:["players","fixtures"],link:"/players",text:"Players!",description:""},{matches:["tournaments","events","fixtures","games","new","new game"],link:"/games",text:"Games!",description:""},{matches:["stats","compare","versus","vs","comparison"],link:"/versus",text:"Versus!",description:""},{matches:["stats","records","most","wins","gold","silver","bronze","losses","least"],link:"/records",text:"Records!",description:""},{matches:["settings","preferences","theme","colours","colors"],link:"/settings",text:"Settings!",description:""},{matches:["test"],link:"/test",text:"Test!",description:""}];function Vt(){var e,t=Object(r.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"flex flex-col relative max-w-md flex-grow mx-4",children:[Object(k.jsx)(H,{placeholder:"Search site...",type:"search",value:l,onChange:function(e){return u(e.target.value)},onFocus:function(e){if(!a)return c(!0)},onBlur:function(e){e.relatedTarget||c(!1)}}),a&&l.length>0&&Object(k.jsx)(Yt,{items:(e=Jt,e.filter((function(e){var t=l.trim().toLowerCase();return e.matches.join(" ").indexOf(t)>-1})))})]})})}function Yt(e){var t=e.items,n=Object(r.useState)(null),a=Object(i.a)(n,2),c=a[0],s=a[1],o=function(e){var n=t.map((function(e){return e.link})).indexOf(e.target.getAttribute("data-path"));s(n)};return Object(r.useEffect)((function(){var e=function(e){"ArrowDown"===e.key&&(e.preventDefault(),s(null===c||c>=t.length-1?0:c+1)),"ArrowUp"===e.key&&(e.preventDefault(),s(null===c?0:0===c?t.length-1:c-1))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[c,t]),Object(k.jsxs)("div",{className:"absolute shadow list-none bg-primary-background w-full top-full px-2 pt-2 z-10",children:[Object(k.jsx)("h3",{className:"font-semibold text-center text-sm border-b pb-2",children:"Search for pages on this site"}),Object(k.jsx)("ul",{className:"list-none",children:(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e,t){return Object(k.jsx)(Kt,{item:e,handleHover:o,active:c===t},"".concat(e.matches.join("-")).concat(t))}))})]})}function Kt(e){var t=e.item,n=e.active,a=e.handleHover,c=Object(r.useRef)(null);return Object(k.jsx)("li",{children:Object(k.jsx)(o.b,{onMouseOver:a,className:"inline-block w-full h-full p-4 ".concat(n&&"bg-sec-background"),to:"".concat(t.link),"data-path":t.link,ref:c,children:t.text})})}function Qt(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(k.jsxs)("div",{className:"bg-white w-1/2 p-2 mx-4 text-center bottom-0 float-right sticky rounded-t-lg",children:[Object(k.jsx)("button",{onClick:function(){return a(!n)},className:"w-full h-full",children:n?"Hide swatch":"Show swatch"}),n?Object(k.jsx)("div",{className:"uppercase",children:Object(k.jsxs)("div",{className:"border-2 border-black overflow-x-hidden",children:[Object(k.jsx)("div",{className:"bg-primary p-2 truncate",children:"primary"}),Object(k.jsx)("div",{className:"bg-primary-light p-2 truncate",children:"primaryLight"}),Object(k.jsx)("div",{className:"bg-primary-active p-2 truncate",children:"primaryActive"}),Object(k.jsx)("div",{className:"bg-secondary p-2 truncate",children:"secondary"}),Object(k.jsx)("div",{className:"bg-positive p-2 truncate",children:"positive"}),Object(k.jsx)("div",{className:"bg-negative p-2 truncate",children:"negative"}),Object(k.jsx)("div",{className:"bg-primary-text p-2 truncate",children:"primaryText"}),Object(k.jsx)("div",{className:"bg-secondary-text-text p-2 truncate",children:"secondaryText"}),Object(k.jsx)("div",{className:"bg-link-text p-2 truncate",children:"linkText"}),Object(k.jsx)("div",{className:"bg-primary-background p-2 truncate",children:"primaryBackground"}),Object(k.jsx)("div",{className:"bg-sec-background p-2 truncate",children:"secondaryBackground"})]})}):null]})}var Xt=["base","dark","casual","vb","mixedFruit","carling"];function Zt(){return Object(k.jsx)(S.Consumer,{children:function(e){var t=e.theme,n=e.switchTheme;return Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsxs)("div",{className:"w-full md:w-1/3 px-3 mb-6 md:mb-6",children:[Object(k.jsx)("label",{htmlFor:"theme-select",className:"text-primary-text font-bold",children:"Theme switcher"}),Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)("select",{id:"theme-select",className:"w-full block appearance-none bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:n,value:t,children:Xt.map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))}),Object(k.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Object(k.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(k.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})})}})}function $t(e){var t=e.updatePageTitle;return Object(r.useEffect)((function(){t("Error 404 page was not found")})),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsx)("div",{className:"h-full",children:"E404 page not found"})]})}function en(e){var t,n,a=e.updatePageTitle,c=Object(l.i)().gameId,s=Object(U.a)(["game",c],(function(){return function(e){return J.apply(this,arguments)}(c)})),i=s.isLoading,o=s.error,u=s.data;return Object(r.useEffect)((function(){a("Game: ".concat(c))}),[a,c]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{children:[o&&Object(k.jsxs)("div",{children:["Error ",c]}),i&&Object(k.jsxs)("div",{children:["Loading ",c]}),!i&&Object(k.jsxs)(et,{title:Object(k.jsx)(tn,{home:u[0].home_name,away:u[0].away_name,number:u[0].id}),children:[u[0].locked&&Object(k.jsx)("div",{className:"text-right",title:"This game is locked",children:"locked \ud83d\udd12"}),Object(k.jsxs)("div",{className:"text-center",children:[u[0].tournament&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:u[0].event}),Object(k.jsx)("div",{children:u[0].stage})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["Venue: ",u[0].venue]}),Object(k.jsx)("div",{children:"Starting cups: 6"}),u[0].forfeit?Object(k.jsx)("div",{children:"Ended by forfeit"}):null,u[0].notes&&Object(k.jsxs)("div",{children:["Notes: ",u[0].notes]})]})]}),(null===(t=u[0])||void 0===t?void 0:t.game_table)&&u[0].locked&&Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"font-bold text-center",children:"Home Results"}),Object(k.jsxs)("div",{children:["Name: ",u[0].home_name]}),Object(k.jsxs)("div",{children:["Cups left: ",u[0].home_cups_left]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"font-bold text-center",children:"Away Results"}),Object(k.jsxs)("div",{children:["Name: ",u[0].away_name]}),Object(k.jsxs)("div",{children:["Cups left: ",u[0].away_cups_left]})]})]}),(null===(n=u[0])||void 0===n?void 0:n.game_table)?u[0].locked?Object(k.jsx)(Ze,{gameDetails:u[0]}):Object(k.jsx)(Qe,{gameDetails:u[0],access:""}):Object(k.jsx)("div",{className:"text-center text-sm font-bold pt-4",children:"Table state was not entered \ud83d\ude25"})]})]}),Object(k.jsx)("div",{className:"spacer py-8"})]})}function tn(e){var t=e.home,n=e.away,r=e.number;return Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsxs)("div",{className:"text-3xl font-semibold text-left text-primary-text py-2",children:[t," vs ",n]}),Object(k.jsxs)("div",{children:["#",r]})]})}function nn(e){var t=e.updatePageTitle,n=Object(U.a)("games",V),a=n.isLoading,c=n.error,s=n.data;return Object(r.useEffect)((function(){t("Game")}),[t]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{maxW:"max-w-screen-md",children:[Object(k.jsx)("div",{className:"text-center",children:Object(k.jsx)(bt,{text:"New Game",to:"/games/new"})}),a&&Object(k.jsx)("div",{children:"Loading games..."}),!a&&Object(k.jsx)(gt,{games:s}),c&&Object(k.jsx)("div",{children:"Error trying to fetch games"})]}),Object(k.jsx)("div",{className:"spacer py-8"})]})}function rn(e){var t=e.updatePageTitle;return Object(r.useEffect)((function(){t("Home")}),[t]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsx)(tt,{children:Object(k.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[Object(k.jsx)("section",{className:"col-span-6 md:col-span-4 space-y-6",children:Object(k.jsx)(Bt,{})}),Object(k.jsxs)("aside",{className:"col-span-6 md:col-span-2 md:border-l-2 p-4",children:[Object(k.jsx)("h2",{children:Object(k.jsx)(o.b,{to:"/tournaments",className:"text-link-text hover:underline text-3xl font-semibold",children:"Events"})}),Object(k.jsx)(ot,{})]})]})})]})}var an={player1:"",player2:"",venue:"",gameSize:6,homeCupsLeft:6,awayCupsLeft:6,homeForfeit:!1,awayForfeit:!1};function cn(e,t){switch(t.type){case"inputField":return Object(R.a)(Object(R.a)({},e),{},Object(M.a)({},t.fieldName,t.value));case"inputNumberField":return Object(R.a)(Object(R.a)({},e),{},Object(M.a)({},t.fieldName,Number(t.value)));case"inputCheckbox":return Object(R.a)(Object(R.a)({},e),{},Object(M.a)({},t.fieldName,t.checked));case"playerButton":case"selectField":return Object(R.a)(Object(R.a)({},e),{},Object(M.a)({},t.fieldName,Number(t.value)));case"initialise":default:return Object(R.a)({},e)}}function sn(e){var t,n,a=e.updatePageTitle,c=Object(l.g)(),s=Object(d.b)(),o=Object(G.a)(he,{onError:function(e){C("Could not create game, please try again later.")},onSuccess:function(e){s.invalidateQueries("games"),c.push("/games/".concat(e.id))}}).mutate,u=Object(r.useReducer)(cn,an),j=Object(i.a)(u,2),b=j[0],p=j[1],x=Object(r.useState)(!1),f=Object(i.a)(x,2),O=f[0],v=f[1],g=Object(r.useState)(""),y=Object(i.a)(g,2),w=y[0],C=y[1],N=Object(U.a)("players",re),S=Object(U.a)("venues",pe),F=function(e,t){p({type:"playerButton",fieldName:e,value:t}),w.length>0&&C("")},L=function(e){p({type:"inputNumberField",fieldName:e.target.name,value:e.target.value}),w.length>0&&C("")},T=function(e){p({type:"inputCheckbox",fieldName:e.target.name,checked:e.target.checked}),e.target.name.includes("home")?p({type:"inputNumberField",fieldName:"homeCupsLeft",value:0}):e.target.name.includes("away")&&p({type:"inputNumberField",fieldName:"awayCupsLeft",value:0})},E=function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),P()&&(n={homeCups:Ae(b.player1,"home"),preRackHomeCups:null,awayCups:Ae(b.player2,"away"),preRackAwayCups:null,firstThrow:null,homeCupsLeft:6,homeCupRerackComplete:!1,homeCupRimCount:0,awayCupsLeft:6,awayCupRerackComplete:!1,awayCupRimCount:0,forfeit:!1,winner:null,turns:0,selectedCup:null,isHovering:!1,lastHover:{x:null,y:null},cupNewPos:{x:null,y:null},stack:[]},r=Object(R.a)(Object(R.a)({},b),{},{created:new Date,table:O?null:n,locked:O}),console.log(r),o(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(){if(b.player1!==b.player2){var e=A.validate({player1:b.player1,player2:b.player2,venue:b.venue,gameSize:b.gameSize,homeCupsLeft:b.homeCupsLeft,awayCupsLeft:b.awayCupsLeft,forfeit:b.homeForfeit||b.awayForfeit});return void 0===e.error||(C(e.error.message),!1)}C("Player 1 and Player 2 must be different!")}var A=q.a.object().keys({player1:q.a.number().required().messages({"number.base":"Player 1 must be selected"}),player2:q.a.number().required().messages({"number.base":"Player 2 must be selected"}),venue:q.a.number().required().messages({"number.base":"venue is required"}),gameSize:q.a.number().integer().less(7).greater(5).required().messages({"number.less":"Game size must be less than ".concat(7),"number.greater":"Game size must be more than ".concat(5)}),homeCupsLeft:q.a.number().integer().less(7).greater(-1).required().messages({"number.less":"Maximum number of cups must be less than ".concat(7),"number.greater":"Minimum number of cups is 0!"}),awayCupsLeft:q.a.number().integer().less(7).greater(-1).required().messages({"number.less":"Maximum number of cups must be less than ".concat(7),"number.greater":"Minimum number of cups is 0!"}),forfeit:q.a.boolean().required()});return Object(r.useEffect)((function(){a("Friendlies")}),[a]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{maxW:"max-w-xl",children:[N.isLoading&&Object(k.jsx)("div",{children:"Loading players..."}),!N.isLoading&&Object(k.jsxs)(et,{title:"New friendly",children:[Object(k.jsx)("label",{htmlFor:"player1",children:"Home:"}),Object(k.jsx)(qt,{name:"player1",playerNames:N.data,selected:b.player1,selectPlayer:F,variant:dt,color:jt.outlined,fullWidth:!0}),Object(k.jsx)("label",{htmlFor:"player2",children:"Away:"}),Object(k.jsx)(qt,{name:"player2",playerNames:N.data,selected:b.player2,selectPlayer:F,variant:dt,color:jt.outlined,fullWidth:!0}),Object(k.jsxs)("form",{onSubmit:E,className:"space-y-2",children:[Object(k.jsx)("input",{type:"hidden",value:b.player1}),Object(k.jsx)("input",{type:"hidden",value:b.player2}),Object(k.jsx)("label",{htmlFor:"venue",children:"Pick venue, or leave blank to fill later"}),S.isLoading&&Object(k.jsx)("div",{children:"Loading players..."}),!S.isLoading&&Object(k.jsx)(W,{name:"venue",onChange:function(e){p({type:"selectField",fieldName:e.target.name,value:e.target.value}),w.length>0&&C("")},children:S.data.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.title},e.id)}))}),Object(k.jsx)(I,{label:"Number of starting cups",name:"gameSize",value:b.gameSize,min:6,max:6,onChange:L}),Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{children:"Has the game already been completed?"}),Object(k.jsx)("div",{className:"grid justify-center",children:Object(k.jsx)(D,{toggle:function(){p({type:"inputNumberField",fieldName:"homeCupsLeft",value:b.gameSize}),p({type:"inputNumberField",fieldName:"awayCupsLeft",value:b.gameSize}),p({type:"inputCheckbox",fieldName:"homeForfeit",checked:!1}),p({type:"inputCheckbox",fieldName:"awayForfeit",checked:!1}),v(!O)},active:O})})]}),O&&Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"font-bold text-center",children:"Home Results"}),Object(k.jsxs)("div",{children:["Name: ",null===(t=N.data[b.player1-1])||void 0===t?void 0:t.name]}),Object(k.jsx)(I,{label:"Home cups left",name:"homeCupsLeft",value:b.homeCupsLeft,min:0,max:6,onChange:L}),Object(k.jsx)(_,{label:"forfeited?",name:"homeForfeit",checked:b.homeForfeit,handleChange:T})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"font-bold text-center",children:"Away Results"}),Object(k.jsxs)("div",{children:["Name: ",null===(n=N.data[b.player2-1])||void 0===n?void 0:n.name]}),Object(k.jsx)(I,{label:"Away cups left",name:"awayCupsLeft",value:b.awayCupsLeft,min:0,max:6,onChange:L}),Object(k.jsx)(_,{label:"forfeited?",name:"awayForfeit",checked:b.awayForfeit,handleChange:T})]})]}),w.length>0&&Object(k.jsx)("p",{className:"text-negative",children:w}),Object(k.jsx)("div",{className:"pt-4",children:Object(k.jsx)(bt,{text:"Create!",type:"submit",fullWidth:!0})})]})]})]}),Object(k.jsx)("div",{className:"spacer py-8"})]})}var on=q.a.object().keys({playerName:q.a.string().required().messages({"string.base":"A name must be entered"})}),ln={playerName:""};function un(e,t){switch(t.type){case"inputField":return Object(R.a)(Object(R.a)({},e),{},Object(M.a)({},t.fieldName,t.value));default:return Object(R.a)({},e)}}function dn(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useReducer)(un,ln),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(d.b)(),j=Object(G.a)(fe,{onError:function(e){a("Could not create player, please try again later.")},onSuccess:function(e){e.error?a(e.error):u.invalidateQueries("players")}}).mutate;function b(){var e=on.validate(o);return!e.error||(a(e.error.message),!1)}var p=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b()&&j(o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsx)(tt,{maxW:"max-w-xl",children:Object(k.jsx)(et,{title:"New Player",children:Object(k.jsxs)("form",{onSubmit:p,className:"space-y-2",children:[Object(k.jsx)(H,{label:"Enter player name",name:"playerName",onChange:function(e){l({type:"inputField",fieldName:e.target.name,value:e.target.value}),n.length>0&&a("")}}),n.length>0&&Object(k.jsx)("p",{className:"text-negative",children:n}),Object(k.jsx)("div",{className:"pt-4",children:Object(k.jsx)(bt,{text:"Create!",type:"submit",fullWidth:!0,disabled:o.playerName.length<1})})]})})})]})}function jn(e){var t=e.updatePageTitle,n=Object(l.i)().playerId,a=Object(U.a)(["player",n],(function(){return $(n)})),c=a.data,s=a.isLoading;return Object(r.useEffect)((function(){t("Player: ".concat(n))}),[t,n]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsx)(tt,{maxW:"max-w-screen-md",children:Object(k.jsx)("div",{className:"p-6 space-y-4",children:n?s?"loading...":c.length>0?Object(k.jsx)(It,{playerId:n}):"This player does not exist!":"player list?"})})]})}function bn(e){var t=e.updatePageTitle,n=Object(U.a)("tournaments",oe),a=n.isLoading,c=n.error,s=n.data,o=Object(r.useMemo)((function(){var e={};return s&&s.forEach((function(t){e[t.label]?e[t.label].push(t):(e[t.label]=t.label,e[t.label]=[t])})),e}),[s]);return Object(r.useEffect)((function(){t("Records")}),[t]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{maxW:"max-w-screen-md",children:[c&&Object(k.jsx)("div",{children:"Error loading records"}),a&&Object(k.jsx)("div",{children:"loading..."}),!a&&Object(k.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(o).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(k.jsx)(pn,{recordType:n,records:r},n)}))})]}),Object(k.jsx)("div",{className:"spacer py-8"})]})}function pn(e){var t=e.records,n=e.recordType;return Object(k.jsxs)("div",{className:"flex flex-col shadow p-4 space-y-4",children:[Object(k.jsx)("h2",{className:"text-lg pb-4",children:n}),t.map((function(e,t){return Object(k.jsx)(mn,{record:e},"".concat(e.label).concat(t))}))]})}function mn(e){var t=e.record;return Object(k.jsxs)("div",{className:"flex flex-row justify-between border-b relative",children:[Object(k.jsx)(o.b,{className:"".concat(t.current&&"psudo-winner"," text-link-text underline"),to:"/players/".concat(t.player_id),children:t.name}),Object(k.jsx)("div",{children:t.value})]})}function hn(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{children:[Object(k.jsx)(et,{title:"Local browser preferences",children:Object(k.jsx)(Zt,{})}),Object(k.jsx)(et,{title:"My preferences",children:Object(k.jsx)(Ne,{})})]})]})}var xn=q.a.object().keys({username:q.a.string().trim().regex(/^[a-zA-Z0-9_]+$/).min(2).max(30).required(),password:q.a.string().trim().min(6).required()});function fn(e){var t=e.updatePageTitle,n=Object(l.g)(),a=(Object(l.h)().state||{from:{pathname:"/"}}).from,c=Ce(),s=Object(r.useState)(""),u=Object(i.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(""),p=Object(i.a)(b,2),x=p[0],f=p[1],O=Object(r.useState)(""),v=Object(i.a)(O,2),g=v[0],y=v[1],w=function(){var e=Object(h.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!C()){e.next=15;break}return r={username:d,password:x},e.prev=3,e.next=6,c.signIn(r);case 6:if(!e.sent.error){e.next=9;break}return e.abrupt("return",y("Unable to login, please double check your credentials."));case 9:n.replace(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),y("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();function C(){return void 0===xn.validate({username:d,password:x}).error||(y("Unable to login, please double check your credentials."),!1)}return Object(r.useEffect)((function(){t("Sign in")}),[t]),Object(k.jsxs)(tt,{maxW:"max-w-screen-md",children:[Object(k.jsx)("div",{className:"flex justify-center pb-4",children:Object(k.jsx)(ft,{})}),Object(k.jsx)(et,{title:Object(k.jsxs)("div",{className:"grid justify-center",children:[Object(k.jsx)(mt,{}),Object(k.jsx)("h2",{className:"text-3xl font-semibold text-primary-text py-2",children:"Sign in"})]}),children:Object(k.jsxs)("form",{children:[Object(k.jsx)(H,{label:"Username",name:"username",required:!0,value:d,onChange:function(e){return j(e.target.value)}}),Object(k.jsx)(H,{label:"Password",name:"password",type:"password",required:!0,value:x,onChange:function(e){return f(e.target.value)}}),Object(k.jsx)(o.b,{to:"/",className:"text-link-text hover:underline",children:"Forgotten password?"}),g.length>0&&Object(k.jsx)("p",{className:"text-negative",children:g}),Object(k.jsx)("div",{className:"pt-2",children:Object(k.jsx)(bt,{text:"Sign in",handleClick:w,color:"outlined",fullWidth:!0})}),Object(k.jsx)(o.b,{to:"/signup",className:"text-link-text hover:underline",children:"Or sign up here"})]})})]})}var On=q.a.object().keys({username:q.a.string().trim().regex(/^[a-zA-Z0-9_]+$/).min(2).max(30).required(),password:q.a.string().trim().min(6).required(),confirmPassword:q.a.string().trim().min(6).required()});function vn(e){var t=e.updatePageTitle,n=Object(l.g)(),a=Ce(),c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],d=s[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),p=b[0],x=b[1],f=Object(r.useState)(""),O=Object(i.a)(f,2),v=O[0],g=O[1],y=Object(r.useState)(""),w=Object(i.a)(y,2),C=w[0],N=w[1],S=Object(r.useState)(""),F=Object(i.a)(S,2),L=F[0],T=F[1],E=function(){var e=Object(h.a)(m.a.mark((function e(t){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!R()){e.next=15;break}return r={username:u,password:v},e.prev=3,e.next=6,a.signUp(r);case 6:if(void 0===(c=e.sent).error){e.next=9;break}return e.abrupt("return",T(c.error));case 9:n.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),T("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();function R(){if(v===C){var e=On.validate({username:u,password:v,confirmPassword:C});return void 0===e.error||(T(e.error.message),!1)}T("Password and Confirm password must be the same")}return Object(r.useEffect)((function(){t("Sign up")}),[t]),Object(k.jsxs)(tt,{maxW:"max-w-screen-md",children:[Object(k.jsx)("div",{className:"flex justify-center pb-4",children:Object(k.jsx)(ft,{})}),Object(k.jsx)(et,{title:Object(k.jsxs)("div",{className:"grid justify-center",children:[Object(k.jsx)(mt,{}),Object(k.jsx)("h2",{className:"text-3xl font-semibold text-primary-text py-2",children:"Sign up"})]}),children:Object(k.jsxs)("form",{children:[Object(k.jsx)(H,{label:"Username",name:"username",required:!0,value:u,onChange:function(e){return d(e.target.value)},"aria-describedby":"usernameHelp",helpText:"Username must be between 2 and 30 characters. Alphanumeric and\r underscores only."}),Object(k.jsx)(H,{label:"Email address",name:"email",type:"email",value:p,onChange:function(e){return x(e.target.value)}}),Object(k.jsx)(H,{label:"Password",name:"password",minLength:"6",type:"password",required:!0,value:v,onChange:function(e){return g(e.target.value)},"aria-describedby":"passwordHelp",helpText:"Password must be at least 6 characters."}),Object(k.jsx)(H,{label:"Confirm Password",name:"confirmPassword",minLength:"6",type:"password",required:!0,value:C,onChange:function(e){return N(e.target.value)}}),L.length>0&&Object(k.jsx)("p",{className:"text-negative",children:L}),Object(k.jsx)("div",{className:"pt-2",children:Object(k.jsx)(bt,{text:"Sign up",handleClick:E,color:"outlined",fullWidth:!0})}),Object(k.jsx)(o.b,{to:"/signin",className:"text-link-text hover:underline",children:"Or sign in here"})]})})]})}function gn(e){var t=e.updatePageTitle,n=Object(l.i)().tournamentId;return Object(r.useEffect)((function(){t("Tournament: ".concat(n))}),[t,n]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsx)(tt,{children:n?Object(k.jsx)(st,{id:n}):Object(k.jsx)(ot,{})})]})}function yn(){var e=Ce().user;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{maxW:"max-w-screen-md",children:[Object(k.jsx)("h2",{className:"text-5xl font-bold",children:"Unauthorised \u26d4"}),Object(k.jsx)("div",{children:"Unfortunately you do not have the access level in order to reach this resource."}),Object(k.jsxs)("p",{children:["You are currently signed in as"," ",Object(k.jsx)("span",{className:"bg-sec-background font-semibold px-1",children:null===e||void 0===e?void 0:e.username}),"."]}),Object(k.jsx)("p",{children:"If you think you are logged in as the correct user and should have access to this resource please ask the admin."})]})]})}function wn(e){var t=e.updatePageTitle,n=Object(l.g)(),a=Object(r.useState)({player1:"",player2:""}),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(U.a)("players",re),d=u.isLoading,j=u.error,b=u.data,p=Object(r.useState)([]),m=Object(i.a)(p,2),h=m[0],x=m[1],f=Object(r.useState)([]),O=Object(i.a)(f,2),v=O[0],g=O[1],y=Object(r.useCallback)((function(e,t){o((function(n){return Object(R.a)(Object(R.a)({},n),{},Object(M.a)({},e,t))}));var r=n.location.pathname.split("/");te(t).then((function(a){"player1"===e?Cn(t)?(g((function(e){return e.length>1?[a[0],e[1]]:[a[0]]})),n.push("".concat([r[0],r[1],t,r[3]].join("/")))):n.push("".concat([r[0],r[1]].join("/"))):Cn(t)&&(g((function(e){return[e[0],a[0]]})),n.push("".concat([r[0],r[1],r[2],t].join("/"))))}))}),[n]);return Object(r.useEffect)((function(){t("Compare player stats")}),[t]),Object(r.useEffect)((function(){var e=window.location.pathname.split("/"),t=e[2],n=e[3];d||b.length>0&&b.some((function(e){return Number(e.id)===Number(t)}))&&(y("player1",t),Cn(n)&&b.some((function(e){return Number(e.id)===Number(n)}))&&y("player2",n))}),[b,y,d]),Object(r.useEffect)((function(){var e,t;s.player1.length>0&&s.player2.length>0&&(e=s.player1,t=s.player2,e.length>0&&t.length>0&&fetch("".concat("https://pongleby.herokuapp.com","/api/v1/versus/").concat(e,"/").concat(t)).then((function(e){return e.json()})).then((function(e){x(e)})))}),[s]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{children:[Object(k.jsxs)(et,{title:"Player search",children:[j&&Object(k.jsx)("span",{children:"Error grabbing player list"}),Object(k.jsxs)("div",{className:"flex justify-around p-2",children:[Object(k.jsx)(qt,{playerNames:b,selected:s.player1,name:"player1",selectPlayer:y}),Object(k.jsx)(qt,{playerNames:b,selected:s.player2,name:"player2",selectPlayer:y,disabled:s.player1.length<1})]})]}),s.player1.length>0||s.player2.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(et,{title:"Overview",children:Object(k.jsx)(Wt,{details:v})}),Object(k.jsx)(et,{title:"Games",children:Object(k.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:h.length>0?h.map((function(e){return Object(k.jsx)(Ot,{details:e},e.id)})):Object(k.jsx)("div",{children:"No games played \u26a0"})})})]}):null]})]})}function Cn(e){return""!==e&&Number.isInteger(Number(e))}function kn(e){var t=e.updatePageTitle,n={home_name:"home player",home_id:1,homeCupsLeft:0,away_name:"away player",away_id:2,awayCupsLeft:3,event:"some event",date:"new Date()",venue:"soeme venue",notes:"notes"};return Object(r.useEffect)((function(){t("Test components page")}),[t]),Object(k.jsx)(b.Consumer,{children:function(e){var t=e.user;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ht,{}),Object(k.jsxs)(tt,{children:[Object(k.jsxs)("div",{children:["Auth check:",null===t||void 0===t?"You can log in here or search for a user!":"hi ".concat(t.username)]}),Object(k.jsxs)("div",{className:"text-center space-y-2",children:[Object(k.jsx)("div",{children:Object(k.jsx)(bt,{variant:"square",text:"square button"})}),Object(k.jsx)("div",{children:Object(k.jsx)(bt,{variant:"square",color:"outlined",text:"square button outlined"})}),Object(k.jsx)("div",{children:Object(k.jsx)(bt,{text:"regular button",color:"outlined"})}),Object(k.jsx)("div",{children:Object(k.jsx)(bt,{text:"disabled button",color:"outlined",disabled:!0})}),Object(k.jsx)("div",{children:Object(k.jsx)(bt,{text:"link as button",to:"/test",color:"outlined"})}),Object(k.jsx)("div",{children:Object(k.jsx)(bt,{text:"square link as button",to:"/test",variant:"square",color:"outlined"})})]}),Object(k.jsx)("div",{children:Object(k.jsx)(et,{title:"title of cart",children:"can take children"})}),Object(k.jsx)("div",{children:Object(k.jsx)(Ot,{details:n})}),Object(k.jsx)("div",{children:Object(k.jsx)(et,{title:"Match",children:Object(k.jsx)(Ot,{details:n})})}),Object(k.jsx)("div",{}),Object(k.jsx)(Qt,{})]})]})}})}var Nn=function(){return localStorage.getItem("tw-bp:theme")?localStorage.getItem("tw-bp:theme"):"carling"},Sn=new u.a;var Fn=function(){var e=Object(r.useState)(Nn),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],b=s[1],p=function(e){return b(e)};return Object(r.useEffect)((function(){!function(e){var t,n={"--color-primary":(t=A[e]).primary||"","--color-primary-light":t.primaryLight||"","--color-primary-active":t.primaryActive||"","--color-secondary":t.secondary||"","--color-positive":t.positive||"","--color-negative":t.negative||"","--color-primary-text":t.primaryText||"","--color-secondary-text":t.secondaryText||"","--color-input-background":t.inputBackground||"","--color-link-text":t.linkText||"","--primary-background":t.primaryBackground||"","--sec-background":t.secondaryBackground||""};if(n){var r=document.documentElement;Object.keys(n).forEach((function(e){"name"!==e&&r.style.setProperty(e,n[e])}))}}(n)}),[n]),Object(r.useEffect)((function(){document.title=u}),[u]),Object(k.jsx)(F,{theme:n,changeTheme:function(e){localStorage.setItem("tw-bp:theme",e.target.value),a(e.target.value)},children:Object(k.jsx)(N,{children:Object(k.jsxs)(d.a,{client:Sn,children:[Object(k.jsx)(Gt,{}),Object(k.jsx)(o.a,{children:Object(k.jsxs)(l.d,{children:[Object(k.jsx)(l.b,{path:"/versus/:player1Id(\\d+)?/:player2Id(\\d+)?",children:Object(k.jsx)(wn,{updatePageTitle:p})}),Object(k.jsx)(at,{path:"/player/new",minimumRole:5,children:Object(k.jsx)(dn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/player/:playerId(\\d+)?",children:Object(k.jsx)(jn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/records/",children:Object(k.jsx)(bn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/games/",exact:!0,children:Object(k.jsx)(nn,{updatePageTitle:p})}),Object(k.jsx)(at,{path:"/games/new",children:Object(k.jsx)(sn,{updatePageTitle:p})}),Object(k.jsx)(at,{path:"/games/:gameId(\\d+)",children:Object(k.jsx)(en,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/tournaments",exact:!0,children:Object(k.jsx)(gn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/tournaments/:tournamentId(\\d+)",children:Object(k.jsx)(gn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/settings",children:Object(k.jsx)(hn,{updatePageTitle:p})}),Object(k.jsx)(ct,{path:"/signin",children:Object(k.jsx)(fn,{updatePageTitle:p})}),Object(k.jsx)(ct,{path:"/signup",children:Object(k.jsx)(vn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/test",children:Object(k.jsx)(kn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/",exact:!0,children:Object(k.jsx)(rn,{updatePageTitle:p})}),Object(k.jsx)(l.b,{path:"/*",children:Object(k.jsx)($t,{updatePageTitle:p})})]})}),Object(k.jsx)(j.ReactQueryDevtools,{})]})})})};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Fn,{})}),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.2a9d97ba.chunk.js.map